var Ex=Object.defineProperty,bx=Object.defineProperties;var Cx=Object.getOwnPropertyDescriptors;var YI=Object.getOwnPropertySymbols,Dx=Object.getPrototypeOf,Tx=Object.prototype.hasOwnProperty,Sx=Object.prototype.propertyIsEnumerable,Ax=Reflect.get;var JI=(t,e,n)=>e in t?Ex(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,B=(t,e)=>{for(var n in e||={})Tx.call(e,n)&&JI(t,n,e[n]);if(YI)for(var n of YI(e))Sx.call(e,n)&&JI(t,n,e[n]);return t},_e=(t,e)=>bx(t,Cx(e));var Ur=(t,e,n)=>Ax(Dx(t),n,e);var w=(t,e,n)=>new Promise((r,i)=>{var o=u=>{try{a(n.next(u))}catch(l){i(l)}},s=u=>{try{a(n.throw(u))}catch(l){i(l)}},a=u=>u.done?r(u.value):Promise.resolve(u.value).then(o,s);a((n=n.apply(t,e)).next())});function ZI(t,e){return Object.is(t,e)}var Ye=null,Fu=!1,Lu=1,ir=Symbol("SIGNAL");function he(t){let e=Ye;return Ye=t,e}function XI(){return Ye}var Da={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Qf(t){if(Fu)throw new Error("");if(Ye===null)return;Ye.consumerOnSignalRead(t);let e=Ye.nextProducerIndex++;if(Bu(Ye),e<Ye.producerNode.length&&Ye.producerNode[e]!==t&&Ca(Ye)){let n=Ye.producerNode[e];ju(n,Ye.producerIndexOfThis[e])}Ye.producerNode[e]!==t&&(Ye.producerNode[e]=t,Ye.producerIndexOfThis[e]=Ca(Ye)?rE(t,Ye,e):0),Ye.producerLastReadVersion[e]=t.version}function Rx(){Lu++}function eE(t){if(!(Ca(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Lu)){if(!t.producerMustRecompute(t)&&!Jf(t)){t.dirty=!1,t.lastCleanEpoch=Lu;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=Lu}}function tE(t){if(t.liveConsumerNode===void 0)return;let e=Fu;Fu=!0;try{for(let n of t.liveConsumerNode)n.dirty||Mx(n)}finally{Fu=e}}function nE(){return Ye?.consumerAllowSignalWrites!==!1}function Mx(t){t.dirty=!0,tE(t),t.consumerMarkedDirty?.(t)}function Uu(t){return t&&(t.nextProducerIndex=0),he(t)}function Yf(t,e){if(he(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(Ca(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)ju(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Jf(t){Bu(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(eE(n),r!==n.version))return!0}return!1}function Zf(t){if(Bu(t),Ca(t))for(let e=0;e<t.producerNode.length;e++)ju(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function rE(t,e,n){if(iE(t),t.liveConsumerNode.length===0&&oE(t))for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=rE(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function ju(t,e){if(iE(t),t.liveConsumerNode.length===1&&oE(t))for(let r=0;r<t.producerNode.length;r++)ju(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];Bu(i),i.producerIndexOfThis[r]=e}}function Ca(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Bu(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function iE(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function oE(t){return t.producerNode!==void 0}function sE(t){let e=Object.create(xx);e.computation=t;let n=()=>{if(eE(e),Qf(e),e.value===Vu)throw e.error;return e.value};return n[ir]=e,n}var Wf=Symbol("UNSET"),Kf=Symbol("COMPUTING"),Vu=Symbol("ERRORED"),xx=_e(B({},Da),{value:Wf,dirty:!0,error:null,equal:ZI,producerMustRecompute(t){return t.value===Wf||t.value===Kf},producerRecomputeValue(t){if(t.value===Kf)throw new Error("Detected cycle in computations.");let e=t.value;t.value=Kf;let n=Uu(t),r;try{r=t.computation()}catch(i){r=Vu,t.error=i}finally{Yf(t,n)}if(e!==Wf&&e!==Vu&&r!==Vu&&t.equal(e,r)){t.value=e;return}t.value=r,t.version++}});function Nx(){throw new Error}var aE=Nx;function cE(){aE()}function uE(t){aE=t}var Px=null;function lE(t){let e=Object.create(hE);e.value=t;let n=()=>(Qf(e),e.value);return n[ir]=e,n}function Xf(t,e){nE()||cE(),t.equal(t.value,e)||(t.value=e,Ox(t))}function dE(t,e){nE()||cE(),Xf(t,e(t.value))}var hE=_e(B({},Da),{equal:ZI,value:void 0});function Ox(t){t.version++,Rx(),tE(t),Px?.()}function oe(t){return typeof t=="function"}function No(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var $u=No(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Di(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Fe=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(oe(r))try{r()}catch(o){e=o instanceof $u?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{fE(o)}catch(s){e=e??[],s instanceof $u?e=[...e,...s.errors]:e.push(s)}}if(e)throw new $u(e)}}add(e){var n;if(e&&e!==this)if(this.closed)fE(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Di(n,e)}remove(e){let{_finalizers:n}=this;n&&Di(n,e),e instanceof t&&e._removeParent(this)}};Fe.EMPTY=(()=>{let t=new Fe;return t.closed=!0,t})();var ep=Fe.EMPTY;function Hu(t){return t instanceof Fe||t&&"closed"in t&&oe(t.remove)&&oe(t.add)&&oe(t.unsubscribe)}function fE(t){oe(t)?t():t.unsubscribe()}var ln={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Po={setTimeout(t,e,...n){let{delegate:r}=Po;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Po;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function zu(t){Po.setTimeout(()=>{let{onUnhandledError:e}=ln;if(e)e(t);else throw t})}function Ta(){}var pE=tp("C",void 0,void 0);function gE(t){return tp("E",void 0,t)}function mE(t){return tp("N",t,void 0)}function tp(t,e,n){return{kind:t,value:e,error:n}}var Ti=null;function Oo(t){if(ln.useDeprecatedSynchronousErrorHandling){let e=!Ti;if(e&&(Ti={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=Ti;if(Ti=null,n)throw r}}else t()}function yE(t){ln.useDeprecatedSynchronousErrorHandling&&Ti&&(Ti.errorThrown=!0,Ti.error=t)}var Si=class extends Fe{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Hu(e)&&e.add(this)):this.destination=Lx}static create(e,n,r){return new ko(e,n,r)}next(e){this.isStopped?rp(mE(e),this):this._next(e)}error(e){this.isStopped?rp(gE(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?rp(pE,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},kx=Function.prototype.bind;function np(t,e){return kx.call(t,e)}var ip=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){qu(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){qu(r)}else qu(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){qu(n)}}},ko=class extends Si{constructor(e,n,r){super();let i;if(oe(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&ln.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&np(e.next,o),error:e.error&&np(e.error,o),complete:e.complete&&np(e.complete,o)}):i=e}this.destination=new ip(i)}};function qu(t){ln.useDeprecatedSynchronousErrorHandling?yE(t):zu(t)}function Fx(t){throw t}function rp(t,e){let{onStoppedNotification:n}=ln;n&&Po.setTimeout(()=>n(t,e))}var Lx={closed:!0,next:Ta,error:Fx,complete:Ta};var Fo=typeof Symbol=="function"&&Symbol.observable||"@@observable";function $t(t){return t}function op(...t){return sp(t)}function sp(t){return t.length===0?$t:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var ue=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=Ux(n)?n:new ko(n,r,i);return Oo(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=vE(r),new r((i,o)=>{let s=new ko({next:a=>{try{n(a)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Fo](){return this}pipe(...n){return sp(n)(this)}toPromise(n){return n=vE(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function vE(t){var e;return(e=t??ln.Promise)!==null&&e!==void 0?e:Promise}function Vx(t){return t&&oe(t.next)&&oe(t.error)&&oe(t.complete)}function Ux(t){return t&&t instanceof Si||Vx(t)&&Hu(t)}function ap(t){return oe(t?.lift)}function we(t){return e=>{if(ap(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function me(t,e,n,r,i){return new cp(t,e,n,r,i)}var cp=class extends Si{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Lo(){return we((t,e)=>{let n=null;t._refCount++;let r=me(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var Vo=class extends ue{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,ap(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Fe;let n=this.getSubject();e.add(this.source.subscribe(me(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Fe.EMPTY)}return e}refCount(){return Lo()(this)}};var _E=No(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var rt=(()=>{class t extends ue{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Gu(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new _E}next(n){Oo(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Oo(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Oo(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?ep:(this.currentObservers=null,o.push(n),new Fe(()=>{this.currentObservers=null,Di(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new ue;return n.source=this,n}}return t.create=(e,n)=>new Gu(e,n),t})(),Gu=class extends rt{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:ep}};var ct=class extends rt{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var up={now(){return(up.delegate||Date).now()},delegate:void 0};var Wu=class extends Fe{constructor(e,n){super()}schedule(e,n=0){return this}};var Sa={setInterval(t,e,...n){let{delegate:r}=Sa;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=Sa;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var Uo=class extends Wu{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return Sa.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&Sa.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Di(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var jo=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};jo.now=up.now;var Bo=class extends jo{constructor(e,n=jo.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var lp=new Bo(Uo);var Ku=class extends Uo{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var Qu=class extends Bo{};var dp=new Qu(Ku);var Ht=new ue(t=>t.complete());function wE(t){return t&&oe(t.schedule)}function IE(t){return t[t.length-1]}function Yu(t){return oe(IE(t))?t.pop():void 0}function jr(t){return wE(IE(t))?t.pop():void 0}function hp(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function bE(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(h){try{l(r.next(h))}catch(p){s(p)}}function u(h){try{l(r.throw(h))}catch(p){s(p)}}function l(h){h.done?o(h.value):i(h.value).then(a,u)}l((r=r.apply(t,e||[])).next())})}function EE(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ai(t){return this instanceof Ai?(this.v=t,this):new Ai(t)}function CE(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i={},a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(y){return function(C){return Promise.resolve(C).then(y,p)}}function a(y,C){r[y]&&(i[y]=function(M){return new Promise(function(S,O){o.push([y,M,S,O])>1||u(y,M)})},C&&(i[y]=C(i[y])))}function u(y,C){try{l(r[y](C))}catch(M){m(o[0][3],M)}}function l(y){y.value instanceof Ai?Promise.resolve(y.value.v).then(h,p):m(o[0][2],y)}function h(y){u("next",y)}function p(y){u("throw",y)}function m(y,C){y(C),o.shift(),o.length&&u(o[0][0],o[0][1])}}function DE(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof EE=="function"?EE(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,u){s=t[o](s),i(a,u,s.done,s.value)})}}function i(o,s,a,u){Promise.resolve(u).then(function(l){o({value:l,done:a})},s)}}var Ju=t=>t&&typeof t.length=="number"&&typeof t!="function";function Zu(t){return oe(t?.then)}function Xu(t){return oe(t[Fo])}function el(t){return Symbol.asyncIterator&&oe(t?.[Symbol.asyncIterator])}function tl(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function jx(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var nl=jx();function rl(t){return oe(t?.[nl])}function il(t){return CE(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield Ai(n.read());if(i)return yield Ai(void 0);yield yield Ai(r)}}finally{n.releaseLock()}})}function ol(t){return oe(t?.getReader)}function ze(t){if(t instanceof ue)return t;if(t!=null){if(Xu(t))return Bx(t);if(Ju(t))return $x(t);if(Zu(t))return Hx(t);if(el(t))return TE(t);if(rl(t))return zx(t);if(ol(t))return qx(t)}throw tl(t)}function Bx(t){return new ue(e=>{let n=t[Fo]();if(oe(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function $x(t){return new ue(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function Hx(t){return new ue(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,zu)})}function zx(t){return new ue(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function TE(t){return new ue(e=>{Gx(t,e).catch(n=>e.error(n))})}function qx(t){return TE(il(t))}function Gx(t,e){var n,r,i,o;return bE(this,void 0,void 0,function*(){try{for(n=DE(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function Pt(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function Br(t,e=0){return we((n,r)=>{n.subscribe(me(r,i=>Pt(r,t,()=>r.next(i),e),()=>Pt(r,t,()=>r.complete(),e),i=>Pt(r,t,()=>r.error(i),e)))})}function $r(t,e=0){return we((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function SE(t,e){return ze(t).pipe($r(e),Br(e))}function AE(t,e){return ze(t).pipe($r(e),Br(e))}function RE(t,e){return new ue(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function ME(t,e){return new ue(n=>{let r;return Pt(n,e,()=>{r=t[nl](),Pt(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>oe(r?.return)&&r.return()})}function sl(t,e){if(!t)throw new Error("Iterable cannot be null");return new ue(n=>{Pt(n,e,()=>{let r=t[Symbol.asyncIterator]();Pt(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function xE(t,e){return sl(il(t),e)}function NE(t,e){if(t!=null){if(Xu(t))return SE(t,e);if(Ju(t))return RE(t,e);if(Zu(t))return AE(t,e);if(el(t))return sl(t,e);if(rl(t))return ME(t,e);if(ol(t))return xE(t,e)}throw tl(t)}function Se(t,e){return e?NE(t,e):ze(t)}function Q(...t){let e=jr(t);return Se(t,e)}function $o(t,e){let n=oe(t)?t:()=>t,r=i=>i.error(n());return new ue(e?i=>e.schedule(r,0,i):r)}function fp(t){return!!t&&(t instanceof ue||oe(t.lift)&&oe(t.subscribe))}var or=No(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function te(t,e){return we((n,r)=>{let i=0;n.subscribe(me(r,o=>{r.next(t.call(e,o,i++))}))})}var{isArray:Wx}=Array;function Kx(t,e){return Wx(e)?t(...e):t(e)}function al(t){return te(e=>Kx(t,e))}var{isArray:Qx}=Array,{getPrototypeOf:Yx,prototype:Jx,keys:Zx}=Object;function cl(t){if(t.length===1){let e=t[0];if(Qx(e))return{args:e,keys:null};if(Xx(e)){let n=Zx(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function Xx(t){return t&&typeof t=="object"&&Yx(t)===Jx}function ul(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function ll(...t){let e=jr(t),n=Yu(t),{args:r,keys:i}=cl(t);if(r.length===0)return Se([],e);let o=new ue(eN(r,e,i?s=>ul(i,s):$t));return n?o.pipe(al(n)):o}function eN(t,e,n=$t){return r=>{PE(e,()=>{let{length:i}=t,o=new Array(i),s=i,a=i;for(let u=0;u<i;u++)PE(e,()=>{let l=Se(t[u],e),h=!1;l.subscribe(me(r,p=>{o[u]=p,h||(h=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function PE(t,e,n){t?Pt(n,t,e):e()}function OE(t,e,n,r,i,o,s,a){let u=[],l=0,h=0,p=!1,m=()=>{p&&!u.length&&!l&&e.complete()},y=M=>l<r?C(M):u.push(M),C=M=>{o&&e.next(M),l++;let S=!1;ze(n(M,h++)).subscribe(me(e,O=>{i?.(O),o?y(O):e.next(O)},()=>{S=!0},void 0,()=>{if(S)try{for(l--;u.length&&l<r;){let O=u.shift();s?Pt(e,s,()=>C(O)):C(O)}m()}catch(O){e.error(O)}}))};return t.subscribe(me(e,y,()=>{p=!0,m()})),()=>{a?.()}}function Je(t,e,n=1/0){return oe(e)?Je((r,i)=>te((o,s)=>e(r,o,i,s))(ze(t(r,i))),n):(typeof e=="number"&&(n=e),we((r,i)=>OE(r,i,t,n)))}function pp(t=1/0){return Je($t,t)}function kE(){return pp(1)}function Ho(...t){return kE()(Se(t,jr(t)))}function dl(t){return new ue(e=>{ze(t()).subscribe(e)})}function gp(...t){let e=Yu(t),{args:n,keys:r}=cl(t),i=new ue(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),u=s,l=s;for(let h=0;h<s;h++){let p=!1;ze(n[h]).subscribe(me(o,m=>{p||(p=!0,l--),a[h]=m},()=>u--,void 0,()=>{(!u||!p)&&(l||o.next(r?ul(r,a):a),o.complete())}))}});return e?i.pipe(al(e)):i}function zt(t,e){return we((n,r)=>{let i=0;n.subscribe(me(r,o=>t.call(e,o,i++)&&r.next(o)))})}function qt(t){return we((e,n)=>{let r=null,i=!1,o;r=e.subscribe(me(n,void 0,void 0,s=>{o=ze(t(s,qt(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function FE(t,e,n,r,i){return(o,s)=>{let a=n,u=e,l=0;o.subscribe(me(s,h=>{let p=l++;u=a?t(u,h,p):(a=!0,h),r&&s.next(u)},i&&(()=>{a&&s.next(u),s.complete()})))}}function Hr(t,e){return oe(e)?Je(t,e,1):Je(t,1)}function zr(t){return we((e,n)=>{let r=!1;e.subscribe(me(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function sr(t){return t<=0?()=>Ht:we((e,n)=>{let r=0;e.subscribe(me(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function mp(t){return te(()=>t)}function hl(t=tN){return we((e,n)=>{let r=!1;e.subscribe(me(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function tN(){return new or}function Ri(t){return we((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function Sn(t,e){let n=arguments.length>=2;return r=>r.pipe(t?zt((i,o)=>t(i,o,r)):$t,sr(1),n?zr(e):hl(()=>new or))}function zo(t){return t<=0?()=>Ht:we((e,n)=>{let r=[];e.subscribe(me(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function yp(t,e){let n=arguments.length>=2;return r=>r.pipe(t?zt((i,o)=>t(i,o,r)):$t,zo(1),n?zr(e):hl(()=>new or))}function vp(t,e){return we(FE(t,e,arguments.length>=2,!0))}function _p(...t){let e=jr(t);return we((n,r)=>{(e?Ho(t,n,e):Ho(t,n)).subscribe(r)})}function Gt(t,e){return we((n,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();n.subscribe(me(r,u=>{i?.unsubscribe();let l=0,h=o++;ze(t(u,h)).subscribe(i=me(r,p=>r.next(e?e(u,p,h,l++):p),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function wp(t){return we((e,n)=>{ze(t).subscribe(me(n,()=>n.complete(),Ta)),!n.closed&&e.subscribe(n)})}function qe(t,e,n){let r=oe(t)||e||n?{next:t,error:e,complete:n}:t;return r?we((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(me(o,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),o.next(u)},()=>{var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,u),o.error(u)},()=>{var u,l;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):$t}var I0="https://g.co/ng/security#xss",G=class extends Error{constructor(e,n){super(zl(e,n)),this.code=e}};function zl(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function $a(t){return{toString:t}.toString()}var fl="__parameters__";function nN(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function rN(t,e,n){return $a(()=>{let r=nN(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(u,l,h){let p=u.hasOwnProperty(fl)?u[fl]:Object.defineProperty(u,fl,{value:[]})[fl];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(s),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var ar=globalThis;function xe(t){for(let e in t)if(t[e]===xe)return e;throw Error("Could not find renamed property on target object.")}function iN(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function kt(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(kt).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function LE(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var oN=xe({__forward_ref__:xe});function dr(t){return t.__forward_ref__=dr,t.toString=function(){return kt(this())},t}function At(t){return E0(t)?t():t}function E0(t){return typeof t=="function"&&t.hasOwnProperty(oN)&&t.__forward_ref__===dr}function q(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Jr(t){return{providers:t.providers||[],imports:t.imports||[]}}function ql(t){return VE(t,C0)||VE(t,D0)}function b0(t){return ql(t)!==null}function VE(t,e){return t.hasOwnProperty(e)?t[e]:null}function sN(t){let e=t&&(t[C0]||t[D0]);return e||null}function UE(t){return t&&(t.hasOwnProperty(jE)||t.hasOwnProperty(aN))?t[jE]:null}var C0=xe({\u0275prov:xe}),jE=xe({\u0275inj:xe}),D0=xe({ngInjectableDef:xe}),aN=xe({ngInjectorDef:xe}),H=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=q({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function T0(t){return t&&!!t.\u0275providers}var cN=xe({\u0275cmp:xe}),uN=xe({\u0275dir:xe}),lN=xe({\u0275pipe:xe}),dN=xe({\u0275mod:xe}),El=xe({\u0275fac:xe}),Aa=xe({__NG_ELEMENT_ID__:xe}),BE=xe({__NG_ENV_ID__:xe});function Gl(t){return typeof t=="string"?t:t==null?"":String(t)}function hN(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Gl(t)}function fN(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new G(-200,t)}function Dg(t,e){throw new G(-201,!1)}var le=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(le||{}),Lp;function S0(){return Lp}function Ot(t){let e=Lp;return Lp=t,e}function A0(t,e,n){let r=ql(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&le.Optional)return null;if(e!==void 0)return e;Dg(t,"Injector")}var pN={},Ra=pN,Vp="__NG_DI_FLAG__",bl="ngTempTokenPath",gN="ngTokenPath",mN=/\n/gm,yN="\u0275",$E="__source",Ko;function vN(){return Ko}function qr(t){let e=Ko;return Ko=t,e}function _N(t,e=le.Default){if(Ko===void 0)throw new G(-203,!1);return Ko===null?A0(t,void 0,e):Ko.get(t,e&le.Optional?null:void 0,e)}function X(t,e=le.Default){return(S0()||_N)(At(t),e)}function P(t,e=le.Default){return X(t,Wl(e))}function Wl(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Up(t){let e=[];for(let n=0;n<t.length;n++){let r=At(t[n]);if(Array.isArray(r)){if(r.length===0)throw new G(900,!1);let i,o=le.Default;for(let s=0;s<r.length;s++){let a=r[s],u=IN(a);typeof u=="number"?u===-1?i=a.token:o|=u:i=a}e.push(X(i,o))}else e.push(X(r))}return e}function wN(t,e){return t[Vp]=e,t.prototype[Vp]=e,t}function IN(t){return t[Vp]}function EN(t,e,n,r){let i=t[bl];throw e[$E]&&i.unshift(e[$E]),t.message=bN(`
`+t.message,i,n,r),t[gN]=i,t[bl]=null,t}function bN(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==yN?t.slice(2):t;let i=kt(e);if(Array.isArray(e))i=e.map(kt).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):kt(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(mN,`
  `)}`}var Ze=wN(rN("Optional"),8);function Pi(t,e){let n=t.hasOwnProperty(El);return n?t[El]:null}function Tg(t,e){t.forEach(n=>Array.isArray(n)?Tg(n,e):e(n))}function R0(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Cl(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function CN(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=n,t[e+1]=r}}function DN(t,e,n){let r=Ha(t,e);return r>=0?t[r|1]=n:(r=~r,CN(t,r,e,n)),r}function Ip(t,e){let n=Ha(t,e);if(n>=0)return t[n|1]}function Ha(t,e){return TN(t,e,1)}function TN(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}var Yo={},Xt=[],Jo=new H(""),M0=new H("",-1),x0=new H(""),Dl=class{get(e,n=Ra){if(n===Ra){let r=new Error(`NullInjectorError: No provider for ${kt(e)}!`);throw r.name="NullInjectorError",r}return n}},N0=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(N0||{}),Mn=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Mn||{}),Kr=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Kr||{});function SN(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}function jp(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{let o=i,s=n[++r];AN(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function P0(t){return t===3||t===4||t===6}function AN(t){return t.charCodeAt(0)===64}function Ma(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?HE(t,n,i,null,e[++r]):HE(t,n,i,null,null))}}return t}function HE(t,e,n,r,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[o+1]=i);return}else if(r===t[o+1]){t[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),r!==null&&t.splice(o++,0,r),i!==null&&t.splice(o++,0,i)}var O0="ng-template";function RN(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&SN(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(Sg(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function Sg(t){return t.type===4&&t.value!==O0}function MN(t,e,n){let r=t.type===4&&!n?O0:t.value;return e===r}function xN(t,e,n){let r=4,i=t.attrs,o=i!==null?ON(i):0,s=!1;for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number"){if(!s&&!dn(r)&&!dn(u))return!1;if(s&&dn(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!MN(t,u,n)||u===""&&e.length===1){if(dn(r))return!1;s=!0}}else if(r&8){if(i===null||!RN(t,i,u,n)){if(dn(r))return!1;s=!0}}else{let l=e[++a],h=NN(u,i,Sg(t),n);if(h===-1){if(dn(r))return!1;s=!0;continue}if(l!==""){let p;if(h>o?p="":p=i[h+1].toLowerCase(),r&2&&l!==p){if(dn(r))return!1;s=!0}}}}return dn(r)||s}function dn(t){return(t&1)===0}function NN(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let s=e[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return kN(e,t)}function PN(t,e,n=!1){for(let r=0;r<e.length;r++)if(xN(t,e[r],n))return!0;return!1}function ON(t){for(let e=0;e<t.length;e++){let n=t[e];if(P0(n))return e}return t.length}function kN(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function zE(t,e){return t?":not("+e.trim()+")":e}function FN(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!dn(s)&&(e+=zE(o,i),i=""),r=s,o=o||!dn(r);n++}return i!==""&&(e+=zE(o,i)),e}function LN(t){return t.map(FN).join(",")}function VN(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!dn(i))break;i=o}r++}return{attrs:e,classes:n}}function Ae(t){return $a(()=>{let e=j0(t),n=_e(B({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===N0.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Mn.Emulated,styles:t.styles||Xt,_:null,schemas:t.schemas||null,tView:null,id:""});B0(n);let r=t.dependencies;return n.directiveDefs=GE(r,!1),n.pipeDefs=GE(r,!0),n.id=BN(n),n})}function UN(t){return Oi(t)||F0(t)}function jN(t){return t!==null}function Zr(t){return $a(()=>({type:t.type,bootstrap:t.bootstrap||Xt,declarations:t.declarations||Xt,imports:t.imports||Xt,exports:t.exports||Xt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function qE(t,e){if(t==null)return Yo;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,a=Kr.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),e?(n[o]=a!==Kr.None?[r,a]:r,e[o]=s):n[o]=r}return n}function Xe(t){return $a(()=>{let e=j0(t);return B0(e),e})}function k0(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone===!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function Oi(t){return t[cN]||null}function F0(t){return t[uN]||null}function L0(t){return t[lN]||null}function V0(t){let e=Oi(t)||F0(t)||L0(t);return e!==null?e.standalone:!1}function U0(t,e){let n=t[dN]||null;if(!n&&e===!0)throw new Error(`Type ${kt(t)} does not have '\u0275mod' property.`);return n}function j0(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Yo,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||Xt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:qE(t.inputs,e),outputs:qE(t.outputs),debugInfo:null}}function B0(t){t.features?.forEach(e=>e(t))}function GE(t,e){if(!t)return null;let n=e?L0:UN;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(jN)}function BN(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function Vt(t){return{\u0275providers:t}}function $N(...t){return{\u0275providers:$0(!0,t),\u0275fromNgModule:!0}}function $0(t,...e){let n=[],r=new Set,i,o=s=>{n.push(s)};return Tg(e,s=>{let a=s;Bp(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&H0(i,o),n}function H0(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];Ag(i,o=>{e(o,r)})}}function Bp(t,e,n,r){if(t=At(t),!t)return!1;let i=null,o=UE(t),s=!o&&Oi(t);if(!o&&!s){let u=t.ngModule;if(o=UE(u),o)i=u;else return!1}else{if(s&&!s.standalone)return!1;i=t}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of u)Bp(l,e,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{Tg(o.imports,h=>{Bp(h,e,n,r)&&(l||=[],l.push(h))})}finally{}l!==void 0&&H0(l,e)}if(!a){let l=Pi(i)||(()=>new i);e({provide:i,useFactory:l,deps:Xt},i),e({provide:x0,useValue:i,multi:!0},i),e({provide:Jo,useValue:()=>X(i),multi:!0},i)}let u=o.providers;if(u!=null&&!a){let l=t;Ag(u,h=>{e(h,l)})}}else return!1;return i!==t&&t.providers!==void 0}function Ag(t,e){for(let n of t)T0(n)&&(n=n.\u0275providers),Array.isArray(n)?Ag(n,e):e(n)}var HN=xe({provide:String,useValue:xe});function z0(t){return t!==null&&typeof t=="object"&&HN in t}function zN(t){return!!(t&&t.useExisting)}function qN(t){return!!(t&&t.useFactory)}function Zo(t){return typeof t=="function"}function GN(t){return!!t.useClass}var Kl=new H(""),yl={},WN={},Ep;function Rg(){return Ep===void 0&&(Ep=new Dl),Ep}var Ft=class{},xa=class extends Ft{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Hp(e,s=>this.processProvider(s)),this.records.set(M0,qo(void 0,this)),i.has("environment")&&this.records.set(Ft,qo(void 0,this));let o=this.records.get(Kl);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(x0,Xt,le.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=he(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),he(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=qr(this),r=Ot(void 0),i;try{return e()}finally{qr(n),Ot(r)}}get(e,n=Ra,r=le.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(BE))return e[BE](this);r=Wl(r);let i,o=qr(this),s=Ot(void 0);try{if(!(r&le.SkipSelf)){let u=this.records.get(e);if(u===void 0){let l=ZN(e)&&ql(e);l&&this.injectableDefInScope(l)?u=qo($p(e),yl):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u)}let a=r&le.Self?Rg():this.parent;return n=r&le.Optional&&n===Ra?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[bl]=a[bl]||[]).unshift(kt(e)),o)throw a;return EN(a,e,"R3InjectorError",this.source)}else throw a}finally{Ot(s),qr(o)}}resolveInjectorInitializers(){let e=he(null),n=qr(this),r=Ot(void 0),i;try{let o=this.get(Jo,Xt,le.Self);for(let s of o)s()}finally{qr(n),Ot(r),he(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(kt(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new G(205,!1)}processProvider(e){e=At(e);let n=Zo(e)?e:At(e&&e.provide),r=QN(e);if(!Zo(e)&&e.multi===!0){let i=this.records.get(n);i||(i=qo(void 0,yl,!0),i.factory=()=>Up(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=he(null);try{return n.value===yl&&(n.value=WN,n.value=n.factory()),typeof n.value=="object"&&n.value&&JN(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{he(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=At(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function $p(t){let e=ql(t),n=e!==null?e.factory:Pi(t);if(n!==null)return n;if(t instanceof H)throw new G(204,!1);if(t instanceof Function)return KN(t);throw new G(204,!1)}function KN(t){if(t.length>0)throw new G(204,!1);let n=sN(t);return n!==null?()=>n.factory(t):()=>new t}function QN(t){if(z0(t))return qo(void 0,t.useValue);{let e=q0(t);return qo(e,yl)}}function q0(t,e,n){let r;if(Zo(t)){let i=At(t);return Pi(i)||$p(i)}else if(z0(t))r=()=>At(t.useValue);else if(qN(t))r=()=>t.useFactory(...Up(t.deps||[]));else if(zN(t))r=()=>X(At(t.useExisting));else{let i=At(t&&(t.useClass||t.provide));if(YN(t))r=()=>new i(...Up(t.deps));else return Pi(i)||$p(i)}return r}function qo(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function YN(t){return!!t.deps}function JN(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function ZN(t){return typeof t=="function"||typeof t=="object"&&t instanceof H}function Hp(t,e){for(let n of t)Array.isArray(n)?Hp(n,e):n&&T0(n)?Hp(n.\u0275providers,e):e(n)}function pn(t,e){t instanceof xa&&t.assertNotDestroyed();let n,r=qr(t),i=Ot(void 0);try{return e()}finally{qr(r),Ot(i)}}function XN(){return S0()!==void 0||vN()!=null}function eP(t){return typeof t=="function"}var hr=0,ae=1,ne=2,Mt=3,hn=4,gn=5,Na=6,Tl=7,wt=8,Xo=9,xn=10,We=11,Pa=12,WE=13,cs=14,fn=15,es=16,Go=17,ts=18,Ql=19,G0=20,Gr=21,bp=22,en=23,Lt=25,W0=1;var ki=7,Sl=8,Al=9,Rt=10,Rl=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(Rl||{});function Wr(t){return Array.isArray(t)&&typeof t[W0]=="object"}function fr(t){return Array.isArray(t)&&t[W0]===!0}function K0(t){return(t.flags&4)!==0}function Yl(t){return t.componentOffset>-1}function Mg(t){return(t.flags&1)===1}function Qr(t){return!!t.template}function zp(t){return(t[ne]&512)!==0}var qp=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function Q0(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function Bi(){return Y0}function Y0(t){return t.type.prototype.ngOnChanges&&(t.setInput=nP),tP}Bi.ngInherit=!0;function tP(){let t=Z0(this),e=t?.current;if(e){let n=t.previous;if(n===Yo)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function nP(t,e,n,r,i){let o=this.declaredInputs[r],s=Z0(t)||rP(t,{previous:Yo,current:null}),a=s.current||(s.current={}),u=s.previous,l=u[o];a[o]=new qp(l&&l.currentValue,n,u===Yo),Q0(t,e,i,n)}var J0="__ngSimpleChanges__";function Z0(t){return t[J0]||null}function rP(t,e){return t[J0]=e}var KE=null;var An=function(t,e,n){KE?.(t,e,n)},iP="svg",oP="math";function Nn(t){for(;Array.isArray(t);)t=t[hr];return t}function X0(t,e){return Nn(e[t])}function tn(t,e){return Nn(e[t.index])}function xg(t,e){return t.data[e]}function eb(t,e){return t[e]}function Xr(t,e){let n=e[t];return Wr(n)?n:n[hr]}function Ng(t){return(t[ne]&128)===128}function sP(t){return fr(t[Mt])}function ns(t,e){return e==null?null:t[e]}function tb(t){t[Go]=0}function nb(t){t[ne]&1024||(t[ne]|=1024,Ng(t)&&Jl(t))}function aP(t,e){for(;t>0;)e=e[cs],t--;return e}function Oa(t){return!!(t[ne]&9216||t[en]?.dirty)}function Gp(t){t[xn].changeDetectionScheduler?.notify(7),t[ne]&64&&(t[ne]|=1024),Oa(t)&&Jl(t)}function Jl(t){t[xn].changeDetectionScheduler?.notify(0);let e=Fi(t);for(;e!==null&&!(e[ne]&8192||(e[ne]|=8192,!Ng(e)));)e=Fi(e)}function rb(t,e){if((t[ne]&256)===256)throw new G(911,!1);t[Gr]===null&&(t[Gr]=[]),t[Gr].push(e)}function cP(t,e){if(t[Gr]===null)return;let n=t[Gr].indexOf(e);n!==-1&&t[Gr].splice(n,1)}function Fi(t){let e=t[Mt];return fr(e)?e[Mt]:e}var fe={lFrame:hb(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var ib=!1;function uP(){return fe.lFrame.elementDepthCount}function lP(){fe.lFrame.elementDepthCount++}function dP(){fe.lFrame.elementDepthCount--}function ob(){return fe.bindingsEnabled}function hP(){return fe.skipHydrationRootTNode!==null}function fP(t){return fe.skipHydrationRootTNode===t}function pP(){fe.skipHydrationRootTNode=null}function Ee(){return fe.lFrame.lView}function Et(){return fe.lFrame.tView}function mn(t){return fe.lFrame.contextLView=t,t[wt]}function yn(t){return fe.lFrame.contextLView=null,t}function Ut(){let t=sb();for(;t!==null&&t.type===64;)t=t.parent;return t}function sb(){return fe.lFrame.currentTNode}function gP(){let t=fe.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function za(t,e){let n=fe.lFrame;n.currentTNode=t,n.isParent=e}function ab(){return fe.lFrame.isParent}function mP(){fe.lFrame.isParent=!1}function cb(){return ib}function QE(t){ib=t}function Pg(){let t=fe.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function yP(t){return fe.lFrame.bindingIndex=t}function us(){return fe.lFrame.bindingIndex++}function vP(t){let e=fe.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function _P(){return fe.lFrame.inI18n}function wP(t,e){let n=fe.lFrame;n.bindingIndex=n.bindingRootIndex=t,Wp(e)}function IP(){return fe.lFrame.currentDirectiveIndex}function Wp(t){fe.lFrame.currentDirectiveIndex=t}function EP(t){let e=fe.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function ub(t){fe.lFrame.currentQueryIndex=t}function bP(t){let e=t[ae];return e.type===2?e.declTNode:e.type===1?t[gn]:null}function lb(t,e,n){if(n&le.SkipSelf){let i=e,o=t;for(;i=i.parent,i===null&&!(n&le.Host);)if(i=bP(o),i===null||(o=o[cs],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=fe.lFrame=db();return r.currentTNode=e,r.lView=t,!0}function Og(t){let e=db(),n=t[ae];fe.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function db(){let t=fe.lFrame,e=t===null?null:t.child;return e===null?hb(t):e}function hb(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function fb(){let t=fe.lFrame;return fe.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var pb=fb;function kg(){let t=fb();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function CP(t){return(fe.lFrame.contextLView=aP(t,fe.lFrame.contextLView))[wt]}function $i(){return fe.lFrame.selectedIndex}function Li(t){fe.lFrame.selectedIndex=t}function Zl(){let t=fe.lFrame;return xg(t.tView,t.selectedIndex)}function DP(){return fe.lFrame.currentNamespace}var gb=!0;function Fg(){return gb}function Lg(t){gb=t}function TP(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=Y0(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function Vg(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:h}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),u&&(t.viewHooks??=[]).push(-n,u),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),h!=null&&(t.destroyHooks??=[]).push(n,h)}}function vl(t,e,n){mb(t,e,3,n)}function _l(t,e,n,r){(t[ne]&3)===n&&mb(t,e,n,r)}function Cp(t,e){let n=t[ne];(n&3)===e&&(n&=16383,n+=1,t[ne]=n)}function mb(t,e,n,r){let i=r!==void 0?t[Go]&65535:0,o=r??-1,s=e.length-1,a=0;for(let u=i;u<s;u++)if(typeof e[u+1]=="number"){if(a=e[u],r!=null&&a>=r)break}else e[u]<0&&(t[Go]+=65536),(a<o||o==-1)&&(SP(t,n,e,u),t[Go]=(t[Go]&4294901760)+u+2),u++}function YE(t,e){An(4,t,e);let n=he(null);try{e.call(t)}finally{he(n),An(5,t,e)}}function SP(t,e,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=t[s];i?t[ne]>>14<t[Go]>>16&&(t[ne]&3)===e&&(t[ne]+=16384,YE(a,o)):YE(a,o)}var Qo=-1,Vi=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function AP(t){return t instanceof Vi}function RP(t){return(t.flags&8)!==0}function MP(t){return(t.flags&16)!==0}var Dp={},Kp=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Wl(r);let i=this.injector.get(e,Dp,r);return i!==Dp||n===Dp?i:this.parentInjector.get(e,n,r)}};function yb(t){return t!==Qo}function Ml(t){return t&32767}function xP(t){return t>>16}function xl(t,e){let n=xP(t),r=e;for(;n>0;)r=r[cs],n--;return r}var Qp=!0;function Nl(t){let e=Qp;return Qp=t,e}var NP=256,vb=NP-1,_b=5,PP=0,Rn={};function OP(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Aa)&&(r=n[Aa]),r==null&&(r=n[Aa]=PP++);let i=r&vb,o=1<<i;e.data[t+(i>>_b)]|=o}function Pl(t,e){let n=wb(t,e);if(n!==-1)return n;let r=e[ae];r.firstCreatePass&&(t.injectorIndex=e.length,Tp(r.data,t),Tp(e,null),Tp(r.blueprint,null));let i=Ug(t,e),o=t.injectorIndex;if(yb(i)){let s=Ml(i),a=xl(i,e),u=a[ae].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|u[s+l]}return e[o+8]=i,o}function Tp(t,e){t.push(0,0,0,0,0,0,0,0,e)}function wb(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function Ug(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=Db(i),r===null)return Qo;if(n++,i=i[cs],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Qo}function Yp(t,e,n){OP(t,e,n)}function kP(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let o=n[i];if(P0(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(o===e)return n[i+1];i=i+2}}}return null}function Ib(t,e,n){if(n&le.Optional||t!==void 0)return t;Dg(e,"NodeInjector")}function Eb(t,e,n,r){if(n&le.Optional&&r===void 0&&(r=null),!(n&(le.Self|le.Host))){let i=t[Xo],o=Ot(void 0);try{return i?i.get(e,r,n&le.Optional):A0(e,r,n&le.Optional)}finally{Ot(o)}}return Ib(r,e,n)}function bb(t,e,n,r=le.Default,i){if(t!==null){if(e[ne]&2048&&!(r&le.Self)){let s=jP(t,e,n,r,Rn);if(s!==Rn)return s}let o=Cb(t,e,n,r,Rn);if(o!==Rn)return o}return Eb(e,n,r,i)}function Cb(t,e,n,r,i){let o=VP(n);if(typeof o=="function"){if(!lb(e,t,r))return r&le.Host?Ib(i,n,r):Eb(e,n,r,i);try{let s;if(s=o(r),s==null&&!(r&le.Optional))Dg(n);else return s}finally{pb()}}else if(typeof o=="number"){let s=null,a=wb(t,e),u=Qo,l=r&le.Host?e[fn][gn]:null;for((a===-1||r&le.SkipSelf)&&(u=a===-1?Ug(t,e):e[a+8],u===Qo||!ZE(r,!1)?a=-1:(s=e[ae],a=Ml(u),e=xl(u,e)));a!==-1;){let h=e[ae];if(JE(o,a,h.data)){let p=FP(a,e,n,s,r,l);if(p!==Rn)return p}u=e[a+8],u!==Qo&&ZE(r,e[ae].data[a+8]===l)&&JE(o,a,e)?(s=h,a=Ml(u),e=xl(u,e)):a=-1}}return i}function FP(t,e,n,r,i,o){let s=e[ae],a=s.data[t+8],u=r==null?Yl(a)&&Qp:r!=s&&(a.type&3)!==0,l=i&le.Host&&o===a,h=LP(a,s,n,u,l);return h!==null?rs(e,s,h,a):Rn}function LP(t,e,n,r,i){let o=t.providerIndexes,s=e.data,a=o&1048575,u=t.directiveStart,l=t.directiveEnd,h=o>>20,p=r?a:a+h,m=i?a+h:l;for(let y=p;y<m;y++){let C=s[y];if(y<u&&n===C||y>=u&&C.type===n)return y}if(i){let y=s[u];if(y&&Qr(y)&&y.type===n)return u}return null}function rs(t,e,n,r){let i=t[n],o=e.data;if(AP(i)){let s=i;s.resolving&&fN(hN(o[n]));let a=Nl(s.canSeeViewProviders);s.resolving=!0;let u,l=s.injectImpl?Ot(s.injectImpl):null,h=lb(t,r,le.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&TP(n,o[n],e)}finally{l!==null&&Ot(l),Nl(a),s.resolving=!1,pb()}}return i}function VP(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Aa)?t[Aa]:void 0;return typeof e=="number"?e>=0?e&vb:UP:e}function JE(t,e,n){let r=1<<t;return!!(n[e+(t>>_b)]&r)}function ZE(t,e){return!(t&le.Self)&&!(t&le.Host&&e)}var Ni=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return bb(this._tNode,this._lView,e,Wl(r),n)}};function UP(){return new Ni(Ut(),Ee())}function ei(t){return $a(()=>{let e=t.prototype.constructor,n=e[El]||Jp(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[El]||Jp(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Jp(t){return E0(t)?()=>{let e=Jp(At(t));return e&&e()}:Pi(t)}function jP(t,e,n,r,i){let o=t,s=e;for(;o!==null&&s!==null&&s[ne]&2048&&!(s[ne]&512);){let a=Cb(o,s,n,r|le.Self,Rn);if(a!==Rn)return a;let u=o.parent;if(!u){let l=s[G0];if(l){let h=l.get(n,Rn,r);if(h!==Rn)return h}u=Db(s),s=s[cs]}o=u}return i}function Db(t){let e=t[ae],n=e.type;return n===2?e.declTNode:n===1?t[gn]:null}function jg(t){return kP(Ut(),t)}function XE(t,e=null,n=null,r){let i=Tb(t,e,n,r);return i.resolveInjectorInitializers(),i}function Tb(t,e=null,n=null,r,i=new Set){let o=[n||Xt,$N(t)];return r=r||(typeof t=="object"?void 0:kt(t)),new xa(o,e||Rg(),r||null,i)}var xi=class xi{static create(e,n){if(Array.isArray(e))return XE({name:""},n,e,"");{let r=e.name??"";return XE({name:r},e.parent,e.providers,r)}}};xi.THROW_IF_NOT_FOUND=Ra,xi.NULL=new Dl,xi.\u0275prov=q({token:xi,providedIn:"any",factory:()=>X(M0)}),xi.__NG_ELEMENT_ID__=-1;var It=xi;var BP=new H("");BP.__NG_ELEMENT_ID__=t=>{let e=Ut();if(e===null)throw new G(204,!1);if(e.type&2)return e.value;if(t&le.Optional)return null;throw new G(204,!1)};var $P="ngOriginalError";function Sp(t){return t[$P]}var cr=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Sp(e);for(;n&&Sp(n);)n=Sp(n);return n||null}},Sb=new H("",{providedIn:"root",factory:()=>P(cr).handleError.bind(void 0)}),Ab=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=HP,e.__NG_ENV_ID__=r=>r;let t=e;return t})(),Zp=class extends Ab{constructor(e){super(),this._lView=e}onDestroy(e){return rb(this._lView,e),()=>cP(this._lView,e)}};function HP(){return new Zp(Ee())}function zP(){return Bg(Ut(),Ee())}function Bg(t,e){return new vn(tn(t,e))}var vn=(()=>{let e=class e{constructor(r){this.nativeElement=r}};e.__NG_ELEMENT_ID__=zP;let t=e;return t})();var ti=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new ct(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275prov=q({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();var Xp=class extends rt{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,XN()&&(this.destroyRef=P(Ab,{optional:!0})??void 0,this.pendingTasks=P(ti,{optional:!0})??void 0)}emit(e){let n=he(null);try{super.next(e)}finally{he(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof Fe&&e.add(a),a}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(n),r!==void 0&&this.pendingTasks?.remove(r)})}}},Ge=Xp;function Rb(t){return(t.flags&128)===128}var Mb=new Map,qP=0;function GP(){return qP++}function WP(t){Mb.set(t[Ql],t)}function KP(t){Mb.delete(t[Ql])}var e0="__ngContext__";function Ui(t,e){Wr(e)?(t[e0]=e[Ql],WP(e)):t[e0]=e}function xb(t){return Pb(t[Pa])}function Nb(t){return Pb(t[hn])}function Pb(t){for(;t!==null&&!fr(t);)t=t[hn];return t}var eg;function Ob(t){eg=t}function QP(){if(eg!==void 0)return eg;if(typeof document<"u")return document;throw new G(210,!1)}var $g=new H("",{providedIn:"root",factory:()=>YP}),YP="ng",Hg=new H(""),On=new H("",{providedIn:"platform",factory:()=>"unknown"});var zg=new H("",{providedIn:"root",factory:()=>QP().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var JP="h",ZP="b";var XP=()=>null;function qg(t,e,n=!1){return XP(t,e,n)}var kb=!1,eO=new H("",{providedIn:"root",factory:()=>kb});var pl;function tO(){if(pl===void 0&&(pl=null,ar.trustedTypes))try{pl=ar.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return pl}function t0(t){return tO()?.createScriptURL(t)||t}var Ol=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${I0})`}};function qa(t){return t instanceof Ol?t.changingThisBreaksApplicationSecurity:t}function Gg(t,e){let n=nO(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${I0})`)}return n===e}function nO(t){return t instanceof Ol&&t.getTypeName()||null}var rO=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Fb(t){return t=String(t),t.match(rO)?t:"unsafe:"+t}var Xl=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Xl||{});function nn(t){let e=Vb();return e?e.sanitize(Xl.URL,t)||"":Gg(t,"URL")?qa(t):Fb(Gl(t))}function iO(t){let e=Vb();if(e)return t0(e.sanitize(Xl.RESOURCE_URL,t)||"");if(Gg(t,"ResourceURL"))return t0(qa(t));throw new G(904,!1)}function oO(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?iO:nn}function Lb(t,e,n){return oO(e,n)(t)}function Vb(){let t=Ee();return t&&t[xn].sanitizer}function Ub(t){return t instanceof Function?t():t}var ur=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(ur||{}),sO;function Wg(t,e){return sO(t,e)}function Wo(t,e,n,r,i){if(r!=null){let o,s=!1;fr(r)?o=r:Wr(r)&&(s=!0,r=r[hr]);let a=Nn(r);t===0&&n!==null?i==null?Hb(e,n,a):kl(e,n,a,i||null,!0):t===1&&n!==null?kl(e,n,a,i||null,!0):t===2?EO(e,a,s):t===3&&e.destroyNode(a),o!=null&&CO(e,t,o,n,i)}}function aO(t,e){return t.createText(e)}function cO(t,e,n){t.setValue(e,n)}function jb(t,e,n){return t.createElement(e,n)}function uO(t,e){Bb(t,e),e[hr]=null,e[gn]=null}function lO(t,e,n,r,i,o){r[hr]=i,r[gn]=e,td(t,r,n,1,i,o)}function Bb(t,e){e[xn].changeDetectionScheduler?.notify(8),td(t,e,e[We],2,null,null)}function dO(t){let e=t[Pa];if(!e)return Ap(t[ae],t);for(;e;){let n=null;if(Wr(e))n=e[Pa];else{let r=e[Rt];r&&(n=r)}if(!n){for(;e&&!e[hn]&&e!==t;)Wr(e)&&Ap(e[ae],e),e=e[Mt];e===null&&(e=t),Wr(e)&&Ap(e[ae],e),n=e&&e[hn]}e=n}}function hO(t,e,n,r){let i=Rt+r,o=n.length;r>0&&(n[i-1][hn]=e),r<o-Rt?(e[hn]=n[i],R0(n,Rt+r,e)):(n.push(e),e[hn]=null),e[Mt]=n;let s=e[es];s!==null&&n!==s&&$b(s,e);let a=e[ts];a!==null&&a.insertView(t),Gp(e),e[ne]|=128}function $b(t,e){let n=t[Al],r=e[Mt];if(Wr(r))t[ne]|=Rl.HasTransplantedViews;else{let i=r[Mt][fn];e[fn]!==i&&(t[ne]|=Rl.HasTransplantedViews)}n===null?t[Al]=[e]:n.push(e)}function Kg(t,e){let n=t[Al],r=n.indexOf(e);n.splice(r,1)}function ka(t,e){if(t.length<=Rt)return;let n=Rt+e,r=t[n];if(r){let i=r[es];i!==null&&i!==t&&Kg(i,r),e>0&&(t[n-1][hn]=r[hn]);let o=Cl(t,Rt+e);uO(r[ae],r);let s=o[ts];s!==null&&s.detachView(o[ae]),r[Mt]=null,r[hn]=null,r[ne]&=-129}return r}function ed(t,e){if(!(e[ne]&256)){let n=e[We];n.destroyNode&&td(t,e,n,3,null,null),dO(e)}}function Ap(t,e){if(e[ne]&256)return;let n=he(null);try{e[ne]&=-129,e[ne]|=256,e[en]&&Zf(e[en]),pO(t,e),fO(t,e),e[ae].type===1&&e[We].destroy();let r=e[es];if(r!==null&&fr(e[Mt])){r!==e[Mt]&&Kg(r,e);let i=e[ts];i!==null&&i.detachView(t)}KP(e)}finally{he(n)}}function fO(t,e){let n=t.cleanup,r=e[Tl];if(n!==null)for(let o=0;o<n.length-1;o+=2)if(typeof n[o]=="string"){let s=n[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else{let s=r[n[o+1]];n[o].call(s)}r!==null&&(e[Tl]=null);let i=e[Gr];if(i!==null){e[Gr]=null;for(let o=0;o<i.length;o++){let s=i[o];s()}}}function pO(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof Vi)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],u=o[s+1];An(4,a,u);try{u.call(a)}finally{An(5,a,u)}}else{An(4,i,o);try{o.call(i)}finally{An(5,i,o)}}}}}function gO(t,e,n){return mO(t,e.parent,n)}function mO(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[hr];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:o}=t.data[r.directiveStart+i];if(o===Mn.None||o===Mn.Emulated)return null}return tn(r,n)}}function kl(t,e,n,r,i){t.insertBefore(e,n,r,i)}function Hb(t,e,n){t.appendChild(e,n)}function n0(t,e,n,r,i){r!==null?kl(t,e,n,r,i):Hb(t,e,n)}function yO(t,e,n,r){t.removeChild(e,n,r)}function Qg(t,e){return t.parentNode(e)}function vO(t,e){return t.nextSibling(e)}function _O(t,e,n){return IO(t,e,n)}function wO(t,e,n){return t.type&40?tn(t,n):null}var IO=wO,r0;function Yg(t,e,n,r){let i=gO(t,r,e),o=e[We],s=r.parent||e[gn],a=_O(s,r,e);if(i!=null)if(Array.isArray(n))for(let u=0;u<n.length;u++)n0(o,i,n[u],a,!1);else n0(o,i,n,a,!1);r0!==void 0&&r0(o,r,e,n,i)}function wl(t,e){if(e!==null){let n=e.type;if(n&3)return tn(e,t);if(n&4)return tg(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return wl(t,r);{let i=t[e.index];return fr(i)?tg(-1,i):Nn(i)}}else{if(n&32)return Wg(e,t)()||Nn(t[e.index]);{let r=zb(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Fi(t[fn]);return wl(i,r)}else return wl(t,e.next)}}}return null}function zb(t,e){if(e!==null){let r=t[fn][gn],i=e.projection;return r.projection[i]}return null}function tg(t,e){let n=Rt+t+1;if(n<e.length){let r=e[n],i=r[ae].firstChild;if(i!==null)return wl(r,i)}return e[ki]}function EO(t,e,n){let r=Qg(t,e);r&&yO(t,r,e,n)}function Jg(t,e,n,r,i,o,s){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=r[n.index],u=n.type;if(s&&e===0&&(a&&Ui(Nn(a),r),n.flags|=2),(n.flags&32)!==32)if(u&8)Jg(t,e,n.child,r,i,o,!1),Wo(e,t,i,a,o);else if(u&32){let l=Wg(n,r),h;for(;h=l();)Wo(e,t,i,h,o);Wo(e,t,i,a,o)}else u&16?bO(t,e,r,n,i,o):Wo(e,t,i,a,o);n=s?n.projectionNext:n.next}}function td(t,e,n,r,i,o){Jg(n,r,t.firstChild,e,i,o,!1)}function bO(t,e,n,r,i,o){let s=n[fn],u=s[gn].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let h=u[l];Wo(e,t,i,h,o)}else{let l=u,h=s[Mt];Rb(r)&&(l.flags|=128),Jg(t,e,l,h,i,o,!0)}}function CO(t,e,n,r,i){let o=n[ki],s=Nn(n);o!==s&&Wo(e,t,r,o,i);for(let a=Rt;a<n.length;a++){let u=n[a];td(u[ae],u,t,e,r,o)}}function DO(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:ur.DashCase;i==null?t.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=ur.Important),t.setStyle(n,r,i,o))}}function TO(t,e,n){t.setAttribute(e,"style",n)}function qb(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function Gb(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&jp(t,e,r),i!==null&&qb(t,e,i),o!==null&&TO(t,e,o)}var pr={};function Y(t=1){Wb(Et(),Ee(),$i()+t,!1)}function Wb(t,e,n,r){if(!r)if((e[ne]&3)===3){let o=t.preOrderCheckHooks;o!==null&&vl(e,o,n)}else{let o=t.preOrderHooks;o!==null&&_l(e,o,0,n)}Li(n)}function de(t,e=le.Default){let n=Ee();if(n===null)return X(t,e);let r=Ut();return bb(r,n,At(t),e)}function Kb(t,e,n,r,i,o){let s=he(null);try{let a=null;i&Kr.SignalBased&&(a=e[r][ir]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),i&Kr.HasDecoratorInputTransform&&(o=t.inputTransforms[r].call(e,o)),t.setInput!==null?t.setInput(e,a,o,n,r):Q0(e,a,r,o)}finally{he(s)}}function SO(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)Li(~i);else{let o=i,s=n[++r],a=n[++r];wP(s,o);let u=e[o];a(2,u)}}}finally{Li(-1)}}function nd(t,e,n,r,i,o,s,a,u,l,h){let p=e.blueprint.slice();return p[hr]=i,p[ne]=r|4|128|8|64,(l!==null||t&&t[ne]&2048)&&(p[ne]|=2048),tb(p),p[Mt]=p[cs]=t,p[wt]=n,p[xn]=s||t&&t[xn],p[We]=a||t&&t[We],p[Xo]=u||t&&t[Xo]||null,p[gn]=o,p[Ql]=GP(),p[Na]=h,p[G0]=l,p[fn]=e.type==2?t[fn]:p,p}function rd(t,e,n,r,i){let o=t.data[e];if(o===null)o=AO(t,e,n,r,i),_P()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=gP();o.injectorIndex=s===null?-1:s.injectorIndex}return za(o,!0),o}function AO(t,e,n,r,i){let o=sb(),s=ab(),a=s?o:o&&o.parent,u=t.data[e]=PO(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=u),o!==null&&(s?o.child==null&&u.parent!==null&&(o.child=u):o.next===null&&(o.next=u,u.prev=o)),u}function Qb(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function Yb(t,e,n,r,i){let o=$i(),s=r&2;try{Li(-1),s&&e.length>Lt&&Wb(t,e,Lt,!1),An(s?2:0,i),n(r,i)}finally{Li(o),An(s?3:1,i)}}function Jb(t,e,n){if(K0(e)){let r=he(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=t.data[s];if(a.contentQueries){let u=n[s];a.contentQueries(1,u,s)}}}finally{he(r)}}}function Zb(t,e,n){ob()&&(UO(t,e,n,tn(n,e)),(n.flags&64)===64&&rC(t,e,n))}function Xb(t,e,n=tn){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(e,t):t[s];t[i++]=a}}}function eC(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=Zg(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Zg(t,e,n,r,i,o,s,a,u,l,h){let p=Lt+r,m=p+i,y=RO(p,m),C=typeof l=="function"?l():l;return y[ae]={type:t,blueprint:y,template:n,queries:null,viewQuery:a,declTNode:e,data:y.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:C,incompleteFirstPass:!1,ssrId:h}}function RO(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:pr);return n}function MO(t,e,n,r){let o=r.get(eO,kb)||n===Mn.ShadowDom,s=t.selectRootElement(e,o);return xO(s),s}function xO(t){NO(t)}var NO=()=>null;function PO(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return hP()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function i0(t,e,n,r,i){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;r??={};let a,u=Kr.None;Array.isArray(s)?(a=s[0],u=s[1]):a=s;let l=o;if(i!==null){if(!i.hasOwnProperty(o))continue;l=i[o]}t===0?o0(r,n,l,a,u):o0(r,n,l,a)}return r}function o0(t,e,n,r,i){let o;t.hasOwnProperty(n)?(o=t[n]).push(e,r):o=t[n]=[e,r],i!==void 0&&o.push(i)}function OO(t,e,n){let r=e.directiveStart,i=e.directiveEnd,o=t.data,s=e.attrs,a=[],u=null,l=null;for(let h=r;h<i;h++){let p=o[h],m=n?n.get(p):null,y=m?m.inputs:null,C=m?m.outputs:null;u=i0(0,p.inputs,h,u,y),l=i0(1,p.outputs,h,l,C);let M=u!==null&&s!==null&&!Sg(e)?YO(u,h,s):null;a.push(M)}u!==null&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=l}function kO(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function Xg(t,e,n,r,i,o,s,a){let u=tn(e,n),l=e.inputs,h;!a&&l!=null&&(h=l[r])?(em(t,n,h,r,i),Yl(e)&&FO(n,e.index)):e.type&3?(r=kO(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(u,r,i)):e.type&12}function FO(t,e){let n=Xr(e,t);n[ne]&16||(n[ne]|=64)}function tC(t,e,n,r){if(ob()){let i=r===null?null:{"":-1},o=BO(t,n),s,a;o===null?s=a=null:[s,a]=o,s!==null&&nC(t,e,n,s,i,a),i&&$O(n,r,i)}n.mergedAttrs=Ma(n.mergedAttrs,n.attrs)}function nC(t,e,n,r,i,o){for(let l=0;l<r.length;l++)Yp(Pl(n,e),t,r[l].type);zO(n,t.data.length,r.length);for(let l=0;l<r.length;l++){let h=r[l];h.providersResolver&&h.providersResolver(h)}let s=!1,a=!1,u=Qb(t,e,r.length,null);for(let l=0;l<r.length;l++){let h=r[l];n.mergedAttrs=Ma(n.mergedAttrs,h.hostAttrs),qO(t,n,e,u,h),HO(u,h,i),h.contentQueries!==null&&(n.flags|=4),(h.hostBindings!==null||h.hostAttrs!==null||h.hostVars!==0)&&(n.flags|=64);let p=h.type.prototype;!s&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),s=!0),!a&&(p.ngOnChanges||p.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),u++}OO(t,n,o)}function LO(t,e,n,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;VO(s)!=a&&s.push(a),s.push(n,r,o)}}function VO(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function UO(t,e,n,r){let i=n.directiveStart,o=n.directiveEnd;Yl(n)&&GO(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||Pl(n,e),Ui(r,e);let s=n.initialInputs;for(let a=i;a<o;a++){let u=t.data[a],l=rs(e,t,a,n);if(Ui(l,e),s!==null&&QO(e,a-i,l,u,n,s),Qr(u)){let h=Xr(n.index,e);h[wt]=rs(e,t,a,n)}}}function rC(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=IP();try{Li(o);for(let a=r;a<i;a++){let u=t.data[a],l=e[a];Wp(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&jO(u,l)}}finally{Li(-1),Wp(s)}}function jO(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function BO(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let o=0;o<n.length;o++){let s=n[o];if(PN(e,s.selectors,!1))if(r||(r=[]),Qr(s))if(s.findHostDirectiveDefs!==null){let a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s);let u=a.length;ng(t,e,u)}else r.unshift(s),ng(t,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return r===null?null:[r,i]}function ng(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function $O(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new G(-301,!1);r.push(e[i],o)}}}function HO(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Qr(e)&&(n[""]=t)}}function zO(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function qO(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=Pi(i.type,!0)),s=new Vi(o,Qr(i),de);t.blueprint[r]=s,n[r]=s,LO(t,e,r,Qb(t,n,i.hostVars,pr),i)}function GO(t,e,n){let r=tn(e,t),i=eC(n),o=t[xn].rendererFactory,s=16;n.signals?s=4096:n.onPush&&(s=64);let a=id(t,nd(t,i,null,s,r,e,null,o.createRenderer(r,n),null,null,null));t[e.index]=a}function WO(t,e,n,r,i,o){let s=tn(t,e);KO(e[We],s,o,t.value,n,r,i)}function KO(t,e,n,r,i,o,s){if(o==null)t.removeAttribute(e,i,n);else{let a=s==null?Gl(o):s(o,r||"",i);t.setAttribute(e,i,a,n)}}function QO(t,e,n,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;){let u=s[a++],l=s[a++],h=s[a++],p=s[a++];Kb(r,n,u,l,h,p)}}function YO(t,e,n){let r=null,i=0;for(;i<n.length;){let o=n[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(t.hasOwnProperty(o)){r===null&&(r=[]);let s=t[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){r.push(o,s[a+1],s[a+2],n[i+1]);break}}i+=2}return r}function iC(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function oC(t,e){let n=t.contentQueries;if(n!==null){let r=he(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=t.data[s];ub(o),a.contentQueries(2,e[s],s)}}}finally{he(r)}}}function id(t,e){return t[Pa]?t[WE][hn]=e:t[Pa]=e,t[WE]=e,e}function rg(t,e,n){ub(0);let r=he(null);try{e(t,n)}finally{he(r)}}function JO(t){return t[Tl]??=[]}function ZO(t){return t.cleanup??=[]}function sC(t,e){let n=t[Xo],r=n?n.get(cr,null):null;r&&r.handleError(e)}function em(t,e,n,r,i){for(let o=0;o<n.length;){let s=n[o++],a=n[o++],u=n[o++],l=e[s],h=t.data[s];Kb(h,l,r,a,u,i)}}function XO(t,e,n){let r=X0(e,t);cO(t[We],r,n)}function ek(t,e){let n=Xr(e,t),r=n[ae];tk(r,n);let i=n[hr];i!==null&&n[Na]===null&&(n[Na]=qg(i,n[Xo])),tm(r,n,n[wt])}function tk(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function tm(t,e,n){Og(e);try{let r=t.viewQuery;r!==null&&rg(1,r,n);let i=t.template;i!==null&&Yb(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[ts]?.finishViewCreation(t),t.staticContentQueries&&oC(t,e),t.staticViewQueries&&rg(2,t.viewQuery,n);let o=t.components;o!==null&&nk(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[ne]&=-5,kg()}}function nk(t,e){for(let n=0;n<e.length;n++)ek(t,e[n])}function nm(t,e,n,r){let i=he(null);try{let o=e.tView,a=t[ne]&4096?4096:16,u=nd(t,o,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=t[e.index];u[es]=l;let h=t[ts];return h!==null&&(u[ts]=h.createEmbeddedView(o)),tm(o,u,n),u}finally{he(i)}}function aC(t,e){let n=Rt+e;if(n<t.length)return t[n]}function Fa(t,e){return!e||e.firstChild===null||Rb(t)}function od(t,e,n,r=!0){let i=e[ae];if(hO(i,e,t,n),r){let s=tg(n,t),a=e[We],u=Qg(a,t[ki]);u!==null&&lO(i,t[gn],a,e,u,s)}let o=e[Na];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function cC(t,e){let n=ka(t,e);return n!==void 0&&ed(n[ae],n),n}function Fl(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let o=e[n.index];o!==null&&r.push(Nn(o)),fr(o)&&rk(o,r);let s=n.type;if(s&8)Fl(t,e,n.child,r);else if(s&32){let a=Wg(n,e),u;for(;u=a();)r.push(u)}else if(s&16){let a=zb(e,n);if(Array.isArray(a))r.push(...a);else{let u=Fi(e[fn]);Fl(u[ae],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function rk(t,e){for(let n=Rt;n<t.length;n++){let r=t[n],i=r[ae].firstChild;i!==null&&Fl(r[ae],r,i,e)}t[ki]!==t[hr]&&e.push(t[ki])}var uC=[];function ik(t){return t[en]??ok(t)}function ok(t){let e=uC.pop()??Object.create(ak);return e.lView=t,e}function sk(t){t.lView[en]!==t&&(t.lView=null,uC.push(t))}var ak=_e(B({},Da),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Jl(t.lView)},consumerOnSignalRead(){this.lView[en]=this}});function ck(t){let e=t[en]??Object.create(uk);return e.lView=t,e}var uk=_e(B({},Da),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{let e=Fi(t.lView);for(;e&&!lC(e[ae]);)e=Fi(e);e&&nb(e)},consumerOnSignalRead(){this.lView[en]=this}});function lC(t){return t.type!==2}var lk=100;function dC(t,e=!0,n=0){let r=t[xn],i=r.rendererFactory,o=!1;o||i.begin?.();try{dk(t,n)}catch(s){throw e&&sC(t,s),s}finally{o||(i.end?.(),r.inlineEffectRunner?.flush())}}function dk(t,e){let n=cb();try{QE(!0),ig(t,e);let r=0;for(;Oa(t);){if(r===lk)throw new G(103,!1);r++,ig(t,1)}}finally{QE(n)}}function hk(t,e,n,r){let i=e[ne];if((i&256)===256)return;let o=!1,s=!1;!o&&e[xn].inlineEffectRunner?.flush(),Og(e);let a=!0,u=null,l=null;o||(lC(t)?(l=ik(e),u=Uu(l)):XI()===null?(a=!1,l=ck(e),u=Uu(l)):e[en]&&(Zf(e[en]),e[en]=null));try{tb(e),yP(t.bindingStartIndex),n!==null&&Yb(t,e,n,2,r);let h=(i&3)===3;if(!o)if(h){let y=t.preOrderCheckHooks;y!==null&&vl(e,y,null)}else{let y=t.preOrderHooks;y!==null&&_l(e,y,0,null),Cp(e,0)}if(s||fk(e),hC(e,0),t.contentQueries!==null&&oC(t,e),!o)if(h){let y=t.contentCheckHooks;y!==null&&vl(e,y)}else{let y=t.contentHooks;y!==null&&_l(e,y,1),Cp(e,1)}SO(t,e);let p=t.components;p!==null&&pC(e,p,0);let m=t.viewQuery;if(m!==null&&rg(2,m,r),!o)if(h){let y=t.viewCheckHooks;y!==null&&vl(e,y)}else{let y=t.viewHooks;y!==null&&_l(e,y,2),Cp(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[bp]){for(let y of e[bp])y();e[bp]=null}o||(e[ne]&=-73)}catch(h){throw o||Jl(e),h}finally{l!==null&&(Yf(l,u),a&&sk(l)),kg()}}function hC(t,e){for(let n=xb(t);n!==null;n=Nb(n))for(let r=Rt;r<n.length;r++){let i=n[r];fC(i,e)}}function fk(t){for(let e=xb(t);e!==null;e=Nb(e)){if(!(e[ne]&Rl.HasTransplantedViews))continue;let n=e[Al];for(let r=0;r<n.length;r++){let i=n[r];nb(i)}}}function pk(t,e,n){let r=Xr(e,t);fC(r,n)}function fC(t,e){Ng(t)&&ig(t,e)}function ig(t,e){let r=t[ae],i=t[ne],o=t[en],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&Jf(o)),s||=!1,o&&(o.dirty=!1),t[ne]&=-9217,s)hk(r,t,r.template,t[wt]);else if(i&8192){hC(t,1);let a=r.components;a!==null&&pC(t,a,1)}}function pC(t,e,n){for(let r=0;r<e.length;r++)pk(t,e[r],n)}function rm(t,e){let n=cb()?64:1088;for(t[xn].changeDetectionScheduler?.notify(e);t;){t[ne]|=n;let r=Fi(t);if(zp(t)&&!r)return t;t=r}return null}var is=class{get rootNodes(){let e=this._lView,n=e[ae];return Fl(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[wt]}set context(e){this._lView[wt]=e}get destroyed(){return(this._lView[ne]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Mt];if(fr(e)){let n=e[Sl],r=n?n.indexOf(this):-1;r>-1&&(ka(e,r),Cl(n,r))}this._attachedToViewContainer=!1}ed(this._lView[ae],this._lView)}onDestroy(e){rb(this._lView,e)}markForCheck(){rm(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[ne]&=-129}reattach(){Gp(this._lView),this._lView[ne]|=128}detectChanges(){this._lView[ne]|=1024,dC(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new G(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=zp(this._lView),n=this._lView[es];n!==null&&!e&&Kg(n,this._lView),Bb(this._lView[ae],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new G(902,!1);this._appRef=e;let n=zp(this._lView),r=this._lView[es];r!==null&&!n&&$b(r,this._lView),Gp(this._lView)}};var T5=new RegExp(`^(\\d+)*(${ZP}|${JP})*(.*)`);var gk=()=>null;function La(t,e){return gk(t,e)}var Va=class{},im=new H("",{providedIn:"root",factory:()=>!1});var gC=new H(""),og=class{},Ll=class{};function mk(t){let e=Error(`No component factory found for ${kt(t)}.`);return e[yk]=t,e}var yk="ngComponent";var sg=class{resolveComponentFactory(e){throw mk(e)}},um=class um{};um.NULL=new sg;var os=um,ss=class{},kn=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>vk();let t=e;return t})();function vk(){let t=Ee(),e=Ut(),n=Xr(e.index,t);return(Wr(n)?n:t)[We]}var _k=(()=>{let e=class e{};e.\u0275prov=q({token:e,providedIn:"root",factory:()=>null});let t=e;return t})();var s0=new Set;function ni(t){s0.has(t)||(s0.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function mC(t){let e=!0;return setTimeout(()=>{e&&(e=!1,t())}),typeof ar.requestAnimationFrame=="function"&&ar.requestAnimationFrame(()=>{e&&(e=!1,t())}),()=>{e=!1}}function a0(t){let e=!0;return queueMicrotask(()=>{e&&t()}),()=>{e=!1}}function c0(...t){}var Ce=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ge(!1),this.onMicrotaskEmpty=new Ge(!1),this.onStable=new Ge(!1),this.onError=new Ge(!1),typeof Zone>"u")throw new G(908,!1);Zone.assertZonePatched();let i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.callbackScheduled=!1,Ek(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new G(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new G(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,wk,c0,c0);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},wk={};function om(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Ik(t){t.isCheckStableRunning||t.callbackScheduled||(t.callbackScheduled=!0,Zone.root.run(()=>{mC(()=>{t.callbackScheduled=!1,ag(t),t.isCheckStableRunning=!0,om(t),t.isCheckStableRunning=!1})}),ag(t))}function Ek(t){let e=()=>{Ik(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,a)=>{if(bk(a))return n.invokeTask(i,o,s,a);try{return u0(t),n.invokeTask(i,o,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),l0(t)}},onInvoke:(n,r,i,o,s,a,u)=>{try{return u0(t),n.invoke(i,o,s,a,u)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!Ck(a)&&e(),l0(t)}},onHasTask:(n,r,i,o)=>{n.hasTask(i,o),r===i&&(o.change=="microTask"?(t._hasPendingMicrotasks=o.microTask,ag(t),om(t)):o.change=="macroTask"&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,r,i,o)=>(n.handleError(i,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}function ag(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function u0(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function l0(t){t._nesting--,om(t)}var cg=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ge,this.onMicrotaskEmpty=new Ge,this.onStable=new Ge,this.onError=new Ge}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function bk(t){return yC(t,"__ignore_ng_zone__")}function Ck(t){return yC(t,"__scheduler_tick__")}function yC(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var vC=(()=>{let e=class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let r=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let i of r)i()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=q({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function ug(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=LE(i,a);else if(o==2){let u=a,l=e[++s];r=LE(r,u+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var Vl=class extends os{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Oi(e);return new Ua(n,this.ngModule)}};function d0(t,e){let n=[];for(let r in t){if(!t.hasOwnProperty(r))continue;let i=t[r];if(i===void 0)continue;let o=Array.isArray(i),s=o?i[0]:i,a=o?i[1]:Kr.None;e?n.push({propName:s,templateName:r,isSignal:(a&Kr.SignalBased)!==0}):n.push({propName:s,templateName:r})}return n}function Dk(t){let e=t.toLowerCase();return e==="svg"?iP:e==="math"?oP:null}var Ua=class extends Ll{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=d0(e.inputs,!0);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return d0(this.componentDef.outputs,!1)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=LN(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let o=he(null);try{i=i||this.ngModule;let s=i instanceof Ft?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new Kp(e,s):e,u=a.get(ss,null);if(u===null)throw new G(407,!1);let l=a.get(_k,null),h=a.get(vC,null),p=a.get(Va,null),m={rendererFactory:u,sanitizer:l,inlineEffectRunner:null,afterRenderEventManager:h,changeDetectionScheduler:p},y=u.createRenderer(null,this.componentDef),C=this.componentDef.selectors[0][0]||"div",M=r?MO(y,r,this.componentDef.encapsulation,a):jb(y,C,Dk(C)),S=512;this.componentDef.signals?S|=4096:this.componentDef.onPush||(S|=16);let O=null;M!==null&&(O=qg(M,a,!0));let U=Zg(0,null,null,1,0,null,null,null,null,null,null),j=nd(null,U,null,S,null,null,m,y,a,null,O);Og(j);let $,ge;try{let K=this.componentDef,E,v=null;K.findHostDirectiveDefs?(E=[],v=new Map,K.findHostDirectiveDefs(K,E,v),E.push(K)):E=[K];let _=Tk(j,M),b=Sk(_,M,K,E,j,m,y);ge=xg(U,Lt),M&&Mk(y,K,M,r),n!==void 0&&xk(ge,this.ngContentSelectors,n),$=Rk(b,K,E,v,j,[Nk]),tm(U,j,null)}finally{kg()}return new lg(this.componentType,$,Bg(ge,j),j,ge)}finally{he(o)}}},lg=class extends og{constructor(e,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new is(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let o=this._rootLView;em(o[ae],o,i,e,n),this.previousInputValues.set(e,n);let s=Xr(this._tNode.index,o);rm(s,1)}}get injector(){return new Ni(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function Tk(t,e){let n=t[ae],r=Lt;return t[r]=e,rd(n,r,2,"#host",null)}function Sk(t,e,n,r,i,o,s){let a=i[ae];Ak(r,t,e,s);let u=null;e!==null&&(u=qg(e,i[Xo]));let l=o.rendererFactory.createRenderer(e,n),h=16;n.signals?h=4096:n.onPush&&(h=64);let p=nd(i,eC(n),null,h,i[t.index],t,o,l,null,null,u);return a.firstCreatePass&&ng(a,t,r.length-1),id(i,p),i[t.index]=p}function Ak(t,e,n,r){for(let i of t)e.mergedAttrs=Ma(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(ug(e,e.mergedAttrs,!0),n!==null&&Gb(r,n,e))}function Rk(t,e,n,r,i,o){let s=Ut(),a=i[ae],u=tn(s,i);nC(a,i,s,n,null,r);for(let h=0;h<n.length;h++){let p=s.directiveStart+h,m=rs(i,a,p,s);Ui(m,i)}rC(a,i,s),u&&Ui(u,i);let l=rs(i,a,s.directiveStart+s.componentOffset,s);if(t[wt]=i[wt]=l,o!==null)for(let h of o)h(l,e);return Jb(a,s,i),l}function Mk(t,e,n,r){if(r)jp(t,n,["ng-version","18.1.1"]);else{let{attrs:i,classes:o}=VN(e.selectors[0]);i&&jp(t,n,i),o&&o.length>0&&qb(t,n,o.join(" "))}}function xk(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null?Array.from(o):null)}}function Nk(){let t=Ut();Vg(Ee()[ae],t)}var sd=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=Pk;let t=e;return t})();function Pk(){let t=Ut();return kk(t,Ee())}var Ok=sd,_C=class extends Ok{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Bg(this._hostTNode,this._hostLView)}get injector(){return new Ni(this._hostTNode,this._hostLView)}get parentInjector(){let e=Ug(this._hostTNode,this._hostLView);if(yb(e)){let n=xl(e,this._hostLView),r=Ml(e),i=n[ae].data[r+8];return new Ni(i,n)}else return new Ni(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=h0(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-Rt}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=La(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,Fa(this._hostTNode,s)),a}createComponent(e,n,r,i,o){let s=e&&!eP(e),a;if(s)a=n;else{let C=n||{};a=C.index,r=C.injector,i=C.projectableNodes,o=C.environmentInjector||C.ngModuleRef}let u=s?e:new Ua(Oi(e)),l=r||this.parentInjector;if(!o&&u.ngModule==null){let M=(s?l:this.parentInjector).get(Ft,null);M&&(o=M)}let h=Oi(u.componentType??{}),p=La(this._lContainer,h?.id??null),m=p?.firstChild??null,y=u.create(l,i,m,o);return this.insertImpl(y.hostView,a,Fa(this._hostTNode,p)),y}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(sP(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let u=i[Mt],l=new _C(u,u[gn],u[Mt]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return od(s,i,o,r),e.attachToViewContainerRef(),R0(Rp(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=h0(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=ka(this._lContainer,n);r&&(Cl(Rp(this._lContainer),n),ed(r[ae],r))}detach(e){let n=this._adjustIndex(e,-1),r=ka(this._lContainer,n);return r&&Cl(Rp(this._lContainer),n)!=null?new is(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function h0(t){return t[Sl]}function Rp(t){return t[Sl]||(t[Sl]=[])}function kk(t,e){let n,r=e[t.index];return fr(r)?n=r:(n=iC(r,e,null,t),e[t.index]=n,id(e,n)),Lk(n,e,t,r),new _C(n,t,e)}function Fk(t,e){let n=t[We],r=n.createComment(""),i=tn(e,t),o=Qg(n,i);return kl(n,o,r,vO(n,i),!1),r}var Lk=jk,Vk=()=>!1;function Uk(t,e,n){return Vk(t,e,n)}function jk(t,e,n,r){if(t[ki])return;let i;n.type&8?i=Nn(r):i=Fk(e,n),t[ki]=i}function Bk(t){return typeof t=="function"&&t[ir]!==void 0}function Ga(t,e){ni("NgSignals");let n=lE(t),r=n[ir];return e?.equal&&(r.equal=e.equal),n.set=i=>Xf(r,i),n.update=i=>dE(r,i),n.asReadonly=$k.bind(n),n}function $k(){let t=this[ir];if(t.readonlyFn===void 0){let e=()=>this();e[ir]=t,t.readonlyFn=e}return t.readonlyFn}function wC(t){return Bk(t)&&typeof t.set=="function"}function Hk(t){return Object.getPrototypeOf(t.prototype).constructor}function _n(t){let e=Hk(t.type),n=!0,r=[t];for(;e;){let i;if(Qr(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new G(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let s=t;s.inputs=gl(t.inputs),s.inputTransforms=gl(t.inputTransforms),s.declaredInputs=gl(t.declaredInputs),s.outputs=gl(t.outputs);let a=i.hostBindings;a&&Kk(t,a);let u=i.viewQuery,l=i.contentQueries;if(u&&Gk(t,u),l&&Wk(t,l),zk(t,i),iN(t.outputs,i.outputs),Qr(i)&&i.data.animation){let h=t.data;h.animation=(h.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(t),a===_n&&(n=!1)}}e=Object.getPrototypeOf(e)}qk(r)}function zk(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function qk(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Ma(i.hostAttrs,n=Ma(n,i.hostAttrs))}}function gl(t){return t===Yo?{}:t===Xt?[]:t}function Gk(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function Wk(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,o)=>{e(r,i,o),n(r,i,o)}:t.contentQueries=e}function Kk(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function sm(t){let e=t.inputConfig,n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(n[r]=i[3])}t.inputTransforms=n}var Yr=class{},ja=class{};var dg=class extends Yr{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Vl(this);let i=U0(e);this._bootstrapComponents=Ub(i.bootstrap),this._r3Injector=Tb(e,n,[{provide:Yr,useValue:this},{provide:os,useValue:this.componentFactoryResolver},...r],kt(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},hg=class extends ja{constructor(e){super(),this.moduleType=e}create(e){return new dg(this.moduleType,e,[])}};var Ul=class extends Yr{constructor(e){super(),this.componentFactoryResolver=new Vl(this),this.instance=null;let n=new xa([...e.providers,{provide:Yr,useValue:this},{provide:os,useValue:this.componentFactoryResolver}],e.parent||Rg(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function am(t,e,n=null){return new Ul({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}function IC(t,e,n){return t[e]=n}function Pn(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function Qk(t,e,n,r){let i=Pn(t,e,n);return Pn(t,e+1,r)||i}function Yk(t){return(t.flags&32)===32}function Jk(t,e,n,r,i,o,s,a,u){let l=e.consts,h=rd(e,t,4,s||null,a||null);tC(e,n,h,ns(l,u)),Vg(e,h);let p=h.tView=Zg(2,h,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,h),p.queries=e.queries.embeddedTView(h)),h}function fg(t,e,n,r,i,o,s,a,u,l){let h=n+Lt,p=e.firstCreatePass?Jk(h,e,t,r,i,o,s,a,u):e.data[h];za(p,!1);let m=Zk(e,t,p,n);Fg()&&Yg(e,t,m,p),Ui(m,t);let y=iC(m,t,m,p);return t[h]=y,id(t,y),Uk(y,p,t),Mg(p)&&Zb(e,t,p),u!=null&&Xb(t,p,l),p}function Wt(t,e,n,r,i,o,s,a){let u=Ee(),l=Et(),h=ns(l.consts,o);return fg(u,l,t,e,n,r,i,h,s,a),Wt}var Zk=Xk;function Xk(t,e,n,r){return Lg(!0),e[We].createComment("")}function ad(t,e,n,r){let i=Ee(),o=us();if(Pn(i,o,e)){let s=Et(),a=Zl();WO(a,i,t,e,n,r)}return ad}function EC(t,e,n,r){return Pn(t,us(),n)?e+Gl(n)+r:pr}function ml(t,e){return t<<17|e<<2}function ji(t){return t>>17&32767}function e1(t){return(t&2)==2}function t1(t,e){return t&131071|e<<17}function pg(t){return t|2}function as(t){return(t&131068)>>2}function Mp(t,e){return t&-131069|e<<2}function n1(t){return(t&1)===1}function gg(t){return t|1}function r1(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=ji(s),u=as(s);t[r]=n;let l=!1,h;if(Array.isArray(n)){let p=n;h=p[1],(h===null||Ha(p,h)>0)&&(l=!0)}else h=n;if(i)if(u!==0){let m=ji(t[a+1]);t[r+1]=ml(m,a),m!==0&&(t[m+1]=Mp(t[m+1],r)),t[a+1]=t1(t[a+1],r)}else t[r+1]=ml(a,0),a!==0&&(t[a+1]=Mp(t[a+1],r)),a=r;else t[r+1]=ml(u,0),a===0?a=r:t[u+1]=Mp(t[u+1],r),u=r;l&&(t[r+1]=pg(t[r+1])),f0(t,h,r,!0),f0(t,h,r,!1),i1(e,h,t,r,o),s=ml(a,u),o?e.classBindings=s:e.styleBindings=s}function i1(t,e,n,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&Ha(o,e)>=0&&(n[r+1]=gg(n[r+1]))}function f0(t,e,n,r){let i=t[n+1],o=e===null,s=r?ji(i):as(i),a=!1;for(;s!==0&&(a===!1||o);){let u=t[s],l=t[s+1];o1(u,e)&&(a=!0,t[s+1]=r?gg(l):pg(l)),s=r?ji(l):as(l)}a&&(t[n+1]=r?pg(i):gg(i))}function o1(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?Ha(t,e)>=0:!1}function ut(t,e,n){let r=Ee(),i=us();if(Pn(r,i,e)){let o=Et(),s=Zl();Xg(o,s,r,t,e,r[We],n,!1)}return ut}function p0(t,e,n,r,i){let o=e.inputs,s=i?"class":"style";em(t,n,o[s],s,r)}function ls(t,e){return s1(t,e,null,!0),ls}function s1(t,e,n,r){let i=Ee(),o=Et(),s=vP(2);if(o.firstUpdatePass&&c1(o,t,s,r),e!==pr&&Pn(i,s,e)){let a=o.data[$i()];f1(o,a,i,i[We],t,i[s+1]=p1(e,n),r,s)}}function a1(t,e){return e>=t.expandoStartIndex}function c1(t,e,n,r){let i=t.data;if(i[n+1]===null){let o=i[$i()],s=a1(t,n);g1(o,r)&&e===null&&!s&&(e=!1),e=u1(i,o,e,r),r1(i,o,e,n,s,r)}}function u1(t,e,n,r){let i=EP(t),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=xp(null,t,e,n,r),n=Ba(n,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==i)if(n=xp(i,t,e,n,r),o===null){let u=l1(t,e,r);u!==void 0&&Array.isArray(u)&&(u=xp(null,t,e,u[1],r),u=Ba(u,e.attrs,r),d1(t,e,r,u))}else o=h1(t,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),n}function l1(t,e,n){let r=n?e.classBindings:e.styleBindings;if(as(r)!==0)return t[ji(r)]}function d1(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[ji(i)]=r}function h1(t,e,n){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;r=Ba(r,s,n)}return Ba(r,e.attrs,n)}function xp(t,e,n,r,i){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=e[a],r=Ba(r,o.hostAttrs,i),o!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function Ba(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),DN(t,s,n?!0:e[++o]))}return t===void 0?null:t}function f1(t,e,n,r,i,o,s,a){if(!(e.type&3))return;let u=t.data,l=u[a+1],h=n1(l)?g0(u,e,n,i,as(l),s):void 0;if(!jl(h)){jl(o)||e1(l)&&(o=g0(u,null,n,i,a,s));let p=X0($i(),n);DO(r,s,p,i,o)}}function g0(t,e,n,r,i,o){let s=e===null,a;for(;i>0;){let u=t[i],l=Array.isArray(u),h=l?u[1]:u,p=h===null,m=n[i+1];m===pr&&(m=p?Xt:void 0);let y=p?Ip(m,r):h===r?m:void 0;if(l&&!jl(y)&&(y=Ip(u,r)),jl(y)&&(a=y,s))return a;let C=t[i+1];i=s?ji(C):as(C)}if(e!==null){let u=o?e.residualClasses:e.residualStyles;u!=null&&(a=Ip(u,r))}return a}function jl(t){return t!==void 0}function p1(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=kt(qa(t)))),t}function g1(t,e){return(t.flags&(e?8:16))!==0}var mg=class{destroy(e){}updateValue(e,n){}swap(e,n){let r=Math.min(e,n),i=Math.max(e,n),o=this.detach(i);if(i-r>1){let s=this.detach(r);this.attach(r,o),this.attach(i,s)}else this.attach(r,o)}move(e,n){this.attach(n,this.detach(e))}};function Np(t,e,n,r,i){return t===n&&Object.is(e,r)?1:Object.is(i(t,e),i(n,r))?-1:0}function m1(t,e,n){let r,i,o=0,s=t.length-1,a=void 0;if(Array.isArray(e)){let u=e.length-1;for(;o<=s&&o<=u;){let l=t.at(o),h=e[o],p=Np(o,l,o,h,n);if(p!==0){p<0&&t.updateValue(o,h),o++;continue}let m=t.at(s),y=e[u],C=Np(s,m,u,y,n);if(C!==0){C<0&&t.updateValue(s,y),s--,u--;continue}let M=n(o,l),S=n(s,m),O=n(o,h);if(Object.is(O,S)){let U=n(u,y);Object.is(U,M)?(t.swap(o,s),t.updateValue(s,y),u--,s--):t.move(s,o),t.updateValue(o,h),o++;continue}if(r??=new Bl,i??=y0(t,o,s,n),yg(t,r,o,O))t.updateValue(o,h),o++,s++;else if(i.has(O))r.set(M,t.detach(o)),s--;else{let U=t.create(o,e[o]);t.attach(o,U),o++,s++}}for(;o<=u;)m0(t,r,n,o,e[o]),o++}else if(e!=null){let u=e[Symbol.iterator](),l=u.next();for(;!l.done&&o<=s;){let h=t.at(o),p=l.value,m=Np(o,h,o,p,n);if(m!==0)m<0&&t.updateValue(o,p),o++,l=u.next();else{r??=new Bl,i??=y0(t,o,s,n);let y=n(o,p);if(yg(t,r,o,y))t.updateValue(o,p),o++,s++,l=u.next();else if(!i.has(y))t.attach(o,t.create(o,p)),o++,s++,l=u.next();else{let C=n(o,h);r.set(C,t.detach(o)),s--}}}for(;!l.done;)m0(t,r,n,t.length,l.value),l=u.next()}for(;o<=s;)t.destroy(t.detach(s--));r?.forEach(u=>{t.destroy(u)})}function yg(t,e,n,r){return e!==void 0&&e.has(r)?(t.attach(n,e.get(r)),e.delete(r),!0):!1}function m0(t,e,n,r,i){if(yg(t,e,r,n(r,i)))t.updateValue(r,i);else{let o=t.create(r,i);t.attach(r,o)}}function y0(t,e,n,r){let i=new Set;for(let o=e;o<=n;o++)i.add(r(o,t.at(o)));return i}var Bl=class{constructor(){this.kvMap=new Map,this._vMap=void 0}has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let n=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(n)?(this.kvMap.set(e,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,n){if(this.kvMap.has(e)){let r=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,n)}else this.kvMap.set(e,n)}forEach(e){for(let[n,r]of this.kvMap)if(e(r,n),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),e(r,n)}}};function rn(t,e){ni("NgControlFlow");let n=Ee(),r=us(),i=n[r]!==pr?n[r]:-1,o=i!==-1?$l(n,Lt+i):void 0,s=0;if(Pn(n,r,t)){let a=he(null);try{if(o!==void 0&&cC(o,s),t!==-1){let u=Lt+t,l=$l(n,u),h=Ig(n[ae],u),p=La(l,h.tView.ssrId),m=nm(n,h,e,{dehydratedView:p});od(l,m,s,Fa(h,p))}}finally{he(a)}}else if(o!==void 0){let a=aC(o,s);a!==void 0&&(a[wt]=e)}}var vg=class{constructor(e,n,r){this.lContainer=e,this.$implicit=n,this.$index=r}get $count(){return this.lContainer.length-Rt}};function Hi(t){return t}var _g=class{constructor(e,n,r){this.hasEmptyBlock=e,this.trackByFn=n,this.liveCollection=r}};function gr(t,e,n,r,i,o,s,a,u,l,h,p,m){ni("NgControlFlow");let y=Ee(),C=Et(),M=u!==void 0,S=Ee(),O=a?s.bind(S[fn][wt]):s,U=new _g(M,O);S[Lt+t]=U,fg(y,C,t+1,e,n,r,i,ns(C.consts,o)),M&&fg(y,C,t+2,u,l,h,p,ns(C.consts,m))}var wg=class extends mg{constructor(e,n,r){super(),this.lContainer=e,this.hostLView=n,this.templateTNode=r,this.operationsCounter=void 0,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-Rt}at(e){return this.getLView(e)[wt].$implicit}attach(e,n){let r=n[Na];this.needsIndexUpdate||=e!==this.length,od(this.lContainer,n,e,Fa(this.templateTNode,r))}detach(e){return this.needsIndexUpdate||=e!==this.length-1,y1(this.lContainer,e)}create(e,n){let r=La(this.lContainer,this.templateTNode.tView.ssrId),i=nm(this.hostLView,this.templateTNode,new vg(this.lContainer,n,e),{dehydratedView:r});return this.operationsCounter?.recordCreate(),i}destroy(e){ed(e[ae],e),this.operationsCounter?.recordDestroy()}updateValue(e,n){this.getLView(e)[wt].$implicit=n}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[wt].$index=e}getLView(e){return v1(this.lContainer,e)}};function mr(t){let e=he(null),n=$i();try{let r=Ee(),i=r[ae],o=r[n],s=n+1,a=$l(r,s);if(o.liveCollection===void 0){let l=Ig(i,s);o.liveCollection=new wg(a,r,l)}else o.liveCollection.reset();let u=o.liveCollection;if(m1(u,t,o.trackByFn),u.updateIndexes(),o.hasEmptyBlock){let l=us(),h=u.length===0;if(Pn(r,l,h)){let p=n+2,m=$l(r,p);if(h){let y=Ig(i,p),C=La(m,y.tView.ssrId),M=nm(r,y,void 0,{dehydratedView:C});od(m,M,0,Fa(y,C))}else cC(m,0)}}}finally{he(e)}}function $l(t,e){return t[e]}function y1(t,e){return ka(t,e)}function v1(t,e){return aC(t,e)}function Ig(t,e){return xg(t,e)}function _1(t,e,n,r,i,o){let s=e.consts,a=ns(s,i),u=rd(e,t,2,r,a);return tC(e,n,u,ns(s,o)),u.attrs!==null&&ug(u,u.attrs,!1),u.mergedAttrs!==null&&ug(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function N(t,e,n,r){let i=Ee(),o=Et(),s=Lt+t,a=i[We],u=o.firstCreatePass?_1(s,o,i,e,n,r):o.data[s],l=w1(o,i,u,a,e,t);i[s]=l;let h=Mg(u);return za(u,!0),Gb(a,l,u),!Yk(u)&&Fg()&&Yg(o,i,l,u),uP()===0&&Ui(l,i),lP(),h&&(Zb(o,i,u),Jb(o,u,i)),r!==null&&Xb(i,u),N}function x(){let t=Ut();ab()?mP():(t=t.parent,za(t,!1));let e=t;fP(e)&&pP(),dP();let n=Et();return n.firstCreatePass&&(Vg(n,t),K0(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&RP(e)&&p0(n,e,Ee(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&MP(e)&&p0(n,e,Ee(),e.stylesWithoutHost,!1),x}function re(t,e,n,r){return N(t,e,n,r),x(),re}var w1=(t,e,n,r,i,o)=>(Lg(!0),jb(r,i,DP()));function Fn(){return Ee()}var Mi=void 0;function I1(t){let e=t,n=Math.floor(Math.abs(t)),r=t.toString().replace(/^[^.]*\.?/,"").length;return n===1&&r===0?1:5}var E1=["en",[["a","p"],["AM","PM"],Mi],[["AM","PM"],Mi,Mi],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Mi,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Mi,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Mi,"{1} 'at' {0}",Mi],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",I1],Pp={};function cd(t){let e=b1(t),n=v0(e);if(n)return n;let r=e.split("-")[0];if(n=v0(r),n)return n;if(r==="en")return E1;throw new G(701,!1)}function v0(t){return t in Pp||(Pp[t]=ar.ng&&ar.ng.common&&ar.ng.common.locales&&ar.ng.common.locales[t]),Pp[t]}var zi=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(zi||{});function b1(t){return t.toLowerCase().replace(/_/g,"-")}var Hl="en-US",C1="USD";var D1=Hl;function T1(t){typeof t=="string"&&(D1=t.toLowerCase().replace(/_/g,"-"))}var S1=(t,e,n)=>{};function pe(t,e,n,r){let i=Ee(),o=Et(),s=Ut();return bC(o,i,i[We],s,t,e,r),pe}function A1(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let a=e[Tl],u=i[o+2];return a.length>u?a[u]:null}typeof s=="string"&&(o+=2)}return null}function bC(t,e,n,r,i,o,s){let a=Mg(r),l=t.firstCreatePass&&ZO(t),h=e[wt],p=JO(e),m=!0;if(r.type&3||s){let M=tn(r,e),S=s?s(M):M,O=p.length,U=s?$=>s(Nn($[r.index])):r.index,j=null;if(!s&&a&&(j=A1(t,e,i,r.index)),j!==null){let $=j.__ngLastListenerFn__||j;$.__ngNextListenerFn__=o,j.__ngLastListenerFn__=o,m=!1}else{o=w0(r,e,h,o),S1(M,i,o);let $=n.listen(S,i,o);p.push(o,$),l&&l.push(i,U,O,O+1)}}else o=w0(r,e,h,o);let y=r.outputs,C;if(m&&y!==null&&(C=y[i])){let M=C.length;if(M)for(let S=0;S<M;S+=2){let O=C[S],U=C[S+1],ge=e[O][U].subscribe(o),K=p.length;p.push(o,ge),l&&l.push(i,r.index,K,-(K+1))}}}function _0(t,e,n,r){let i=he(null);try{return An(6,e,n),n(r)!==!1}catch(o){return sC(t,o),!1}finally{An(7,e,n),he(i)}}function w0(t,e,n,r){return function i(o){if(o===Function)return r;let s=t.componentOffset>-1?Xr(t.index,e):e;rm(s,5);let a=_0(e,n,r,o),u=i.__ngNextListenerFn__;for(;u;)a=_0(e,n,u,o)&&a,u=u.__ngNextListenerFn__;return a}}function lt(t=1){return CP(t)}function Wa(t,e,n){return CC(t,"",e,"",n),Wa}function CC(t,e,n,r,i){let o=Ee(),s=EC(o,e,n,r);if(s!==pr){let a=Et(),u=Zl();Xg(a,u,o,t,s,o[We],i,!1)}return CC}function R1(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function F(t,e=""){let n=Ee(),r=Et(),i=t+Lt,o=r.firstCreatePass?rd(r,i,1,e,null):r.data[i],s=M1(r,n,o,e,t);n[i]=s,Fg()&&Yg(r,n,s,o),za(o,!1)}var M1=(t,e,n,r,i)=>(Lg(!0),aO(e[We],r));function Ln(t){return yr("",t,""),Ln}function yr(t,e,n){let r=Ee(),i=EC(r,t,e,n);return i!==pr&&XO(r,$i(),i),yr}function it(t,e,n){wC(e)&&(e=e());let r=Ee(),i=us();if(Pn(r,i,e)){let o=Et(),s=Zl();Xg(o,s,r,t,e,r[We],n,!1)}return it}function dt(t,e){let n=wC(t);return n&&t.set(e),n}function ot(t,e){let n=Ee(),r=Et(),i=Ut();return bC(r,n,n[We],i,t,e),ot}function x1(t,e,n){let r=Et();if(r.firstCreatePass){let i=Qr(t);Eg(n,r.data,r.blueprint,i,!0),Eg(e,r.data,r.blueprint,i,!1)}}function Eg(t,e,n,r,i){if(t=At(t),Array.isArray(t))for(let o=0;o<t.length;o++)Eg(t[o],e,n,r,i);else{let o=Et(),s=Ee(),a=Ut(),u=Zo(t)?t:At(t.provide),l=q0(t),h=a.providerIndexes&1048575,p=a.directiveStart,m=a.providerIndexes>>20;if(Zo(t)||!t.multi){let y=new Vi(l,i,de),C=kp(u,e,i?h:h+m,p);C===-1?(Yp(Pl(a,s),o,u),Op(o,t,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(y),s.push(y)):(n[C]=y,s[C]=y)}else{let y=kp(u,e,h+m,p),C=kp(u,e,h,h+m),M=y>=0&&n[y],S=C>=0&&n[C];if(i&&!S||!i&&!M){Yp(Pl(a,s),o,u);let O=O1(i?P1:N1,n.length,i,r,l);!i&&S&&(n[C].providerFactory=O),Op(o,t,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(O),s.push(O)}else{let O=DC(n[i?C:y],l,!i&&r);Op(o,t,y>-1?y:C,O)}!i&&r&&S&&n[C].componentProviders++}}}function Op(t,e,n,r){let i=Zo(e),o=GN(e);if(i||o){let u=(o?At(e.useClass):e).prototype.ngOnDestroy;if(u){let l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let h=l.indexOf(n);h===-1?l.push(n,[r,u]):l[h+1].push(r,u)}else l.push(n,u)}}}function DC(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function kp(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function N1(t,e,n,r){return bg(this.multi,[])}function P1(t,e,n,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=rs(n,n[ae],this.providerFactory.index,r);o=a.slice(0,s),bg(i,o);for(let u=s;u<a.length;u++)o.push(a[u])}else o=[],bg(i,o);return o}function bg(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function O1(t,e,n,r,i){let o=new Vi(t,n,de);return o.multi=[],o.index=e,o.componentProviders=0,DC(o,i,r&&!n),o}function qi(t,e=[]){return n=>{n.providersResolver=(r,i)=>x1(r,i?i(t):t,e)}}var k1=(()=>{let e=class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let i=$0(!1,r.type),o=i.length>0?am([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,o)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=q({token:e,providedIn:"environment",factory:()=>new e(X(Ft))});let t=e;return t})();function Re(t){ni("NgStandalone"),t.getStandaloneInjector=e=>e.get(k1).getOrCreateStandaloneInjector(t)}function TC(t,e,n,r){return AC(Ee(),Pg(),t,e,n,r)}function SC(t,e){let n=t[e];return n===pr?void 0:n}function AC(t,e,n,r,i,o){let s=e+n;return Pn(t,s,i)?IC(t,s+1,o?r.call(o,i):r(i)):SC(t,s+1)}function F1(t,e,n,r,i,o,s){let a=e+n;return Qk(t,a,i,o)?IC(t,a+2,s?r.call(s,i,o):r(i,o)):SC(t,a+2)}function ud(t,e){let n=Et(),r,i=t+Lt;n.firstCreatePass?(r=L1(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let o=r.factory||(r.factory=Pi(r.type,!0)),s,a=Ot(de);try{let u=Nl(!1),l=o();return Nl(u),R1(n,Ee(),i,l),l}finally{Ot(a)}}function L1(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function RC(t,e,n){let r=t+Lt,i=Ee(),o=eb(i,r);return xC(i,r)?AC(i,Pg(),e,o.transform,n,o):o.transform(n)}function MC(t,e,n,r){let i=t+Lt,o=Ee(),s=eb(o,i);return xC(o,i)?F1(o,Pg(),e,s.transform,n,r,s):s.transform(n,r)}function xC(t,e){return t[ae].data[e].pure}var lr=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},NC=new lr("18.1.1");var ld=(()=>{let e=class e{log(r){console.log(r)}warn(r){console.warn(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var PC=new H("");function Gi(t){return!!t&&typeof t.then=="function"}function OC(t){return!!t&&typeof t.subscribe=="function"}var kC=new H(""),FC=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=P(kC,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let o of this.appInits){let s=o();if(Gi(s))r.push(s);else if(OC(s)){let a=new Promise((u,l)=>{s.subscribe({complete:u,error:l})});r.push(a)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(o=>{this.reject(o)}),r.length===0&&i(),this.initialized=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),dd=new H("");function V1(){uE(()=>{throw new G(600,!1)})}function U1(t){return t.isBoundToModule}var j1=10;function B1(t,e,n){try{let r=n();return Gi(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var Wi=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=P(Sb),this.afterRenderEffectManager=P(vC),this.zonelessEnabled=P(im),this.externalTestViews=new Set,this.beforeRender=new rt,this.afterTick=new rt,this.componentTypes=[],this.components=[],this.isStable=P(ti).hasPendingTasks.pipe(te(r=>!r)),this._injector=P(Ft)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,i){let o=r instanceof Ll;if(!this._injector.get(FC).done){let y=!o&&V0(r),C=!1;throw new G(405,C)}let a;o?a=r:a=this._injector.get(os).resolveComponentFactory(r),this.componentTypes.push(a.componentType);let u=U1(a)?void 0:this._injector.get(Yr),l=i||a.selector,h=a.create(It.NULL,[],l,u),p=h.location.nativeElement,m=h.injector.get(PC,null);return m?.registerApplication(p),h.onDestroy(()=>{this.detachView(h.hostView),Fp(this.components,h),m?.unregisterApplication(p)}),this._loadComponent(h),h}tick(){this._tick(!0)}_tick(r){if(this._runningTick)throw new G(101,!1);let i=he(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(r)}catch(o){this.internalErrorHandler(o)}finally{this._runningTick=!1,he(i),this.afterTick.next()}}detectChangesInAttachedViews(r){let i=null;this._injector.destroyed||(i=this._injector.get(ss,null,{optional:!0}));let o=0,s=this.afterRenderEffectManager;for(;o<j1;){let a=o===0;if(r||!a){this.beforeRender.next(a);for(let{_lView:u,notifyErrorHandler:l}of this._views)$1(u,l,a,this.zonelessEnabled)}else i?.begin?.(),i?.end?.();if(o++,s.executeInternalCallbacks(),!this.allViews.some(({_lView:u})=>Oa(u))&&(s.execute(),!this.allViews.some(({_lView:u})=>Oa(u))))break}}attachView(r){let i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){let i=r;Fp(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let i=this._injector.get(dd,[]);[...this._bootstrapListeners,...i].forEach(o=>o(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>Fp(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new G(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Fp(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function $1(t,e,n,r){if(!n&&!Oa(t))return;dC(t,e,n&&!r?0:1)}var Cg=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},cm=(()=>{let e=class e{compileModuleSync(r){return new hg(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let i=this.compileModuleSync(r),o=U0(r),s=Ub(o.declarations).reduce((a,u)=>{let l=Oi(u);return l&&a.push(new Ua(l)),a},[]);return new Cg(i,s)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var H1=(()=>{let e=class e{constructor(){this.zone=P(Ce),this.changeDetectionScheduler=P(Va),this.applicationRef=P(Wi)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),z1=new H("",{factory:()=>!1});function LC({ngZoneFactory:t,ignoreChangesOutsideZone:e}){return t??=()=>new Ce(UC()),[{provide:Ce,useFactory:t},{provide:Jo,multi:!0,useFactory:()=>{let n=P(H1,{optional:!0});return()=>n.initialize()}},{provide:Jo,multi:!0,useFactory:()=>{let n=P(G1);return()=>{n.initialize()}}},{provide:Sb,useFactory:q1},e===!0?{provide:gC,useValue:!0}:[]]}function q1(){let t=P(Ce),e=P(cr);return n=>t.runOutsideAngular(()=>e.handleError(n))}function VC(t){let e=t?.ignoreChangesOutsideZone,n=LC({ngZoneFactory:()=>{let r=UC(t);return r.shouldCoalesceEventChangeDetection&&ni("NgZone_CoalesceEvent"),new Ce(r)},ignoreChangesOutsideZone:e});return Vt([{provide:z1,useValue:!0},{provide:im,useValue:!1},n])}function UC(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var G1=(()=>{let e=class e{constructor(){this.subscription=new Fe,this.initialized=!1,this.zone=P(Ce),this.pendingTasks=P(ti)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Ce.assertNotInAngularZone(),queueMicrotask(()=>{r!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Ce.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var W1=(()=>{let e=class e{constructor(){this.appRef=P(Wi),this.taskService=P(ti),this.ngZone=P(Ce),this.zonelessEnabled=P(im),this.disableScheduling=P(gC,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new Fe,this.cancelScheduledCallback=null,this.shouldRefreshViews=!1,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof cg||!this.zoneIsDefined)}notify(r){if(!this.zonelessEnabled&&r===5)return;switch(r){case 3:case 2:case 0:case 4:case 5:case 1:{this.shouldRefreshViews=!0;break}case 8:case 7:case 6:case 9:default:}if(!this.shouldScheduleTick())return;let i=this.useMicrotaskScheduler?a0:mC;this.pendingRenderTaskId=this.taskService.add(),this.zoneIsDefined?Zone.root.run(()=>{this.cancelScheduledCallback=i(()=>{this.tick(this.shouldRefreshViews)})}):this.cancelScheduledCallback=i(()=>{this.tick(this.shouldRefreshViews)})}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Ce.isInAngularZone())}tick(r){if(this.runningTick||this.appRef.destroyed)return;let i=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick(r)},void 0,this.schedulerTickApplyArgs)}catch(o){throw this.taskService.remove(i),o}finally{this.cleanup()}this.useMicrotaskScheduler=!0,a0(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(i)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.shouldRefreshViews=!1,this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let r=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(r)}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function K1(){return typeof $localize<"u"&&$localize.locale||Hl}var hd=new H("",{providedIn:"root",factory:()=>P(hd,le.Optional|le.SkipSelf)||K1()}),jC=new H("",{providedIn:"root",factory:()=>C1});var BC=new H("");var Il=null;function Q1(t=[],e){return It.create({name:e,providers:[{provide:Kl,useValue:"platform"},{provide:BC,useValue:new Set([()=>Il=null])},...t]})}function Y1(t=[]){if(Il)return Il;let e=Q1(t);return Il=e,V1(),J1(e),e}function J1(t){t.get(Hg,null)?.forEach(n=>n())}var Ki=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=Z1;let t=e;return t})();function Z1(t){return X1(Ut(),Ee(),(t&16)===16)}function X1(t,e,n){if(Yl(t)&&!n){let r=Xr(t.index,e);return new is(r,r)}else if(t.type&175){let r=e[fn];return new is(r,e)}return null}function $C(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=Y1(r),o=[LC({}),{provide:Va,useExisting:W1},...n||[]],a=new Ul({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1}).injector,u=a.get(Ce);return u.run(()=>{a.resolveInjectorInitializers();let l=a.get(cr,null),h;u.runOutsideAngular(()=>{h=u.onError.subscribe({next:y=>{l.handleError(y)}})});let p=()=>a.destroy(),m=i.get(BC);return m.add(p),a.onDestroy(()=>{h.unsubscribe(),m.delete(p)}),B1(l,u,()=>{let y=a.get(FC);return y.runInitializers(),y.donePromise.then(()=>{let C=a.get(hd,Hl);T1(C||Hl);let M=a.get(Wi);return e!==void 0&&M.bootstrap(e),M})})})}catch(e){return Promise.reject(e)}}var HC=new H("");function Qi(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function Ka(t,e){ni("NgSignals");let n=sE(t);return e?.equal&&(n[ir].equal=e.equal),n}function vr(t){let e=he(null);try{return t()}finally{he(e)}}var QC=null;function wr(){return QC}function YC(t){QC??=t}var fd=class{};var xt=new H(""),JC=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=q({token:e,factory:()=>P(tF),providedIn:"platform"});let t=e;return t})();var tF=(()=>{let e=class e extends JC{constructor(){super(),this._doc=P(xt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return wr().getBaseHref(this._doc)}onPopState(r){let i=wr().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){let i=wr().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,o){this._history.pushState(r,i,o)}replaceState(r,i,o){this._history.replaceState(r,i,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=q({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function ZC(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function zC(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function Yi(t){return t&&t[0]!=="?"?"?"+t:t}var hs=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=q({token:e,factory:()=>P(XC),providedIn:"root"});let t=e;return t})(),nF=new H(""),XC=(()=>{let e=class e extends hs{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??P(xt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return ZC(this._baseHref,r)}path(r=!1){let i=this._platformLocation.pathname+Yi(this._platformLocation.search),o=this._platformLocation.hash;return o&&r?`${i}${o}`:i}pushState(r,i,o,s){let a=this.prepareExternalUrl(o+Yi(s));this._platformLocation.pushState(r,i,a)}replaceState(r,i,o,s){let a=this.prepareExternalUrl(o+Yi(s));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(X(JC),X(nF,8))},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Ja=(()=>{let e=class e{constructor(r){this._subject=new Ge,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let i=this._locationStrategy.getBaseHref();this._basePath=oF(zC(qC(i))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+Yi(i))}normalize(r){return e.stripTrailingSlash(iF(this._basePath,qC(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",o=null){this._locationStrategy.pushState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Yi(i)),o)}replaceState(r,i="",o=null){this._locationStrategy.replaceState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Yi(i)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(o=>o(r,i))}subscribe(r,i,o){return this._subject.subscribe({next:r,error:i,complete:o})}};e.normalizeQueryParams=Yi,e.joinWithSlash=ZC,e.stripTrailingSlash=zC,e.\u0275fac=function(i){return new(i||e)(X(hs))},e.\u0275prov=q({token:e,factory:()=>rF(),providedIn:"root"});let t=e;return t})();function rF(){return new Ja(X(hs))}function iF(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function qC(t){return t.replace(/\/index.html$/,"")}function oF(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}var eD={ADP:[void 0,void 0,0],AFN:[void 0,"\u060B",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058F",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20BC"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09F3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xA5","\xA5"],COP:[void 0,"$",2],CRC:[void 0,"\u20A1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010D",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xA3"],ESP:[void 0,"\u20A7",0],EUR:["\u20AC"],FJD:[void 0,"$"],FKP:[void 0,"\xA3"],GBP:["\xA3"],GEL:[void 0,"\u20BE"],GHS:[void 0,"GH\u20B5"],GIP:[void 0,"\xA3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20AA"],INR:["\u20B9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xA5",void 0,0],KHR:[void 0,"\u17DB"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20A9",0],KRW:["\u20A9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20B8"],LAK:[void 0,"\u20AD",0],LBP:[void 0,"L\xA3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20AE",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20A6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20B1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20B2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20BD"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xA3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xA3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xA3",0],THB:[void 0,"\u0E3F"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20BA"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20B4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20AB",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202FCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xA4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]},tD=function(t){return t[t.Decimal=0]="Decimal",t[t.Percent=1]="Percent",t[t.Currency=2]="Currency",t[t.Scientific=3]="Scientific",t}(tD||{});var _r={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function Qa(t,e){let n=cd(t),r=n[zi.NumberSymbols][e];if(typeof r>"u"){if(e===_r.CurrencyDecimal)return n[zi.NumberSymbols][_r.Decimal];if(e===_r.CurrencyGroup)return n[zi.NumberSymbols][_r.Group]}return r}function sF(t,e){return cd(t)[zi.NumberFormats][e]}function aF(t){return cd(t)[zi.Currencies]}function cF(t,e,n="en"){let r=aF(n)[t]||eD[t]||[],i=r[1];return e==="narrow"&&typeof i=="string"?i:r[0]||t}var uF=2;function lF(t){let e,n=eD[t];return n&&(e=n[2]),typeof e=="number"?e:uF}var dF=/^(\d+)?\.((\d+)(-(\d+))?)?$/,GC=22,pd=".",Ya="0",hF=";",fF=",",lm="#",WC="\xA4";function pF(t,e,n,r,i,o,s=!1){let a="",u=!1;if(!isFinite(t))a=Qa(n,_r.Infinity);else{let l=vF(t);s&&(l=yF(l));let h=e.minInt,p=e.minFrac,m=e.maxFrac;if(o){let U=o.match(dF);if(U===null)throw new Error(`${o} is not a valid digit info`);let j=U[1],$=U[3],ge=U[5];j!=null&&(h=dm(j)),$!=null&&(p=dm($)),ge!=null?m=dm(ge):$!=null&&p>m&&(m=p)}_F(l,p,m);let y=l.digits,C=l.integerLen,M=l.exponent,S=[];for(u=y.every(U=>!U);C<h;C++)y.unshift(0);for(;C<0;C++)y.unshift(0);C>0?S=y.splice(C,y.length):(S=y,y=[0]);let O=[];for(y.length>=e.lgSize&&O.unshift(y.splice(-e.lgSize,y.length).join(""));y.length>e.gSize;)O.unshift(y.splice(-e.gSize,y.length).join(""));y.length&&O.unshift(y.join("")),a=O.join(Qa(n,r)),S.length&&(a+=Qa(n,i)+S.join("")),M&&(a+=Qa(n,_r.Exponential)+"+"+M)}return t<0&&!u?a=e.negPre+a+e.negSuf:a=e.posPre+a+e.posSuf,a}function gF(t,e,n,r,i){let o=sF(e,tD.Currency),s=mF(o,Qa(e,_r.MinusSign));return s.minFrac=lF(r),s.maxFrac=s.minFrac,pF(t,s,e,_r.CurrencyGroup,_r.CurrencyDecimal,i).replace(WC,n).replace(WC,"").trim()}function mF(t,e="-"){let n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=t.split(hF),i=r[0],o=r[1],s=i.indexOf(pd)!==-1?i.split(pd):[i.substring(0,i.lastIndexOf(Ya)+1),i.substring(i.lastIndexOf(Ya)+1)],a=s[0],u=s[1]||"";n.posPre=a.substring(0,a.indexOf(lm));for(let h=0;h<u.length;h++){let p=u.charAt(h);p===Ya?n.minFrac=n.maxFrac=h+1:p===lm?n.maxFrac=h+1:n.posSuf+=p}let l=a.split(fF);if(n.gSize=l[1]?l[1].length:0,n.lgSize=l[2]||l[1]?(l[2]||l[1]).length:0,o){let h=i.length-n.posPre.length-n.posSuf.length,p=o.indexOf(lm);n.negPre=o.substring(0,p).replace(/'/g,""),n.negSuf=o.slice(p+h).replace(/'/g,"")}else n.negPre=e+n.posPre,n.negSuf=n.posSuf;return n}function yF(t){if(t.digits[0]===0)return t;let e=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(e===0?t.digits.push(0,0):e===1&&t.digits.push(0),t.integerLen+=2),t}function vF(t){let e=Math.abs(t)+"",n=0,r,i,o,s,a;for((i=e.indexOf(pd))>-1&&(e=e.replace(pd,"")),(o=e.search(/e/i))>0?(i<0&&(i=o),i+=+e.slice(o+1),e=e.substring(0,o)):i<0&&(i=e.length),o=0;e.charAt(o)===Ya;o++);if(o===(a=e.length))r=[0],i=1;else{for(a--;e.charAt(a)===Ya;)a--;for(i-=o,r=[],s=0;o<=a;o++,s++)r[s]=Number(e.charAt(o))}return i>GC&&(r=r.splice(0,GC-1),n=i-1,i=1),{digits:r,exponent:n,integerLen:i}}function _F(t,e,n){if(e>n)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${n}).`);let r=t.digits,i=r.length-t.integerLen,o=Math.min(Math.max(e,i),n),s=o+t.integerLen,a=r[s];if(s>0){r.splice(Math.max(t.integerLen,s));for(let p=s;p<r.length;p++)r[p]=0}else{i=Math.max(0,i),t.integerLen=1,r.length=Math.max(1,s=o+1),r[0]=0;for(let p=1;p<s;p++)r[p]=0}if(a>=5)if(s-1<0){for(let p=0;p>s;p--)r.unshift(0),t.integerLen++;r.unshift(1),t.integerLen++}else r[s-1]++;for(;i<Math.max(0,o);i++)r.push(0);let u=o!==0,l=e+t.integerLen,h=r.reduceRight(function(p,m,y,C){return m=m+p,C[y]=m<10?m:m-10,u&&(C[y]===0&&y>=l?C.pop():u=!1),m>=10?1:0},0);h&&(r.unshift(h),t.integerLen++)}function dm(t){let e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e}function gd(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var hm=/\s+/,KC=[],nD=(()=>{let e=class e{constructor(r,i){this._ngEl=r,this._renderer=i,this.initialClasses=KC,this.stateMap=new Map}set klass(r){this.initialClasses=r!=null?r.trim().split(hm):KC}set ngClass(r){this.rawClass=typeof r=="string"?r.trim().split(hm):r}ngDoCheck(){for(let i of this.initialClasses)this._updateState(i,!0);let r=this.rawClass;if(Array.isArray(r)||r instanceof Set)for(let i of r)this._updateState(i,!0);else if(r!=null)for(let i of Object.keys(r))this._updateState(i,!!r[i]);this._applyStateDiff()}_updateState(r,i){let o=this.stateMap.get(r);o!==void 0?(o.enabled!==i&&(o.changed=!0,o.enabled=i),o.touched=!0):this.stateMap.set(r,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(let r of this.stateMap){let i=r[0],o=r[1];o.changed?(this._toggleClass(i,o.enabled),o.changed=!1):o.touched||(o.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),o.touched=!1}}_toggleClass(r,i){r=r.trim(),r.length>0&&r.split(hm).forEach(o=>{i?this._renderer.addClass(this._ngEl.nativeElement,o):this._renderer.removeClass(this._ngEl.nativeElement,o)})}};e.\u0275fac=function(i){return new(i||e)(de(vn),de(kn))},e.\u0275dir=Xe({type:e,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0});let t=e;return t})();function wF(t,e){return new G(2100,!1)}var md=(()=>{let e=class e{constructor(r,i="USD"){this._locale=r,this._defaultCurrencyCode=i}transform(r,i=this._defaultCurrencyCode,o="symbol",s,a){if(!IF(r))return null;a||=this._locale,typeof o=="boolean"&&(o=o?"symbol":"code");let u=i||this._defaultCurrencyCode;o!=="code"&&(o==="symbol"||o==="symbol-narrow"?u=cF(u,o==="symbol"?"wide":"narrow",a):u=o);try{let l=EF(r);return gF(l,a,u,i,s)}catch(l){throw wF(e,l.message)}}};e.\u0275fac=function(i){return new(i||e)(de(hd,16),de(jC,16))},e.\u0275pipe=k0({name:"currency",type:e,pure:!0,standalone:!0});let t=e;return t})();function IF(t){return!(t==null||t===""||t!==t)}function EF(t){if(typeof t=="string"&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if(typeof t!="number")throw new Error(`${t} is not a number`);return t}var Ji=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Zr({type:e}),e.\u0275inj=Jr({});let t=e;return t})(),rD="browser",bF="server";function yd(t){return t===bF}var ds=class{};var ec=class{},_d=class{},Ir=class t{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let i=n.slice(0,r),o=i.toLowerCase(),s=n.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,n);let i=(e.op==="a"?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":let o=e.value;if(!o)this.headers.delete(n),this.normalizedNames.delete(n);else{let s=this.headers.get(n);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}break}}setHeaderEntries(e,n){let r=(Array.isArray(n)?n:[n]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var pm=class{encodeKey(e){return iD(e)}encodeValue(e){return iD(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function CF(t,e){let n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],u=n.get(s)||[];u.push(a),n.set(s,u)}),n}var DF=/%(\d[a-f0-9])/gi,TF={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function iD(t){return encodeURIComponent(t).replace(DF,(e,n)=>TF[n]??e)}function vd(t){return`${t}`}var ii=class t{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new pm,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=CF(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{let r=e.fromObject[n],i=Array.isArray(r)?r.map(vd):[vd(r)];this.map.set(n,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){let n=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(o=>{n.push({param:r,value:o,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let n=(e.op==="a"?this.map.get(e.param):void 0)||[];n.push(vd(e.value)),this.map.set(e.param,n);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(vd(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var gm=class{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function SF(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function oD(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function sD(t){return typeof Blob<"u"&&t instanceof Blob}function aD(t){return typeof FormData<"u"&&t instanceof FormData}function AF(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var Xa=class t{constructor(e,n,r,i){this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let o;if(SF(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new Ir,this.context??=new gm,!this.params)this.params=new ii,this.urlWithParams=n;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=n;else{let a=n.indexOf("?"),u=a===-1?"?":a<n.length-1?"&":"";this.urlWithParams=n+u+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||oD(this.body)||sD(this.body)||aD(this.body)||AF(this.body)?this.body:this.body instanceof ii?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||aD(this.body)?null:sD(this.body)?this.body.type||null:oD(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof ii?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=e.transferCache??this.transferCache,s=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,u=e.reportProgress??this.reportProgress,l=e.headers||this.headers,h=e.params||this.params,p=e.context??this.context;return e.setHeaders!==void 0&&(l=Object.keys(e.setHeaders).reduce((m,y)=>m.set(y,e.setHeaders[y]),l)),e.setParams&&(h=Object.keys(e.setParams).reduce((m,y)=>m.set(y,e.setParams[y]),h)),new t(n,r,s,{params:h,headers:l,context:p,reportProgress:u,responseType:i,withCredentials:a,transferCache:o})}},oi=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(oi||{}),tc=class{constructor(e,n=200,r="OK"){this.headers=e.headers||new Ir,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},wd=class t extends tc{constructor(e={}){super(e),this.type=oi.ResponseHeader}clone(e={}){return new t({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},nc=class t extends tc{constructor(e={}){super(e),this.type=oi.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},ri=class extends tc{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},dD=200,RF=204;function fm(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}var vm=(()=>{let e=class e{constructor(r){this.handler=r}request(r,i,o={}){let s;if(r instanceof Xa)s=r;else{let l;o.headers instanceof Ir?l=o.headers:l=new Ir(o.headers);let h;o.params&&(o.params instanceof ii?h=o.params:h=new ii({fromObject:o.params})),s=new Xa(r,i,o.body!==void 0?o.body:null,{headers:l,context:o.context,params:h,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials,transferCache:o.transferCache})}let a=Q(s).pipe(Hr(l=>this.handler.handle(l)));if(r instanceof Xa||o.observe==="events")return a;let u=a.pipe(zt(l=>l instanceof nc));switch(o.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return u.pipe(te(l=>{if(l.body!==null&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return u.pipe(te(l=>{if(l.body!==null&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return u.pipe(te(l=>{if(l.body!==null&&typeof l.body!="string")throw new Error("Response is not a string.");return l.body}));case"json":default:return u.pipe(te(l=>l.body))}case"response":return u;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(r,i={}){return this.request("DELETE",r,i)}get(r,i={}){return this.request("GET",r,i)}head(r,i={}){return this.request("HEAD",r,i)}jsonp(r,i){return this.request("JSONP",r,{params:new ii().append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(r,i={}){return this.request("OPTIONS",r,i)}patch(r,i,o={}){return this.request("PATCH",r,fm(o,i))}post(r,i,o={}){return this.request("POST",r,fm(o,i))}put(r,i,o={}){return this.request("PUT",r,fm(o,i))}};e.\u0275fac=function(i){return new(i||e)(X(ec))},e.\u0275prov=q({token:e,factory:e.\u0275fac});let t=e;return t})(),MF=/^\)\]\}',?\n/,xF="X-Request-URL";function cD(t){if(t.url)return t.url;let e=xF.toLocaleLowerCase();return t.headers.get(e)}var NF=(()=>{let e=class e{constructor(){this.fetchImpl=P(mm,{optional:!0})?.fetch??fetch.bind(globalThis),this.ngZone=P(Ce)}handle(r){return new ue(i=>{let o=new AbortController;return this.doRequest(r,o.signal,i).then(ym,s=>i.error(new ri({error:s}))),()=>o.abort()})}doRequest(r,i,o){return w(this,null,function*(){let s=this.createRequestInit(r),a;try{let C=this.ngZone.runOutsideAngular(()=>this.fetchImpl(r.urlWithParams,B({signal:i},s)));PF(C),o.next({type:oi.Sent}),a=yield C}catch(C){o.error(new ri({error:C,status:C.status??0,statusText:C.statusText,url:r.urlWithParams,headers:C.headers}));return}let u=new Ir(a.headers),l=a.statusText,h=cD(a)??r.urlWithParams,p=a.status,m=null;if(r.reportProgress&&o.next(new wd({headers:u,status:p,statusText:l,url:h})),a.body){let C=a.headers.get("content-length"),M=[],S=a.body.getReader(),O=0,U,j,$=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>w(this,null,function*(){for(;;){let{done:K,value:E}=yield S.read();if(K)break;if(M.push(E),O+=E.length,r.reportProgress){j=r.responseType==="text"?(j??"")+(U??=new TextDecoder).decode(E,{stream:!0}):void 0;let v=()=>o.next({type:oi.DownloadProgress,total:C?+C:void 0,loaded:O,partialText:j});$?$.run(v):v()}}}));let ge=this.concatChunks(M,O);try{let K=a.headers.get("Content-Type")??"";m=this.parseBody(r,ge,K)}catch(K){o.error(new ri({error:K,headers:new Ir(a.headers),status:a.status,statusText:a.statusText,url:cD(a)??r.urlWithParams}));return}}p===0&&(p=m?dD:0),p>=200&&p<300?(o.next(new nc({body:m,headers:u,status:p,statusText:l,url:h})),o.complete()):o.error(new ri({error:m,headers:u,status:p,statusText:l,url:h}))})}parseBody(r,i,o){switch(r.responseType){case"json":let s=new TextDecoder().decode(i).replace(MF,"");return s===""?null:JSON.parse(s);case"text":return new TextDecoder().decode(i);case"blob":return new Blob([i],{type:o});case"arraybuffer":return i.buffer}}createRequestInit(r){let i={},o=r.withCredentials?"include":void 0;if(r.headers.forEach((s,a)=>i[s]=a.join(",")),r.headers.has("Accept")||(i.Accept="application/json, text/plain, */*"),!r.headers.has("Content-Type")){let s=r.detectContentTypeHeader();s!==null&&(i["Content-Type"]=s)}return{body:r.serializeBody(),method:r.method,headers:i,credentials:o}}concatChunks(r,i){let o=new Uint8Array(i),s=0;for(let a of r)o.set(a,s),s+=a.length;return o}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=q({token:e,factory:e.\u0275fac});let t=e;return t})(),mm=class{};function ym(){}function PF(t){t.then(ym,ym)}function OF(t,e){return e(t)}function kF(t,e,n){return(r,i)=>pn(n,()=>e(r,o=>t(o,i)))}var hD=new H(""),FF=new H(""),LF=new H("",{providedIn:"root",factory:()=>!0});var uD=(()=>{let e=class e extends ec{constructor(r,i){super(),this.backend=r,this.injector=i,this.chain=null,this.pendingTasks=P(ti),this.contributeToStability=P(LF)}handle(r){if(this.chain===null){let i=Array.from(new Set([...this.injector.get(hD),...this.injector.get(FF,[])]));this.chain=i.reduceRight((o,s)=>kF(o,s,this.injector),OF)}if(this.contributeToStability){let i=this.pendingTasks.add();return this.chain(r,o=>this.backend.handle(o)).pipe(Ri(()=>this.pendingTasks.remove(i)))}else return this.chain(r,i=>this.backend.handle(i))}};e.\u0275fac=function(i){return new(i||e)(X(_d),X(Ft))},e.\u0275prov=q({token:e,factory:e.\u0275fac});let t=e;return t})();var VF=/^\)\]\}',?\n/;function UF(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}var lD=(()=>{let e=class e{constructor(r){this.xhrFactory=r}handle(r){if(r.method==="JSONP")throw new G(-2800,!1);let i=this.xhrFactory;return(i.\u0275loadImpl?Se(i.\u0275loadImpl()):Q(null)).pipe(Gt(()=>new ue(s=>{let a=i.build();if(a.open(r.method,r.urlWithParams),r.withCredentials&&(a.withCredentials=!0),r.headers.forEach((S,O)=>a.setRequestHeader(S,O.join(","))),r.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!r.headers.has("Content-Type")){let S=r.detectContentTypeHeader();S!==null&&a.setRequestHeader("Content-Type",S)}if(r.responseType){let S=r.responseType.toLowerCase();a.responseType=S!=="json"?S:"text"}let u=r.serializeBody(),l=null,h=()=>{if(l!==null)return l;let S=a.statusText||"OK",O=new Ir(a.getAllResponseHeaders()),U=UF(a)||r.url;return l=new wd({headers:O,status:a.status,statusText:S,url:U}),l},p=()=>{let{headers:S,status:O,statusText:U,url:j}=h(),$=null;O!==RF&&($=typeof a.response>"u"?a.responseText:a.response),O===0&&(O=$?dD:0);let ge=O>=200&&O<300;if(r.responseType==="json"&&typeof $=="string"){let K=$;$=$.replace(VF,"");try{$=$!==""?JSON.parse($):null}catch(E){$=K,ge&&(ge=!1,$={error:E,text:$})}}ge?(s.next(new nc({body:$,headers:S,status:O,statusText:U,url:j||void 0})),s.complete()):s.error(new ri({error:$,headers:S,status:O,statusText:U,url:j||void 0}))},m=S=>{let{url:O}=h(),U=new ri({error:S,status:a.status||0,statusText:a.statusText||"Unknown Error",url:O||void 0});s.error(U)},y=!1,C=S=>{y||(s.next(h()),y=!0);let O={type:oi.DownloadProgress,loaded:S.loaded};S.lengthComputable&&(O.total=S.total),r.responseType==="text"&&a.responseText&&(O.partialText=a.responseText),s.next(O)},M=S=>{let O={type:oi.UploadProgress,loaded:S.loaded};S.lengthComputable&&(O.total=S.total),s.next(O)};return a.addEventListener("load",p),a.addEventListener("error",m),a.addEventListener("timeout",m),a.addEventListener("abort",m),r.reportProgress&&(a.addEventListener("progress",C),u!==null&&a.upload&&a.upload.addEventListener("progress",M)),a.send(u),s.next({type:oi.Sent}),()=>{a.removeEventListener("error",m),a.removeEventListener("abort",m),a.removeEventListener("load",p),a.removeEventListener("timeout",m),r.reportProgress&&(a.removeEventListener("progress",C),u!==null&&a.upload&&a.upload.removeEventListener("progress",M)),a.readyState!==a.DONE&&a.abort()}})))}};e.\u0275fac=function(i){return new(i||e)(X(ds))},e.\u0275prov=q({token:e,factory:e.\u0275fac});let t=e;return t})(),fD=new H(""),jF="XSRF-TOKEN",BF=new H("",{providedIn:"root",factory:()=>jF}),$F="X-XSRF-TOKEN",HF=new H("",{providedIn:"root",factory:()=>$F}),Id=class{},zF=(()=>{let e=class e{constructor(r,i,o){this.doc=r,this.platform=i,this.cookieName=o,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let r=this.doc.cookie||"";return r!==this.lastCookieString&&(this.parseCount++,this.lastToken=gd(r,this.cookieName),this.lastCookieString=r),this.lastToken}};e.\u0275fac=function(i){return new(i||e)(X(xt),X(On),X(BF))},e.\u0275prov=q({token:e,factory:e.\u0275fac});let t=e;return t})();function qF(t,e){let n=t.url.toLowerCase();if(!P(fD)||t.method==="GET"||t.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return e(t);let r=P(Id).getToken(),i=P(HF);return r!=null&&!t.headers.has(i)&&(t=t.clone({headers:t.headers.set(i,r)})),e(t)}function pD(...t){let e=[vm,lD,uD,{provide:ec,useExisting:uD},{provide:_d,useFactory:()=>P(NF,{optional:!0})??P(lD)},{provide:hD,useValue:qF,multi:!0},{provide:fD,useValue:!0},{provide:Id,useClass:zF}];for(let n of t)e.push(...n.\u0275providers);return Vt(e)}var Im=class extends fd{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Em=class t extends Im{static makeCurrent(){YC(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=GF();return n==null?null:WF(n)}resetBaseElement(){rc=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return gd(document.cookie,e)}},rc=null;function GF(){return rc=rc||document.querySelector("base"),rc?rc.getAttribute("href"):null}function WF(t){return new URL(t,document.baseURI).pathname}var KF=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=q({token:e,factory:e.\u0275fac});let t=e;return t})(),Ed=new H(""),vD=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(o=>{o.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,o){return this._findPluginFor(i).addEventListener(r,i,o)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(s=>s.supports(r)),!i)throw new G(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(X(Ed),X(Ce))},e.\u0275prov=q({token:e,factory:e.\u0275fac});let t=e;return t})(),ic=class{constructor(e){this._doc=e}},_m="ng-app-id",_D=(()=>{let e=class e{constructor(r,i,o,s={}){this.doc=r,this.appId=i,this.nonce=o,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=yd(s),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(o=>o.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${_m}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(o=>{o.textContent!=null&&i.set(o.textContent,o)}),i}return null}changeUsageCount(r,i){let o=this.styleRef;if(o.has(r)){let s=o.get(r);return s.usage+=i,s.usage}return o.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let o=this.styleNodesInDOM,s=o?.get(i);if(s?.parentNode===r)return o.delete(i),s.removeAttribute(_m),s;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(_m,this.appId),r.appendChild(a),a}}addStyleToHost(r,i){let o=this.getStyleElement(r,i),s=this.styleRef,a=s.get(i)?.elements;a?a.push(o):s.set(i,{elements:[o],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(X(xt),X($g),X(zg,8),X(On))},e.\u0275prov=q({token:e,factory:e.\u0275fac});let t=e;return t})(),wm={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Cm=/%COMP%/g,wD="%COMP%",QF=`_nghost-${wD}`,YF=`_ngcontent-${wD}`,JF=!0,ZF=new H("",{providedIn:"root",factory:()=>JF});function XF(t){return YF.replace(Cm,t)}function eL(t){return QF.replace(Cm,t)}function ID(t,e){return e.map(n=>n.replace(Cm,t))}var gD=(()=>{let e=class e{constructor(r,i,o,s,a,u,l,h=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=o,this.removeStylesOnCompDestroy=s,this.doc=a,this.platformId=u,this.ngZone=l,this.nonce=h,this.rendererByCompId=new Map,this.platformIsServer=yd(u),this.defaultRenderer=new oc(r,a,l,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Mn.ShadowDom&&(i=_e(B({},i),{encapsulation:Mn.Emulated}));let o=this.getOrCreateRenderer(r,i);return o instanceof bd?o.applyToHost(r):o instanceof sc&&o.applyStyles(),o}getOrCreateRenderer(r,i){let o=this.rendererByCompId,s=o.get(i.id);if(!s){let a=this.doc,u=this.ngZone,l=this.eventManager,h=this.sharedStylesHost,p=this.removeStylesOnCompDestroy,m=this.platformIsServer;switch(i.encapsulation){case Mn.Emulated:s=new bd(l,h,i,this.appId,p,a,u,m);break;case Mn.ShadowDom:return new bm(l,h,r,i,a,u,this.nonce,m);default:s=new sc(l,h,i,p,a,u,m);break}o.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(X(vD),X(_D),X($g),X(ZF),X(xt),X(On),X(Ce),X(zg))},e.\u0275prov=q({token:e,factory:e.\u0275fac});let t=e;return t})(),oc=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(wm[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(mD(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(mD(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new G(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let o=wm[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=wm[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(ur.DashCase|ur.Important)?e.style.setProperty(n,r,i&ur.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&ur.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=wr().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function mD(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var bm=class extends oc{constructor(e,n,r,i,o,s,a,u){super(e,o,s,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=ID(i.id,i.styles);for(let h of l){let p=document.createElement("style");a&&p.setAttribute("nonce",a),p.textContent=h,this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},sc=class extends oc{constructor(e,n,r,i,o,s,a,u){super(e,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=u?ID(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},bd=class extends sc{constructor(e,n,r,i,o,s,a,u){let l=i+"-"+r.id;super(e,n,r,o,s,a,u,l),this.contentAttr=XF(l),this.hostAttr=eL(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},tL=(()=>{let e=class e extends ic{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,o){return r.addEventListener(i,o,!1),()=>this.removeEventListener(r,i,o)}removeEventListener(r,i,o){return r.removeEventListener(i,o)}};e.\u0275fac=function(i){return new(i||e)(X(xt))},e.\u0275prov=q({token:e,factory:e.\u0275fac});let t=e;return t})(),nL=(()=>{let e=class e extends ic{constructor(r){super(r),this.delegate=P(HC,{optional:!0})}supports(r){return this.delegate?this.delegate.supports(r):!1}addEventListener(r,i,o){return this.delegate.addEventListener(r,i,o)}removeEventListener(r,i,o){return this.delegate.removeEventListener(r,i,o)}};e.\u0275fac=function(i){return new(i||e)(X(xt))},e.\u0275prov=q({token:e,factory:e.\u0275fac});let t=e;return t})(),yD=["alt","control","meta","shift"],rL={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},iL={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},oL=(()=>{let e=class e extends ic{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,o){let s=e.parseEventName(i),a=e.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>wr().onAndCancel(r,s.domEventName,a))}static parseEventName(r){let i=r.toLowerCase().split("."),o=i.shift();if(i.length===0||!(o==="keydown"||o==="keyup"))return null;let s=e._normalizeKey(i.pop()),a="",u=i.indexOf("code");if(u>-1&&(i.splice(u,1),a="code."),yD.forEach(h=>{let p=i.indexOf(h);p>-1&&(i.splice(p,1),a+=h+".")}),a+=s,i.length!=0||s.length===0)return null;let l={};return l.domEventName=o,l.fullKey=a,l}static matchEventFullKeyCode(r,i){let o=rL[r.key]||r.key,s="";return i.indexOf("code.")>-1&&(o=r.code,s="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),yD.forEach(a=>{if(a!==o){let u=iL[a];u(r)&&(s+=a+".")}}),s+=o,s===i)}static eventCallback(r,i,o){return s=>{e.matchEventFullKeyCode(s,r)&&o.runGuarded(()=>i(s))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(X(xt))},e.\u0275prov=q({token:e,factory:e.\u0275fac});let t=e;return t})();function ED(t,e){return $C(B({rootComponent:t},sL(e)))}function sL(t){return{appProviders:[...dL,...t?.providers??[]],platformProviders:lL}}function aL(){Em.makeCurrent()}function cL(){return new cr}function uL(){return Ob(document),document}var lL=[{provide:On,useValue:rD},{provide:Hg,useValue:aL,multi:!0},{provide:xt,useFactory:uL,deps:[]}];var dL=[{provide:Kl,useValue:"root"},{provide:cr,useFactory:cL,deps:[]},{provide:Ed,useClass:tL,multi:!0,deps:[xt,Ce,On]},{provide:Ed,useClass:oL,multi:!0,deps:[xt]},{provide:Ed,useClass:nL,multi:!0},gD,_D,vD,{provide:ss,useExisting:gD},{provide:ds,useClass:KF,deps:[]},[]];var bD=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(X(xt))},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var ce="primary",Ec=Symbol("RouteTitle"),Rm=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function vs(t){return new Rm(t)}function fL(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=t[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function pL(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Vn(t[n],e[n]))return!1;return!0}function Vn(t,e){let n=t?Mm(t):void 0,r=e?Mm(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!xD(t[i],e[i]))return!1;return!0}function Mm(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function xD(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}else return t===e}function ND(t){return t.length>0?t[t.length-1]:null}function si(t){return fp(t)?t:Gi(t)?Se(Promise.resolve(t)):Q(t)}var gL={exact:OD,subset:kD},PD={exact:mL,subset:yL,ignored:()=>!0};function CD(t,e,n){return gL[n.paths](t.root,e.root,n.matrixParams)&&PD[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function mL(t,e){return Vn(t,e)}function OD(t,e,n){if(!Xi(t.segments,e.segments)||!Td(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!OD(t.children[r],e.children[r],n))return!1;return!0}function yL(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>xD(t[n],e[n]))}function kD(t,e,n){return FD(t,e,e.segments,n)}function FD(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!Xi(i,n)||e.hasChildren()||!Td(i,n,r))}else if(t.segments.length===n.length){if(!Xi(t.segments,n)||!Td(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!kD(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!Xi(t.segments,i)||!Td(t.segments,i,r)||!t.children[ce]?!1:FD(t.children[ce],e,o,r)}}function Td(t,e,n){return e.every((r,i)=>PD[n](t[i].parameters,r.parameters))}var br=class{constructor(e=new Te([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=vs(this.queryParams),this._queryParamMap}toString(){return wL.serialize(this)}},Te=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Sd(this)}},Zi=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=vs(this.parameters),this._parameterMap}toString(){return VD(this)}};function vL(t,e){return Xi(t,e)&&t.every((n,r)=>Vn(n.parameters,e[r].parameters))}function Xi(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function _L(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===ce&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==ce&&(n=n.concat(e(i,r)))}),n}var ny=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=q({token:e,factory:()=>new fc,providedIn:"root"});let t=e;return t})(),fc=class{parse(e){let n=new Nm(e);return new br(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${ac(e.root,!0)}`,r=bL(e.queryParams),i=typeof e.fragment=="string"?`#${IL(e.fragment)}`:"";return`${n}${r}${i}`}},wL=new fc;function Sd(t){return t.segments.map(e=>VD(e)).join("/")}function ac(t,e){if(!t.hasChildren())return Sd(t);if(e){let n=t.children[ce]?ac(t.children[ce],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==ce&&r.push(`${i}:${ac(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=_L(t,(r,i)=>i===ce?[ac(t.children[ce],!1)]:[`${i}:${ac(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[ce]!=null?`${Sd(t)}/${n[0]}`:`${Sd(t)}/(${n.join("//")})`}}function LD(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Cd(t){return LD(t).replace(/%3B/gi,";")}function IL(t){return encodeURI(t)}function xm(t){return LD(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ad(t){return decodeURIComponent(t)}function DD(t){return Ad(t.replace(/\+/g,"%20"))}function VD(t){return`${xm(t.path)}${EL(t.parameters)}`}function EL(t){return Object.entries(t).map(([e,n])=>`;${xm(e)}=${xm(n)}`).join("")}function bL(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${Cd(n)}=${Cd(i)}`).join("&"):`${Cd(n)}=${Cd(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var CL=/^[^\/()?;#]+/;function Dm(t){let e=t.match(CL);return e?e[0]:""}var DL=/^[^\/()?;=#]+/;function TL(t){let e=t.match(DL);return e?e[0]:""}var SL=/^[^=?&#]+/;function AL(t){let e=t.match(SL);return e?e[0]:""}var RL=/^[^&#]+/;function ML(t){let e=t.match(RL);return e?e[0]:""}var Nm=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Te([],{}):new Te([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[ce]=new Te(e,n)),r}parseSegment(){let e=Dm(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new G(4009,!1);return this.capture(e),new Zi(Ad(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=TL(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=Dm(this.remaining);i&&(r=i,this.capture(r))}e[Ad(n)]=Ad(r)}parseQueryParam(e){let n=AL(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=ML(this.remaining);s&&(r=s,this.capture(r))}let i=DD(n),o=DD(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Dm(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new G(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=ce);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[ce]:new Te([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new G(4011,!1)}};function UD(t){return t.segments.length>0?new Te([],{[ce]:t}):t}function jD(t){let e={};for(let[r,i]of Object.entries(t.children)){let o=jD(i);if(r===ce&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let n=new Te(t.segments,e);return xL(n)}function xL(t){if(t.numberOfChildren===1&&t.children[ce]){let e=t.children[ce];return new Te(t.segments.concat(e.segments),e.children)}return t}function eo(t){return t instanceof br}function NL(t,e,n=null,r=null){let i=BD(t);return $D(i,e,n,r)}function BD(t){let e;function n(o){let s={};for(let u of o.children){let l=n(u);s[u.outlet]=l}let a=new Te(o.url,s);return o===t&&(e=a),a}let r=n(t.root),i=UD(r);return e??i}function $D(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return Tm(i,i,i,n,r);let o=PL(e);if(o.toRoot())return Tm(i,i,new Te([],{}),n,r);let s=OL(o,i,t),a=s.processChildren?lc(s.segmentGroup,s.index,o.commands):zD(s.segmentGroup,s.index,o.commands);return Tm(i,s.segmentGroup,a,n,r)}function Rd(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function pc(t){return typeof t=="object"&&t!=null&&t.outlets}function Tm(t,e,n,r,i){let o={};r&&Object.entries(r).forEach(([u,l])=>{o[u]=Array.isArray(l)?l.map(h=>`${h}`):`${l}`});let s;t===e?s=n:s=HD(t,e,n);let a=UD(jD(s));return new br(a,o,i)}function HD(t,e,n){let r={};return Object.entries(t.children).forEach(([i,o])=>{o===e?r[i]=n:r[i]=HD(o,e,n)}),new Te(t.segments,r)}var Md=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Rd(r[0]))throw new G(4003,!1);let i=r.find(pc);if(i&&i!==ND(r))throw new G(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function PL(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new Md(!0,0,t);let e=0,n=!1,r=t.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([u,l])=>{a[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new Md(n,e,r)}var gs=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function OL(t,e,n){if(t.isAbsolute)return new gs(e,!0,0);if(!n)return new gs(e,!1,NaN);if(n.parent===null)return new gs(n,!0,0);let r=Rd(t.commands[0])?0:1,i=n.segments.length-1+r;return kL(n,i,t.numberOfDoubleDots)}function kL(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new G(4005,!1);i=r.segments.length}return new gs(r,!1,i-o)}function FL(t){return pc(t[0])?t[0].outlets:{[ce]:t}}function zD(t,e,n){if(t??=new Te([],{}),t.segments.length===0&&t.hasChildren())return lc(t,e,n);let r=LL(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let o=new Te(t.segments.slice(0,r.pathIndex),{});return o.children[ce]=new Te(t.segments.slice(r.pathIndex),t.children),lc(o,0,i)}else return r.match&&i.length===0?new Te(t.segments,{}):r.match&&!t.hasChildren()?Pm(t,e,n):r.match?lc(t,0,i):Pm(t,e,n)}function lc(t,e,n){if(n.length===0)return new Te(t.segments,{});{let r=FL(n),i={};if(Object.keys(r).some(o=>o!==ce)&&t.children[ce]&&t.numberOfChildren===1&&t.children[ce].segments.length===0){let o=lc(t.children[ce],e,n);return new Te(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=zD(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new Te(t.segments,i)}}function LL(t,e,n){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;let s=t.segments[i],a=n[r];if(pc(a))break;let u=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!SD(u,l,s))return o;r+=2}else{if(!SD(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Pm(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let o=n[i];if(pc(o)){let u=VL(o.outlets);return new Te(r,u)}if(i===0&&Rd(n[0])){let u=t.segments[e];r.push(new Zi(u.path,TD(n[0]))),i++;continue}let s=pc(o)?o.outlets[ce]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&Rd(a)?(r.push(new Zi(s,TD(a))),i+=2):(r.push(new Zi(s,{})),i++)}return new Te(r,{})}function VL(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=Pm(new Te([],{}),0,r))}),e}function TD(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function SD(t,e,n){return t==n.path&&Vn(e,n.parameters)}var dc="imperative",ht=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(ht||{}),on=class{constructor(e,n){this.id=e,this.url=n}},gc=class extends on{constructor(e,n,r="imperative",i=null){super(e,n),this.type=ht.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},In=class extends on{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=ht.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Qt=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(Qt||{}),Om=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(Om||{}),Er=class extends on{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=ht.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},to=class extends on{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=ht.NavigationSkipped}},mc=class extends on{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=ht.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},xd=class extends on{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=ht.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},km=class extends on{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=ht.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Fm=class extends on{constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=ht.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Lm=class extends on{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=ht.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Vm=class extends on{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=ht.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Um=class{constructor(e){this.route=e,this.type=ht.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},jm=class{constructor(e){this.route=e,this.type=ht.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Bm=class{constructor(e){this.snapshot=e,this.type=ht.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},$m=class{constructor(e){this.snapshot=e,this.type=ht.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Hm=class{constructor(e){this.snapshot=e,this.type=ht.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},zm=class{constructor(e){this.snapshot=e,this.type=ht.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var yc=class{},_s=class{constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function UL(t,e){return t.providers&&!t._injector&&(t._injector=am(t.providers,e,`Route: ${t.path}`)),t._injector??e}function wn(t){return t.outlet||ce}function jL(t,e){let n=t.filter(r=>wn(r)===e);return n.push(...t.filter(r=>wn(r)!==e)),n}function bc(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var qm=class{get injector(){return bc(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new Vd(this.rootInjector),this.attachRef=null}},Vd=(()=>{let e=class e{constructor(r){this.rootInjector=r,this.contexts=new Map}onChildOutletCreated(r,i){let o=this.getOrCreateContext(r);o.outlet=i,this.contexts.set(r,o)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new qm(this.rootInjector),this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)(X(Ft))},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Nd=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=Gm(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=Gm(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=Wm(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Wm(e,this._root).map(n=>n.value)}};function Gm(t,e){if(t===e.value)return e;for(let n of e.children){let r=Gm(t,n);if(r)return r}return null}function Wm(t,e){if(t===e.value)return[e];for(let n of e.children){let r=Wm(t,n);if(r.length)return r.unshift(e),r}return[]}var Kt=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function ps(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var Pd=class extends Nd{constructor(e,n){super(e),this.snapshot=n,ry(this,e)}toString(){return this.snapshot.toString()}};function qD(t){let e=BL(t),n=new ct([new Zi("",{})]),r=new ct({}),i=new ct({}),o=new ct({}),s=new ct(""),a=new no(n,r,o,s,i,ce,t,e.root);return a.snapshot=e.root,new Pd(new Kt(a,[]),e)}function BL(t){let e={},n={},r={},i="",o=new ms([],e,r,i,n,ce,t,null,{});return new kd("",new Kt(o,[]))}var no=class{constructor(e,n,r,i,o,s,a,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(te(l=>l[Ec]))??Q(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(te(e=>vs(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(te(e=>vs(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Od(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:B(B({},e.params),t.params),data:B(B({},e.data),t.data),resolve:B(B(B(B({},t.data),e.data),i?.data),t._resolvedData)}:r={params:B({},t.params),data:B({},t.data),resolve:B(B({},t.data),t._resolvedData??{})},i&&WD(i)&&(r.resolve[Ec]=i.title),r}var ms=class{get title(){return this.data?.[Ec]}constructor(e,n,r,i,o,s,a,u,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=vs(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=vs(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},kd=class extends Nd{constructor(e,n){super(n),this.url=e,ry(this,n)}toString(){return GD(this._root)}};function ry(t,e){e.value._routerState=t,e.children.forEach(n=>ry(t,n))}function GD(t){let e=t.children.length>0?` { ${t.children.map(GD).join(", ")} } `:"";return`${t.value}${e}`}function Sm(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Vn(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Vn(e.params,n.params)||t.paramsSubject.next(n.params),pL(e.url,n.url)||t.urlSubject.next(n.url),Vn(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Km(t,e){let n=Vn(t.params,e.params)&&vL(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||Km(t.parent,e.parent))}function WD(t){return typeof t.title=="string"||t.title===null}var iy=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=ce,this.activateEvents=new Ge,this.deactivateEvents=new Ge,this.attachEvents=new Ge,this.detachEvents=new Ge,this.parentContexts=P(Vd),this.location=P(sd),this.changeDetector=P(Ki),this.inputBinder=P(oy,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:o}=r.name;if(i)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new G(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new G(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new G(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new G(4013,!1);this._activatedRoute=r;let o=this.location,a=r.snapshot.component,u=this.parentContexts.getOrCreateContext(this.name).children,l=new Qm(r,u,o.injector);this.activated=o.createComponent(a,{index:o.length,injector:l,environmentInjector:i}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Xe({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Bi]});let t=e;return t})(),Qm=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===no?this.route:e===Vd?this.childContexts:this.parent.get(e,n)}},oy=new H("");function $L(t,e,n){let r=vc(t,e._root,n?n._root:void 0);return new Pd(r,e)}function vc(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=HL(t,e,n);return new Kt(r,i)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>vc(t,a)),s}}let r=zL(e.value),i=e.children.map(o=>vc(t,o));return new Kt(r,i)}}function HL(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return vc(t,r,i);return vc(t,r)})}function zL(t){return new no(new ct(t.url),new ct(t.params),new ct(t.queryParams),new ct(t.fragment),new ct(t.data),t.outlet,t.component,t)}var _c=class{constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},KD="ngNavigationCancelingError";function Fd(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=eo(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=QD(!1,Qt.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function QD(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[KD]=!0,n.cancellationCode=e,n}function qL(t){return YD(t)&&eo(t.url)}function YD(t){return!!t&&t[KD]}var GL=(t,e,n,r)=>te(i=>(new Ym(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),Ym=class{constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Sm(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=ps(n);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=ps(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=ps(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=ps(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new zm(o.value.snapshot))}),e.children.length&&this.forwardEvent(new $m(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(Sm(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Sm(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},Ld=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},ys=class{constructor(e,n){this.component=e,this.route=n}};function WL(t,e,n){let r=t._root,i=e?e._root:null;return cc(r,i,n,[r.value])}function KL(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Is(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!b0(t)?t:e.get(t):r}function cc(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=ps(e);return t.children.forEach(s=>{QL(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>hc(a,n.getContext(s),i)),i}function QL(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let u=YL(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new Ld(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?cc(t,e,a?a.children:null,r,i):cc(t,e,n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new ys(a.outlet.component,s))}else s&&hc(e,a,i),i.canActivateChecks.push(new Ld(r)),o.component?cc(t,null,a?a.children:null,r,i):cc(t,null,n,r,i);return i}function YL(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!Xi(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Xi(t.url,e.url)||!Vn(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Km(t,e)||!Vn(t.queryParams,e.queryParams);case"paramsChange":default:return!Km(t,e)}}function hc(t,e,n){let r=ps(t),i=t.value;Object.entries(r).forEach(([o,s])=>{i.component?e?hc(s,e.children.getContext(o),n):hc(s,null,n):hc(s,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new ys(e.outlet.component,i)):n.canDeactivateChecks.push(new ys(null,i)):n.canDeactivateChecks.push(new ys(null,i))}function Cc(t){return typeof t=="function"}function JL(t){return typeof t=="boolean"}function ZL(t){return t&&Cc(t.canLoad)}function XL(t){return t&&Cc(t.canActivate)}function eV(t){return t&&Cc(t.canActivateChild)}function tV(t){return t&&Cc(t.canDeactivate)}function nV(t){return t&&Cc(t.canMatch)}function JD(t){return t instanceof or||t?.name==="EmptyError"}var Dd=Symbol("INITIAL_VALUE");function ws(){return Gt(t=>ll(t.map(e=>e.pipe(sr(1),_p(Dd)))).pipe(te(e=>{for(let n of e)if(n!==!0){if(n===Dd)return Dd;if(n===!1||rV(n))return n}return!0}),zt(e=>e!==Dd),sr(1)))}function rV(t){return eo(t)||t instanceof _c}function iV(t,e){return Je(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?Q(_e(B({},n),{guardsResult:!0})):oV(s,r,i,t).pipe(Je(a=>a&&JL(a)?sV(r,o,t,e):Q(a)),te(a=>_e(B({},n),{guardsResult:a})))})}function oV(t,e,n,r){return Se(t).pipe(Je(i=>dV(i.component,i.route,n,e,r)),Sn(i=>i!==!0,!0))}function sV(t,e,n,r){return Se(e).pipe(Hr(i=>Ho(cV(i.route.parent,r),aV(i.route,r),lV(t,i.path,n),uV(t,i.route,n))),Sn(i=>i!==!0,!0))}function aV(t,e){return t!==null&&e&&e(new Hm(t)),Q(!0)}function cV(t,e){return t!==null&&e&&e(new Bm(t)),Q(!0)}function uV(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return Q(!0);let i=r.map(o=>dl(()=>{let s=bc(e)??n,a=Is(o,s),u=XL(a)?a.canActivate(e,t):pn(s,()=>a(e,t));return si(u).pipe(Sn())}));return Q(i).pipe(ws())}function lV(t,e,n){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>KL(s)).filter(s=>s!==null).map(s=>dl(()=>{let a=s.guards.map(u=>{let l=bc(s.node)??n,h=Is(u,l),p=eV(h)?h.canActivateChild(r,t):pn(l,()=>h(r,t));return si(p).pipe(Sn())});return Q(a).pipe(ws())}));return Q(o).pipe(ws())}function dV(t,e,n,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return Q(!0);let s=o.map(a=>{let u=bc(e)??i,l=Is(a,u),h=tV(l)?l.canDeactivate(t,e,n,r):pn(u,()=>l(t,e,n,r));return si(h).pipe(Sn())});return Q(s).pipe(ws())}function hV(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return Q(!0);let o=i.map(s=>{let a=Is(s,t),u=ZL(a)?a.canLoad(e,n):pn(t,()=>a(e,n));return si(u)});return Q(o).pipe(ws(),ZD(r))}function ZD(t){return op(qe(e=>{if(typeof e!="boolean")throw Fd(t,e)}),te(e=>e===!0))}function fV(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return Q(!0);let o=i.map(s=>{let a=Is(s,t),u=nV(a)?a.canMatch(e,n):pn(t,()=>a(e,n));return si(u)});return Q(o).pipe(ws(),ZD(r))}var wc=class{constructor(e){this.segmentGroup=e||null}},Ic=class extends Error{constructor(e){super(),this.urlTree=e}};function fs(t){return $o(new wc(t))}function pV(t){return $o(new G(4e3,!1))}function gV(t){return $o(QD(!1,Qt.GuardRejected))}var Jm=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return Q(r);if(i.numberOfChildren>1||!i.children[ce])return pV(`${e.redirectTo}`);i=i.children[ce]}}applyRedirectCommands(e,n,r,i,o){if(typeof n!="string"){let a=n,{queryParams:u,fragment:l,routeConfig:h,url:p,outlet:m,params:y,data:C,title:M}=i,S=pn(o,()=>a({params:y,data:C,queryParams:u,fragment:l,routeConfig:h,url:p,outlet:m,title:M}));if(S instanceof br)throw new Ic(S);n=S}let s=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n[0]==="/")throw new Ic(s);return s}applyRedirectCreateUrlTree(e,n,r,i){let o=this.createSegmentGroup(e,n.root,r,i);return new br(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){let o=this.createSegments(e,n.segments,r,i),s={};return Object.entries(n.children).forEach(([a,u])=>{s[a]=this.createSegmentGroup(e,u,r,i)}),new Te(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new G(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},Zm={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function mV(t,e,n,r,i){let o=sy(t,e,n);return o.matched?(r=UL(e,r),fV(r,e,n,i).pipe(te(s=>s===!0?o:B({},Zm)))):Q(o)}function sy(t,e,n){if(e.path==="**")return yV(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?B({},Zm):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||fL)(n,t,e);if(!i)return B({},Zm);let o={};Object.entries(i.posParams??{}).forEach(([a,u])=>{o[a]=u.path});let s=i.consumed.length>0?B(B({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function yV(t){return{matched:!0,parameters:t.length>0?ND(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function AD(t,e,n,r){return n.length>0&&wV(t,n,r)?{segmentGroup:new Te(e,_V(r,new Te(n,t.children))),slicedSegments:[]}:n.length===0&&IV(t,n,r)?{segmentGroup:new Te(t.segments,vV(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new Te(t.segments,t.children),slicedSegments:n}}function vV(t,e,n,r){let i={};for(let o of n)if(Ud(t,e,o)&&!r[wn(o)]){let s=new Te([],{});i[wn(o)]=s}return B(B({},r),i)}function _V(t,e){let n={};n[ce]=e;for(let r of t)if(r.path===""&&wn(r)!==ce){let i=new Te([],{});n[wn(r)]=i}return n}function wV(t,e,n){return n.some(r=>Ud(t,e,r)&&wn(r)!==ce)}function IV(t,e,n){return n.some(r=>Ud(t,e,r))}function Ud(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function EV(t,e,n,r){return wn(t)!==r&&(r===ce||!Ud(e,n,t))?!1:sy(e,t,n).matched}function bV(t,e,n){return e.length===0&&!t.children[n]}var Xm=class{};function CV(t,e,n,r,i,o,s="emptyOnly"){return new ey(t,e,n,r,i,s,o).recognize()}var DV=31,ey=class{constructor(e,n,r,i,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new Jm(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new G(4002,`'${e.segmentGroup}'`)}recognize(){let e=AD(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(te(({children:n,rootSnapshot:r})=>{let i=new Kt(r,n),o=new kd("",i),s=NL(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let n=new ms([],Object.freeze({}),Object.freeze(B({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),ce,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,ce,n).pipe(te(r=>({children:r,rootSnapshot:n})),qt(r=>{if(r instanceof Ic)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof wc?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r,o):this.processSegment(e,n,r,r.segments,i,!0,o).pipe(te(s=>s instanceof Kt?[s]:[]))}processChildren(e,n,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return Se(o).pipe(Hr(s=>{let a=r.children[s],u=jL(n,s);return this.processSegmentGroup(e,u,a,s,i)}),vp((s,a)=>(s.push(...a),s)),zr(null),yp(),Je(s=>{if(s===null)return fs(r);let a=XD(s);return TV(a),Q(a)}))}processSegment(e,n,r,i,o,s,a){return Se(n).pipe(Hr(u=>this.processSegmentAgainstRoute(u._injector??e,n,u,r,i,o,s,a).pipe(qt(l=>{if(l instanceof wc)return Q(null);throw l}))),Sn(u=>!!u),qt(u=>{if(JD(u))return bV(r,i,o)?Q(new Xm):fs(r);throw u}))}processSegmentAgainstRoute(e,n,r,i,o,s,a,u){return EV(r,i,o,s)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,u):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s,u):fs(i):fs(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s,a){let{matched:u,parameters:l,consumedSegments:h,positionalParamSegments:p,remainingSegments:m}=sy(n,i,o);if(!u)return fs(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>DV&&(this.allowRedirects=!1));let y=new ms(o,l,Object.freeze(B({},this.urlTree.queryParams)),this.urlTree.fragment,RD(i),wn(i),i.component??i._loadedComponent??null,i,MD(i)),C=Od(y,a,this.paramsInheritanceStrategy);y.params=Object.freeze(C.params),y.data=Object.freeze(C.data);let M=this.applyRedirects.applyRedirectCommands(h,i.redirectTo,p,y,e);return this.applyRedirects.lineralizeSegments(i,M).pipe(Je(S=>this.processSegment(e,r,n,S.concat(m),s,!1,a)))}matchSegmentAgainstRoute(e,n,r,i,o,s){let a=mV(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),a.pipe(Gt(u=>u.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Gt(({routes:l})=>{let h=r._loadedInjector??e,{parameters:p,consumedSegments:m,remainingSegments:y}=u,C=new ms(m,p,Object.freeze(B({},this.urlTree.queryParams)),this.urlTree.fragment,RD(r),wn(r),r.component??r._loadedComponent??null,r,MD(r)),M=Od(C,s,this.paramsInheritanceStrategy);C.params=Object.freeze(M.params),C.data=Object.freeze(M.data);let{segmentGroup:S,slicedSegments:O}=AD(n,m,y,l);if(O.length===0&&S.hasChildren())return this.processChildren(h,l,S,C).pipe(te(j=>new Kt(C,j)));if(l.length===0&&O.length===0)return Q(new Kt(C,[]));let U=wn(r)===o;return this.processSegment(h,l,S,O,U?ce:o,!0,C).pipe(te(j=>new Kt(C,j instanceof Kt?[j]:[])))}))):fs(n)))}getChildConfig(e,n,r){return n.children?Q({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?Q({routes:n._loadedRoutes,injector:n._loadedInjector}):hV(e,n,r,this.urlSerializer).pipe(Je(i=>i?this.configLoader.loadChildren(e,n).pipe(qe(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):gV(n))):Q({routes:[],injector:e})}};function TV(t){t.sort((e,n)=>e.value.outlet===ce?-1:n.value.outlet===ce?1:e.value.outlet.localeCompare(n.value.outlet))}function SV(t){let e=t.value.routeConfig;return e&&e.path===""}function XD(t){let e=[],n=new Set;for(let r of t){if(!SV(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=XD(r.children);e.push(new Kt(r.value,i))}return e.filter(r=>!n.has(r))}function RD(t){return t.data||{}}function MD(t){return t.resolve||{}}function AV(t,e,n,r,i,o){return Je(s=>CV(t,e,n,r,s.extractedUrl,i,o).pipe(te(({state:a,tree:u})=>_e(B({},s),{targetSnapshot:a,urlAfterRedirects:u}))))}function RV(t,e){return Je(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return Q(n);let o=new Set(i.map(u=>u.route)),s=new Set;for(let u of o)if(!s.has(u))for(let l of eT(u))s.add(l);let a=0;return Se(s).pipe(Hr(u=>o.has(u)?MV(u,r,t,e):(u.data=Od(u,u.parent,t).resolve,Q(void 0))),qe(()=>a++),zo(1),Je(u=>a===s.size?Q(n):Ht))})}function eT(t){let e=t.children.map(n=>eT(n)).flat();return[t,...e]}function MV(t,e,n,r){let i=t.routeConfig,o=t._resolve;return i?.title!==void 0&&!WD(i)&&(o[Ec]=i.title),xV(o,t,e,r).pipe(te(s=>(t._resolvedData=s,t.data=Od(t,t.parent,n).resolve,null)))}function xV(t,e,n,r){let i=Mm(t);if(i.length===0)return Q({});let o={};return Se(i).pipe(Je(s=>NV(t[s],e,n,r).pipe(Sn(),qe(a=>{if(a instanceof _c)throw Fd(new fc,a);o[s]=a}))),zo(1),mp(o),qt(s=>JD(s)?Ht:$o(s)))}function NV(t,e,n,r){let i=bc(e)??r,o=Is(t,i),s=o.resolve?o.resolve(e,n):pn(i,()=>o(e,n));return si(s)}function Am(t){return Gt(e=>{let n=t(e);return n?Se(n).pipe(te(()=>e)):Q(e)})}var tT=(()=>{let e=class e{buildTitle(r){let i,o=r.root;for(;o!==void 0;)i=this.getResolvedTitleForRoute(o)??i,o=o.children.find(s=>s.outlet===ce);return i}getResolvedTitleForRoute(r){return r.data[Ec]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=q({token:e,factory:()=>P(PV),providedIn:"root"});let t=e;return t})(),PV=(()=>{let e=class e extends tT{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(X(bD))},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),ay=new H("",{providedIn:"root",factory:()=>({})}),OV=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Ae({type:e,selectors:[["ng-component"]],standalone:!0,features:[Re],decls:1,vars:0,template:function(i,o){i&1&&re(0,"router-outlet")},dependencies:[iy],encapsulation:2});let t=e;return t})();function cy(t){let e=t.children&&t.children.map(cy),n=e?_e(B({},t),{children:e}):B({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==ce&&(n.component=OV),n}var uy=new H(""),kV=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=P(cm)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return Q(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=si(r.loadComponent()).pipe(te(nT),qe(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),Ri(()=>{this.componentLoaders.delete(r)})),o=new Vo(i,()=>new rt).pipe(Lo());return this.componentLoaders.set(r,o),o}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return Q({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let s=FV(i,this.compiler,r,this.onLoadEndListener).pipe(Ri(()=>{this.childrenLoaders.delete(i)})),a=new Vo(s,()=>new rt).pipe(Lo());return this.childrenLoaders.set(i,a),a}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function FV(t,e,n,r){return si(t.loadChildren()).pipe(te(nT),Je(i=>i instanceof ja||Array.isArray(i)?Q(i):Se(e.compileModuleAsync(i))),te(i=>{r&&r(t);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(n).injector,s=o.get(uy,[],{optional:!0,self:!0}).flat()),{routes:s.map(cy),injector:o}}))}function LV(t){return t&&typeof t=="object"&&"default"in t}function nT(t){return LV(t)?t.default:t}var ly=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=q({token:e,factory:()=>P(VV),providedIn:"root"});let t=e;return t})(),VV=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),UV=new H("");var jV=new H(""),BV=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new rt,this.transitionAbortSubject=new rt,this.configLoader=P(kV),this.environmentInjector=P(Ft),this.urlSerializer=P(ny),this.rootContexts=P(Vd),this.location=P(Ja),this.inputBindingEnabled=P(oy,{optional:!0})!==null,this.titleStrategy=P(tT),this.options=P(ay,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=P(ly),this.createViewTransition=P(UV,{optional:!0}),this.navigationErrorHandler=P(jV,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Q(void 0),this.rootComponentType=null;let r=o=>this.events.next(new Um(o)),i=o=>this.events.next(new jm(o));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(_e(B(B({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,o){return this.transitions=new ct({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:dc,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(zt(s=>s.id!==0),te(s=>_e(B({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),Gt(s=>{let a=!1,u=!1;return Q(s).pipe(Gt(l=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",Qt.SupersededByNewNavigation),Ht;this.currentTransition=s,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,targetBrowserUrl:typeof l.extras.browserUrl=="string"?this.urlSerializer.parse(l.extras.browserUrl):l.extras.browserUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?_e(B({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let h=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),p=l.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!h&&p!=="reload"){let m="";return this.events.next(new to(l.id,this.urlSerializer.serialize(l.rawUrl),m,Om.IgnoredSameUrlNavigation)),l.resolve(!1),Ht}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return Q(l).pipe(Gt(m=>{let y=this.transitions?.getValue();return this.events.next(new gc(m.id,this.urlSerializer.serialize(m.extractedUrl),m.source,m.restoredState)),y!==this.transitions?.getValue()?Ht:Promise.resolve(m)}),AV(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),qe(m=>{s.targetSnapshot=m.targetSnapshot,s.urlAfterRedirects=m.urlAfterRedirects,this.currentNavigation=_e(B({},this.currentNavigation),{finalUrl:m.urlAfterRedirects});let y=new xd(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(y)}));if(h&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:m,extractedUrl:y,source:C,restoredState:M,extras:S}=l,O=new gc(m,this.urlSerializer.serialize(y),C,M);this.events.next(O);let U=qD(this.rootComponentType).snapshot;return this.currentTransition=s=_e(B({},l),{targetSnapshot:U,urlAfterRedirects:y,extras:_e(B({},S),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=y,Q(s)}else{let m="";return this.events.next(new to(l.id,this.urlSerializer.serialize(l.extractedUrl),m,Om.IgnoredByUrlHandlingStrategy)),l.resolve(!1),Ht}}),qe(l=>{let h=new km(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}),te(l=>(this.currentTransition=s=_e(B({},l),{guards:WL(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),s)),iV(this.environmentInjector,l=>this.events.next(l)),qe(l=>{if(s.guardsResult=l.guardsResult,l.guardsResult&&typeof l.guardsResult!="boolean")throw Fd(this.urlSerializer,l.guardsResult);let h=new Fm(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(h)}),zt(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",Qt.GuardRejected),!1)),Am(l=>{if(l.guards.canActivateChecks.length)return Q(l).pipe(qe(h=>{let p=new Lm(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(p)}),Gt(h=>{let p=!1;return Q(h).pipe(RV(this.paramsInheritanceStrategy,this.environmentInjector),qe({next:()=>p=!0,complete:()=>{p||this.cancelNavigationTransition(h,"",Qt.NoDataFromResolver)}}))}),qe(h=>{let p=new Vm(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(p)}))}),Am(l=>{let h=p=>{let m=[];p.routeConfig?.loadComponent&&!p.routeConfig._loadedComponent&&m.push(this.configLoader.loadComponent(p.routeConfig).pipe(qe(y=>{p.component=y}),te(()=>{})));for(let y of p.children)m.push(...h(y));return m};return ll(h(l.targetSnapshot.root)).pipe(zr(null),sr(1))}),Am(()=>this.afterPreactivation()),Gt(()=>{let{currentSnapshot:l,targetSnapshot:h}=s,p=this.createViewTransition?.(this.environmentInjector,l.root,h.root);return p?Se(p).pipe(te(()=>s)):Q(s)}),te(l=>{let h=$L(r.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=s=_e(B({},l),{targetRouterState:h}),this.currentNavigation.targetRouterState=h,s}),qe(()=>{this.events.next(new yc)}),GL(this.rootContexts,r.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),sr(1),qe({next:l=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new In(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{a=!0}}),wp(this.transitionAbortSubject.pipe(qe(l=>{throw l}))),Ri(()=>{!a&&!u&&this.cancelNavigationTransition(s,"",Qt.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),qt(l=>{if(u=!0,YD(l))this.events.next(new Er(s.id,this.urlSerializer.serialize(s.extractedUrl),l.message,l.cancellationCode)),qL(l)?this.events.next(new _s(l.url,l.navigationBehaviorOptions)):s.resolve(!1);else{let h=new mc(s.id,this.urlSerializer.serialize(s.extractedUrl),l,s.targetSnapshot??void 0);try{let p=pn(this.environmentInjector,()=>this.navigationErrorHandler?.(h));if(p instanceof _c){let{message:m,cancellationCode:y}=Fd(this.urlSerializer,p);this.events.next(new Er(s.id,this.urlSerializer.serialize(s.extractedUrl),m,y)),this.events.next(new _s(p.redirectTo,p.navigationBehaviorOptions))}else{this.events.next(h);let m=r.errorHandler(l);s.resolve(!!m)}}catch(p){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(p)}}return Ht}))}))}cancelNavigationTransition(r,i,o){let s=new Er(r.id,this.urlSerializer.serialize(r.extractedUrl),i,o);this.events.next(s),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let r=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),i=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return r.toString()!==i?.toString()&&!this.currentNavigation?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function $V(t){return t!==dc}var HV=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=q({token:e,factory:()=>P(zV),providedIn:"root"});let t=e;return t})(),ty=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},zV=(()=>{let e=class e extends ty{};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=ei(e)))(o||e)}})(),e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),rT=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=q({token:e,factory:()=>P(qV),providedIn:"root"});let t=e;return t})(),qV=(()=>{let e=class e extends rT{constructor(){super(...arguments),this.location=P(Ja),this.urlSerializer=P(ny),this.options=P(ay,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=P(ly),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new br,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=qD(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof gc)this.stateMemento=this.createStateMemento();else if(r instanceof to)this.rawUrlTree=i.initialUrl;else if(r instanceof xd){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let o=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(i.targetBrowserUrl??o,i)}}else r instanceof yc?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&!i.extras.skipLocationChange&&this.setBrowserUrl(i.targetBrowserUrl??this.rawUrlTree,i)):r instanceof Er&&(r.code===Qt.GuardRejected||r.code===Qt.NoDataFromResolver)?this.restoreHistory(i):r instanceof mc?this.restoreHistory(i,!0):r instanceof In&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let o=r instanceof br?this.urlSerializer.serialize(r):r;if(this.location.isCurrentPathEqualTo(o)||i.extras.replaceUrl){let s=this.browserPageId,a=B(B({},i.extras.state),this.generateNgRouterState(i.id,s));this.location.replaceState(o,"",a)}else{let s=B(B({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(o,"",s)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,s=this.currentPageId-o;s!==0?this.location.historyGo(s):this.currentUrlTree===r.finalUrl&&s===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=ei(e)))(o||e)}})(),e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),uc=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(uc||{});function GV(t,e){t.events.pipe(zt(n=>n instanceof In||n instanceof Er||n instanceof mc||n instanceof to),te(n=>n instanceof In||n instanceof to?uc.COMPLETE:(n instanceof Er?n.code===Qt.Redirect||n.code===Qt.SupersededByNewNavigation:!1)?uc.REDIRECTING:uc.FAILED),zt(n=>n!==uc.REDIRECTING),sr(1)).subscribe(()=>{e()})}function WV(t){throw t}var KV={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},QV={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},ft=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=P(ld),this.stateManager=P(rT),this.options=P(ay,{optional:!0})||{},this.pendingTasks=P(ti),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=P(BV),this.urlSerializer=P(ny),this.location=P(Ja),this.urlHandlingStrategy=P(ly),this._events=new rt,this.errorHandler=this.options.errorHandler||WV,this.navigated=!1,this.routeReuseStrategy=P(HV),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=P(uy,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!P(oy,{optional:!0}),this.eventsSubscription=new Fe,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let o=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(o!==null&&s!==null){if(this.stateManager.handleRouterEvent(i,s),i instanceof Er&&i.code!==Qt.Redirect&&i.code!==Qt.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof In)this.navigated=!0;else if(i instanceof _s){let a=i.navigationBehaviorOptions,u=this.urlHandlingStrategy.merge(i.url,o.currentRawUrl),l=B({browserUrl:o.extras.browserUrl,info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:o.extras.replaceUrl||this.urlUpdateStrategy==="eager"||$V(o.source)},a);this.scheduleNavigation(u,dc,null,l,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}JV(i)&&this._events.next(i)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),dc,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)})}navigateToSyncWithBrowser(r,i,o){let s={replaceUrl:!0},a=o?.navigationId?o:null;if(o){let l=B({},o);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(s.state=l)}let u=this.parseUrl(r);this.scheduleNavigation(u,i,a,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(cy),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:o,queryParams:s,fragment:a,queryParamsHandling:u,preserveFragment:l}=i,h=l?this.currentUrlTree.fragment:a,p=null;switch(u){case"merge":p=B(B({},this.currentUrlTree.queryParams),s);break;case"preserve":p=this.currentUrlTree.queryParams;break;default:p=s||null}p!==null&&(p=this.removeEmptyProps(p));let m;try{let y=o?o.snapshot:this.routerState.snapshot.root;m=BD(y)}catch{(typeof r[0]!="string"||r[0][0]!=="/")&&(r=[]),m=this.currentUrlTree.root}return $D(m,r,p,h??null)}navigateByUrl(r,i={skipLocationChange:!1}){let o=eo(r)?r:this.parseUrl(r),s=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(s,dc,null,i)}navigate(r,i={skipLocationChange:!1}){return YV(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let o;if(i===!0?o=B({},KV):i===!1?o=B({},QV):o=i,eo(r))return CD(this.currentUrlTree,r,o);let s=this.parseUrl(r);return CD(this.currentUrlTree,s,o)}removeEmptyProps(r){return Object.entries(r).reduce((i,[o,s])=>(s!=null&&(i[o]=s),i),{})}scheduleNavigation(r,i,o,s,a){if(this.disposed)return Promise.resolve(!1);let u,l,h;a?(u=a.resolve,l=a.reject,h=a.promise):h=new Promise((m,y)=>{u=m,l=y});let p=this.pendingTasks.add();return GV(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(p))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:s,resolve:u,reject:l,promise:h,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),h.catch(m=>Promise.reject(m))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function YV(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new G(4008,!1)}function JV(t){return!(t instanceof yc)&&!(t instanceof _s)}var iT=(()=>{let e=class e{constructor(r,i,o,s,a,u){this.router=r,this.route=i,this.tabIndexAttribute=o,this.renderer=s,this.el=a,this.locationStrategy=u,this.href=null,this.onChanges=new rt,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;let l=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area",this.isAnchorElement?this.subscription=r.events.subscribe(h=>{h instanceof In&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(r){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",r)}ngOnChanges(r){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(r){r==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(eo(r)?this.routerLinkInput=r:this.routerLinkInput=Array.isArray(r)?r:[r],this.setTabIndexIfNotOnNativeEl("0"))}onClick(r,i,o,s,a){let u=this.urlTree;if(u===null||this.isAnchorElement&&(r!==0||i||o||s||a||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(u,l),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let r=this.urlTree;this.href=r!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(r)):null;let i=this.href===null?null:Lb(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(r,i){let o=this.renderer,s=this.el.nativeElement;i!==null?o.setAttribute(s,r,i):o.removeAttribute(s,r)}get urlTree(){return this.routerLinkInput===null?null:eo(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};e.\u0275fac=function(i){return new(i||e)(de(ft),de(no),jg("tabindex"),de(kn),de(vn),de(hs))},e.\u0275dir=Xe({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,o){i&1&&pe("click",function(a){return o.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),i&2&&ad("target",o.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Qi],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Qi],replaceUrl:[2,"replaceUrl","replaceUrl",Qi],routerLink:"routerLink"},standalone:!0,features:[sm,Bi]});let t=e;return t})();var ZV=new H("");function oT(t,...e){return Vt([{provide:uy,multi:!0,useValue:t},[],{provide:no,useFactory:XV,deps:[ft]},{provide:dd,multi:!0,useFactory:eU},e.map(n=>n.\u0275providers)])}function XV(t){return t.routerState.root}function eU(){let t=P(It);return e=>{let n=t.get(Wi);if(e!==n.components[0])return;let r=t.get(ft),i=t.get(tU);t.get(nU)===1&&r.initialNavigation(),t.get(rU,null,le.Optional)?.setUpPreloading(),t.get(ZV,null,le.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var tU=new H("",{factory:()=>new rt}),nU=new H("",{providedIn:"root",factory:()=>1});var rU=new H("");var sT=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275cmp=Ae({type:t,selectors:[["app-contacto"]],standalone:!0,features:[Re],decls:35,vars:0,consts:[[1,"container"],[1,"main-titulo"],["action","https://formsubmit.co/rayan_22_dorrego@hotmail.com","method","POST"],[1,"div-form-container"],[1,"mb-3"],["for","exampleFormControlInput1",1,"form-label"],["type","text","id","exampleFormControlInput1","name","nombre","placeholder","Tu Nombre",1,"form-control"],["type","text","id","exampleFormControlInput1","name","apellido","placeholder","Tu Apellido",1,"form-control"],["type","text","id","exampleFormControlInput1","name","telefono","placeholder","11-2345-6789",1,"form-control"],["type","email","id","exampleFormControlInput1","name","email","placeholder","name@example.com",1,"form-control"],["for","exampleFormControlTextarea1",1,"form-label"],["id","exampleFormControlTextarea1","rows","10","name","mensaje","placeholder","Cual es tu Asunto",1,"form-control"],["type","hidden","name","_next","value","http://localhost:4200/home"],["type","hidden","name","_captcha","value","false"],["type","hidden","name","_template","value","_template"],["type","submit",1,"btn","btn-outline-secondary"]],template:function(r,i){r&1&&(N(0,"div",0)(1,"div",1),re(2,"hr"),N(3,"h3"),F(4,"CONTACTO"),x(),re(5,"hr"),x(),N(6,"p"),F(7,"\xBFTienes alguna pregunta sobre tu compra? Estamos aqu\xED para ayudarte. Por favor, completa el formulario a continuaci\xF3n y te responderemos a la brevedad."),x(),N(8,"form",2)(9,"div",3)(10,"div",4)(11,"label",5),F(12,"Nombre"),x(),re(13,"input",6),x(),N(14,"div",4)(15,"label",5),F(16,"Apellido"),x(),re(17,"input",7),x(),N(18,"div",4)(19,"label",5),F(20,"Telefono"),x(),re(21,"input",8),x(),N(22,"div",4)(23,"label",5),F(24,"Email"),x(),re(25,"input",9),x()(),N(26,"div",4)(27,"label",10),F(28,"Mensaje"),x(),re(29,"textarea",11),x(),re(30,"input",12)(31,"input",13)(32,"input",14),N(33,"button",15),F(34,"Enviar"),x()()())},styles:[".container[_ngcontent-%COMP%]{margin:1% 15% 1% 16%;display:grid}.main-titulo[_ngcontent-%COMP%]{display:flex;align-items:center;margin:2%}hr[_ngcontent-%COMP%]{width:30%;margin:auto}p[_ngcontent-%COMP%]{width:45%;margin:5% 30%;font-size:150%;text-align:center}.div-form-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:20px}.mb-3[_ngcontent-%COMP%]{flex:1 1 calc(50% - 20px)}button[_ngcontent-%COMP%]{margin:3% 45% 5%}form[_ngcontent-%COMP%]{margin:3% 10%}"]})}return t})();var Es=(()=>{class t{productCard;typeMoneda="USD";static \u0275fac=function(r){return new(r||t)};static \u0275cmp=Ae({type:t,selectors:[["app-card"]],inputs:{productCard:"productCard",typeMoneda:"typeMoneda"},standalone:!0,features:[Re],decls:9,vars:6,consts:[[1,"product-card"],["routerLink","/tienda/:id",1,"product-link"],["alt","Imagen de Campera",1,"product-image",3,"src"],[1,"product-info"],[1,"product-name"],[1,"product-price"]],template:function(r,i){r&1&&(N(0,"div",0)(1,"a",1),re(2,"img",2),N(3,"div",3)(4,"h3",4),F(5),x(),N(6,"p",5),F(7),ud(8,"currency"),x()()()()),r&2&&(Y(2),Wa("src",i.productCard.image,nn),Y(3),yr(" ",i.productCard.title," "),Y(2),yr(" ",MC(8,3,i.productCard.price,i.typeMoneda)," "))},dependencies:[Ji,md],styles:[".product-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;border:5px solid #ddd;border-radius:8px;overflow:hidden;width:100%;height:100%;cursor:pointer}.product-link[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;text-decoration:none;color:inherit;width:100%;height:100%;flex-grow:1}.product-image[_ngcontent-%COMP%]{width:100%;height:200px;object-fit:cover;flex-grow:1;padding:5%}.product-info[_ngcontent-%COMP%]{padding:16px;text-align:center;width:100%;flex-shrink:0}.product-name[_ngcontent-%COMP%]{font-size:1.2rem;margin:0}.product-price[_ngcontent-%COMP%]{font-size:1rem;color:#888;margin:8px 0 0}"]})}return t})();var Un=(()=>{class t{_http=P(vm);baseUrl="https://fakestoreapi.com/products";constructor(){}getAllProducts(){return this._http.get(this.baseUrl)}getProductsById(n){return this._http.get(`${this.baseUrl}/${n}`)}getAllCategory(){return this._http.get(`${this.baseUrl}/categories`)}getProductsByCategory(n){return this._http.get(`${this.baseUrl}/category/${n}`)}getByNombre(n){return this._http.get(`${this.baseUrl}/${n}`)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function iU(t,e){if(t&1&&(N(0,"div",16),re(1,"img",17),x()),t&2){let n=e.$index,r=lt();ls("active",n===0),Y(),ut("src",r.carouselProducts[n].image,nn)}}function oU(t,e){if(t&1){let n=Fn();N(0,"app-card",18),pe("click",function(){let i=mn(n).$implicit,o=lt();return yn(o.detalleProducto(i.id))}),x()}if(t&2){let n=e.$implicit,r=lt();ut("productCard",n)("typeMoneda",r.selectedMoneda)}}var aT=(()=>{class t{_apiServices=P(Un);_router=P(ft);productList=[];carouselProducts=[];favoritosList=[];selectedMoneda="";ngOnInit(){this.loadProducts(),console.log(this.carouselProducts)}loadProducts(){this._apiServices.getAllProducts().subscribe(n=>{this.productList=n,this.selectRandomCarousel(3),this.selectRandomProducts(8),console.log(n)})}selectRandomCarousel(n){let r=this.productList.sort(()=>.5-Math.random());this.carouselProducts=r.slice(0,n)}selectRandomProducts(n){let r=this.productList.sort(()=>.5-Math.random());this.favoritosList=r.slice(0,n)}detalleProducto(n){console.log(n),this._router.navigate(["/tienda",n])}static \u0275fac=function(r){return new(r||t)};static \u0275cmp=Ae({type:t,selectors:[["app-main"]],standalone:!0,features:[Re],decls:31,vars:0,consts:[[1,"main-titulo"],[1,"carucel"],["id","carouselExampleIndicators",1,"carousel","slide"],[1,"carousel-indicators"],["type","button","data-bs-target","#carouselExampleIndicators","data-bs-slide-to","0","aria-current","true","aria-label","Slide 1",1,"active"],["type","button","data-bs-target","#carouselExampleIndicators","data-bs-slide-to","1","aria-label","Slide 2"],["type","button","data-bs-target","#carouselExampleIndicators","data-bs-slide-to","2","aria-label","Slide 3"],[1,"carousel-inner"],[1,"carousel-item","active",3,"active"],["type","button","data-bs-target","#carouselExampleIndicators","data-bs-slide","prev",1,"carousel-control-prev"],["aria-hidden","true",1,"carousel-control-prev-icon"],[1,"visually-hidden"],["type","button","data-bs-target","#carouselExampleIndicators","data-bs-slide","next",1,"carousel-control-next"],["aria-hidden","true",1,"carousel-control-next-icon"],[1,"main-seccion-card"],[3,"productCard","typeMoneda"],[1,"carousel-item","active"],["alt","...",1,"d-block","w-100",3,"src"],[3,"click","productCard","typeMoneda"]],template:function(r,i){r&1&&(N(0,"main")(1,"div",0),re(2,"hr"),N(3,"h3"),F(4,"Vesti a la Moda con RopaStore"),x(),re(5,"hr"),x(),N(6,"div",1)(7,"div",2)(8,"div",3),re(9,"button",4)(10,"button",5)(11,"button",6),x(),N(12,"div",7),gr(13,iU,2,3,"div",8,Hi),x(),N(15,"button",9),re(16,"span",10),N(17,"span",11),F(18,"Previous"),x()(),N(19,"button",12),re(20,"span",13),N(21,"span",11),F(22,"Next"),x()()()(),N(23,"div",0),re(24,"hr"),N(25,"h3"),F(26," Prendas Destacadas de RopaStore "),x(),re(27,"hr"),x(),N(28,"section",14),gr(29,oU,1,2,"app-card",15,Hi),x()()),r&2&&(Y(13),mr(i.carouselProducts),Y(16),mr(i.favoritosList))},dependencies:[Es],styles:["main[_ngcontent-%COMP%]{margin:2% 20% 3%;display:grid}.main-titulo[_ngcontent-%COMP%]{display:flex;align-items:center;margin-top:3%}.main-titulo[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{padding:1%}hr[_ngcontent-%COMP%]{width:30%}.main-seccion-card[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(4,1fr);gap:16px}.carucel[_ngcontent-%COMP%]{width:100%;max-width:100%;margin:auto;padding:.5%}.carousel-inner[_ngcontent-%COMP%]{width:100%;height:500px}.carousel-inner[_ngcontent-%COMP%]   .carousel-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.carousel-indicators[_ngcontent-%COMP%]   [data-bs-target][_ngcontent-%COMP%]{background-color:gray}.carousel-indicators[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%], .carousel-control-prev-icon[_ngcontent-%COMP%], .carousel-control-next-icon[_ngcontent-%COMP%]{background-color:#000}.carousel-control-prev-icon[_ngcontent-%COMP%]:before, .carousel-control-next-icon[_ngcontent-%COMP%]:before{color:#fff}.product-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;background-color:#fff;border:5px solid #ddd;border-radius:8px;overflow:hidden;width:100%;height:100%}.product-link[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;text-decoration:none;color:inherit;width:100%;height:100%;flex-grow:1}.product-image[_ngcontent-%COMP%]{width:100%;height:200px;object-fit:cover;flex-grow:1;padding:5%}.product-info[_ngcontent-%COMP%]{padding:16px;text-align:center;width:100%;flex-shrink:0}.product-name[_ngcontent-%COMP%]{font-size:1.2rem;margin:0}.product-price[_ngcontent-%COMP%]{font-size:1rem;color:#888;margin:8px 0 0}"]})}return t})();var mT=(()=>{let e=class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}};e.\u0275fac=function(i){return new(i||e)(de(kn),de(vn))},e.\u0275dir=Xe({type:e});let t=e;return t})(),Wd=(()=>{let e=class e extends mT{};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=ei(e)))(o||e)}})(),e.\u0275dir=Xe({type:e,features:[_n]});let t=e;return t})(),xc=new H("");var sU={provide:xc,useExisting:dr(()=>sn),multi:!0};function aU(){let t=wr()?wr().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var cU=new H(""),sn=(()=>{let e=class e extends mT{constructor(r,i,o){super(r,i),this._compositionMode=o,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!aU())}writeValue(r){let i=r??"";this.setProperty("value",i)}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}};e.\u0275fac=function(i){return new(i||e)(de(kn),de(vn),de(cU,8))},e.\u0275dir=Xe({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,o){i&1&&pe("input",function(a){return o._handleInput(a.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(a){return o._compositionEnd(a.target.value)})},features:[qi([sU]),_n]});let t=e;return t})();var yT=new H(""),vT=new H("");function _T(t){return t!=null}function wT(t){return Gi(t)?Se(t):t}function IT(t){let e={};return t.forEach(n=>{e=n!=null?B(B({},e),n):e}),Object.keys(e).length===0?null:e}function ET(t,e){return e.map(n=>n(t))}function uU(t){return!t.validate}function bT(t){return t.map(e=>uU(e)?e:n=>e.validate(n))}function lU(t){if(!t)return null;let e=t.filter(_T);return e.length==0?null:function(n){return IT(ET(n,e))}}function hy(t){return t!=null?lU(bT(t)):null}function dU(t){if(!t)return null;let e=t.filter(_T);return e.length==0?null:function(n){let r=ET(n,e).map(wT);return gp(r).pipe(te(IT))}}function fy(t){return t!=null?dU(bT(t)):null}function cT(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function hU(t){return t._rawValidators}function fU(t){return t._rawAsyncValidators}function dy(t){return t?Array.isArray(t)?t:[t]:[]}function Bd(t,e){return Array.isArray(t)?t.includes(e):t===e}function uT(t,e){let n=dy(e);return dy(t).forEach(i=>{Bd(n,i)||n.push(i)}),n}function lT(t,e){return dy(e).filter(n=>!Bd(t,n))}var $d=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=hy(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=fy(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},Ds=class extends $d{get formDirective(){return null}get path(){return null}},Mc=class extends $d{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Hd=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},pU={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},UK=_e(B({},pU),{"[class.ng-submitted]":"isSubmitted"}),an=(()=>{let e=class e extends Hd{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(de(Mc,2))},e.\u0275dir=Xe({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,o){i&2&&ls("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[_n]});let t=e;return t})(),Kd=(()=>{let e=class e extends Hd{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(de(Ds,10))},e.\u0275dir=Xe({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,o){i&2&&ls("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},features:[_n]});let t=e;return t})();var Dc="VALID",jd="INVALID",bs="PENDING",Tc="DISABLED",Ts=class{},zd=class extends Ts{constructor(e,n){super(),this.value=e,this.source=n}},Ac=class extends Ts{constructor(e,n){super(),this.pristine=e,this.source=n}},Rc=class extends Ts{constructor(e,n){super(),this.touched=e,this.source=n}},Cs=class extends Ts{constructor(e,n){super(),this.status=e,this.source=n}};function CT(t){return(Qd(t)?t.validators:t)||null}function gU(t){return Array.isArray(t)?hy(t):t||null}function DT(t,e){return(Qd(e)?e.asyncValidators:t)||null}function mU(t){return Array.isArray(t)?fy(t):t||null}function Qd(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function yU(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new G(1e3,"");if(!r[n])throw new G(1001,"")}function vU(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new G(1002,"")})}var qd=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=Ka(()=>this.statusReactive()),this.statusReactive=Ga(void 0),this._pristine=Ka(()=>this.pristineReactive()),this.pristineReactive=Ga(!0),this._touched=Ka(()=>this.touchedReactive()),this.touchedReactive=Ga(!1),this._events=new rt,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return vr(this.statusReactive)}set status(e){vr(()=>this.statusReactive.set(e))}get valid(){return this.status===Dc}get invalid(){return this.status===jd}get pending(){return this.status==bs}get disabled(){return this.status===Tc}get enabled(){return this.status!==Tc}get pristine(){return vr(this.pristineReactive)}set pristine(e){vr(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return vr(this.touchedReactive)}set touched(e){vr(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(uT(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(uT(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(lT(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(lT(e,this._rawAsyncValidators))}hasValidator(e){return Bd(this._rawValidators,e)}hasAsyncValidator(e){return Bd(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(_e(B({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new Rc(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),n&&e.emitEvent!==!1&&this._events.next(new Rc(!1,r))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(_e(B({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new Ac(!1,r))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),n&&e.emitEvent!==!1&&this._events.next(new Ac(!0,r))}markAsPending(e={}){this.status=bs;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Cs(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(_e(B({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Tc,this.errors=null,this._forEachChild(i=>{i.disable(_e(B({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new zd(this.value,r)),this._events.next(new Cs(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(_e(B({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Dc,this._forEachChild(r=>{r.enable(_e(B({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(_e(B({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Dc||this.status===bs)&&this._runAsyncValidator(r,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new zd(this.value,n)),this._events.next(new Cs(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(_e(B({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Tc:Dc}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=bs,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let r=wT(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new Cs(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,r)}_initObservables(){this.valueChanges=new Ge,this.statusChanges=new Ge}_calculateStatus(){return this._allControlsDisabled()?Tc:this.errors?jd:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(bs)?bs:this._anyControlsHaveStatus(jd)?jd:Dc}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),i&&this._events.next(new Ac(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new Rc(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Qd(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=gU(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=mU(this._rawAsyncValidators)}},Gd=class extends qd{constructor(e,n,r){super(CT(n),DT(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){vU(this,!0,e),Object.keys(e).forEach(r=>{yU(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var py=new H("CallSetDisabledState",{providedIn:"root",factory:()=>gy}),gy="always";function _U(t,e){return[...e.path,t]}function TT(t,e,n=gy){ST(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),IU(t,e),bU(t,e),EU(t,e),wU(t,e)}function dT(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function wU(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function ST(t,e){let n=hU(t);e.validator!==null?t.setValidators(cT(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=fU(t);e.asyncValidator!==null?t.setAsyncValidators(cT(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();dT(e._rawValidators,i),dT(e._rawAsyncValidators,i)}function IU(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&AT(t,e)})}function EU(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&AT(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function AT(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function bU(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function CU(t,e){t==null,ST(t,e)}function DU(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function TU(t){return Object.getPrototypeOf(t.constructor)===Wd}function SU(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function AU(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(o=>{o.constructor===sn?n=o:TU(o)?r=o:i=o}),i||r||n||null}var RU={provide:Ds,useExisting:dr(()=>Nc)},Sc=Promise.resolve(),Nc=(()=>{let e=class e extends Ds{get submitted(){return vr(this.submittedReactive)}constructor(r,i,o){super(),this.callSetDisabledState=o,this._submitted=Ka(()=>this.submittedReactive()),this.submittedReactive=Ga(!1),this._directives=new Set,this.ngSubmit=new Ge,this.form=new Gd({},hy(r),fy(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(r){Sc.then(()=>{let i=this._findContainer(r.path);r.control=i.registerControl(r.name,r.control),TT(r.control,r,this.callSetDisabledState),r.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(r)})}getControl(r){return this.form.get(r.path)}removeControl(r){Sc.then(()=>{let i=this._findContainer(r.path);i&&i.removeControl(r.name),this._directives.delete(r)})}addFormGroup(r){Sc.then(()=>{let i=this._findContainer(r.path),o=new Gd({});CU(o,r),i.registerControl(r.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(r){Sc.then(()=>{let i=this._findContainer(r.path);i&&i.removeControl(r.name)})}getFormGroup(r){return this.form.get(r.path)}updateModel(r,i){Sc.then(()=>{this.form.get(r.path).setValue(i)})}setValue(r){this.control.setValue(r)}onSubmit(r){return this.submittedReactive.set(!0),SU(this.form,this._directives),this.ngSubmit.emit(r),r?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(r){return r.pop(),r.length?this.form.get(r):this.form}};e.\u0275fac=function(i){return new(i||e)(de(yT,10),de(vT,10),de(py,8))},e.\u0275dir=Xe({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,o){i&1&&pe("submit",function(a){return o.onSubmit(a)})("reset",function(){return o.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[qi([RU]),_n]});let t=e;return t})();function hT(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function fT(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var MU=class extends qd{constructor(e=null,n,r){super(CT(n),DT(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Qd(n)&&(n.nonNullable||n.initialValueIsDefault)&&(fT(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){hT(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){hT(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){fT(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var xU={provide:Mc,useExisting:dr(()=>Yt)},pT=Promise.resolve(),Yt=(()=>{let e=class e extends Mc{constructor(r,i,o,s,a,u){super(),this._changeDetectorRef=a,this.callSetDisabledState=u,this.control=new MU,this._registered=!1,this.name="",this.update=new Ge,this._parent=r,this._setValidators(i),this._setAsyncValidators(o),this.valueAccessor=AU(this,s)}ngOnChanges(r){if(this._checkForErrors(),!this._registered||"name"in r){if(this._registered&&(this._checkName(),this.formDirective)){let i=r.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in r&&this._updateDisabled(r),DU(r,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){TT(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(r){pT.then(()=>{this.control.setValue(r,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(r){let i=r.isDisabled.currentValue,o=i!==0&&Qi(i);pT.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(r){return this._parent?_U(r,this._parent):[r]}};e.\u0275fac=function(i){return new(i||e)(de(Ds,9),de(yT,10),de(vT,10),de(xc,10),de(Ki,8),de(py,8))},e.\u0275dir=Xe({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[qi([xU]),_n,Bi]});let t=e;return t})(),Yd=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Xe({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let t=e;return t})(),NU={provide:xc,useExisting:dr(()=>Pc),multi:!0},Pc=(()=>{let e=class e extends Wd{writeValue(r){let i=r??"";this.setProperty("value",i)}registerOnChange(r){this.onChange=i=>{r(i==""?null:parseFloat(i))}}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=ei(e)))(o||e)}})(),e.\u0275dir=Xe({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(i,o){i&1&&pe("input",function(a){return o.onChange(a.target.value)})("blur",function(){return o.onTouched()})},features:[qi([NU]),_n]});let t=e;return t})();var PU={provide:xc,useExisting:dr(()=>Jd),multi:!0};function RT(t,e){return t==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function OU(t){return t.split(":")[0]}var Jd=(()=>{let e=class e extends Wd{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(r){this._compareWith=r}writeValue(r){this.value=r;let i=this._getOptionId(r),o=RT(i,r);this.setProperty("value",o)}registerOnChange(r){this.onChange=i=>{this.value=this._getOptionValue(i),r(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(r){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i),r))return i;return null}_getOptionValue(r){let i=OU(r);return this._optionMap.has(i)?this._optionMap.get(i):r}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=ei(e)))(o||e)}})(),e.\u0275dir=Xe({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(i,o){i&1&&pe("change",function(a){return o.onChange(a.target.value)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},features:[qi([PU]),_n]});let t=e;return t})(),MT=(()=>{let e=class e{constructor(r,i,o){this._element=r,this._renderer=i,this._select=o,this._select&&(this.id=this._select._registerOption())}set ngValue(r){this._select!=null&&(this._select._optionMap.set(this.id,r),this._setElementValue(RT(this.id,r)),this._select.writeValue(this._select.value))}set value(r){this._setElementValue(r),this._select&&this._select.writeValue(this._select.value)}_setElementValue(r){this._renderer.setProperty(this._element.nativeElement,"value",r)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};e.\u0275fac=function(i){return new(i||e)(de(vn),de(kn),de(Jd,9))},e.\u0275dir=Xe({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let t=e;return t})(),kU={provide:xc,useExisting:dr(()=>xT),multi:!0};function gT(t,e){return t==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function FU(t){return t.split(":")[0]}var xT=(()=>{let e=class e extends Wd{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(r){this._compareWith=r}writeValue(r){this.value=r;let i;if(Array.isArray(r)){let o=r.map(s=>this._getOptionId(s));i=(s,a)=>{s._setSelected(o.indexOf(a.toString())>-1)}}else i=(o,s)=>{o._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(r){this.onChange=i=>{let o=[],s=i.selectedOptions;if(s!==void 0){let a=s;for(let u=0;u<a.length;u++){let l=a[u],h=this._getOptionValue(l.value);o.push(h)}}else{let a=i.options;for(let u=0;u<a.length;u++){let l=a[u];if(l.selected){let h=this._getOptionValue(l.value);o.push(h)}}}this.value=o,r(o)}}_registerOption(r){let i=(this._idCounter++).toString();return this._optionMap.set(i,r),i}_getOptionId(r){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i)._value,r))return i;return null}_getOptionValue(r){let i=FU(r);return this._optionMap.has(i)?this._optionMap.get(i)._value:r}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=ei(e)))(o||e)}})(),e.\u0275dir=Xe({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(i,o){i&1&&pe("change",function(a){return o.onChange(a.target)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},features:[qi([kU]),_n]});let t=e;return t})(),NT=(()=>{let e=class e{constructor(r,i,o){this._element=r,this._renderer=i,this._select=o,this._select&&(this.id=this._select._registerOption(this))}set ngValue(r){this._select!=null&&(this._value=r,this._setElementValue(gT(this.id,r)),this._select.writeValue(this._select.value))}set value(r){this._select?(this._value=r,this._setElementValue(gT(this.id,r)),this._select.writeValue(this._select.value)):this._setElementValue(r)}_setElementValue(r){this._renderer.setProperty(this._element.nativeElement,"value",r)}_setSelected(r){this._renderer.setProperty(this._element.nativeElement,"selected",r)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};e.\u0275fac=function(i){return new(i||e)(de(vn),de(kn),de(xT,9))},e.\u0275dir=Xe({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let t=e;return t})();var LU=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Zr({type:e}),e.\u0275inj=Jr({});let t=e;return t})();var cn=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:py,useValue:r.callSetDisabledState??gy}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Zr({type:e}),e.\u0275inj=Jr({imports:[LU]});let t=e;return t})();var OT=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},VU=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=t[n++],s=t[n++],a=t[n++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},kT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let o=t[i],s=i+1<t.length,a=s?t[i+1]:0,u=i+2<t.length,l=u?t[i+2]:0,h=o>>2,p=(o&3)<<4|a>>4,m=(a&15)<<2|l>>6,y=l&63;u||(y=64,s||(m=64)),r.push(n[h],n[p],n[m],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(OT(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):VU(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let l=i<t.length?n[t.charAt(i)]:64;++i;let p=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||l==null||p==null)throw new yy;let m=o<<2|a>>4;if(r.push(m),l!==64){let y=a<<4&240|l>>2;if(r.push(y),p!==64){let C=l<<6&192|p;r.push(C)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},yy=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},UU=function(t){let e=OT(t);return kT.encodeByteArray(e,!0)},Oc=function(t){return UU(t).replace(/\./g,"")},_y=function(t){try{return kT.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function jU(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var BU=()=>jU().__FIREBASE_DEFAULTS__,$U=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},HU=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&_y(t[1]);return e&&JSON.parse(e)},Xd=()=>{try{return BU()||$U()||HU()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},wy=t=>{var e,n;return(n=(e=Xd())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},eh=t=>{let e=wy(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Iy=()=>{var t;return(t=Xd())===null||t===void 0?void 0:t.config},Ey=t=>{var e;return(e=Xd())===null||e===void 0?void 0:e[`_${t}`]};var Zd=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function th(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Oc(JSON.stringify(n)),Oc(JSON.stringify(s)),""].join(".")}function et(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function FT(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(et())}function zU(){var t;let e=(t=Xd())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function LT(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function VT(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function UT(){let t=et();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function jT(){return!zU()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function by(){try{return typeof indexedDB=="object"}catch{return!1}}function BT(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}var qU="FirebaseError",Nt=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=qU,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Cr.prototype.create)}},Cr=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?GU(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Nt(i,a,r)}};function GU(t,e){return t.replace(WU,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var WU=/\{\$([^}]+)}/g;function $T(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ro(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let o=t[i],s=e[i];if(PT(o)&&PT(s)){if(!ro(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function PT(t){return t!==null&&typeof t=="object"}function kc(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function As(t){let e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function Rs(t){let e=t.indexOf("?");if(!e)return"";let n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function HT(t,e){let n=new vy(t,e);return n.subscribe.bind(n)}var vy=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");KU(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=my),i.error===void 0&&(i.error=my),i.complete===void 0&&(i.complete=my);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function KU(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function my(){}var $K=4*60*60*1e3;function $e(t){return t&&t._delegate?t._delegate:t}var jt=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var io="[DEFAULT]";var Cy=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new Zd;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(YU(e))try{this.getOrInitializeService({instanceIdentifier:io})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=io){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return w(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=io){return this.instances.has(e)}getOptions(e=io){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:QU(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=io){return this.component?this.component.multipleInstances?e:io:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function QU(t){return t===io?void 0:t}function YU(t){return t.instantiationMode==="EAGER"}var nh=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new Cy(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var JU=[],ye=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(ye||{}),ZU={debug:ye.DEBUG,verbose:ye.VERBOSE,info:ye.INFO,warn:ye.WARN,error:ye.ERROR,silent:ye.SILENT},XU=ye.INFO,e2={[ye.DEBUG]:"log",[ye.VERBOSE]:"log",[ye.INFO]:"info",[ye.WARN]:"warn",[ye.ERROR]:"error"},t2=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=e2[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},ai=class{constructor(e){this.name=e,this._logLevel=XU,this._logHandler=t2,this._userLogHandler=null,JU.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ye))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?ZU[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ye.DEBUG,...e),this._logHandler(this,ye.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ye.VERBOSE,...e),this._logHandler(this,ye.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ye.INFO,...e),this._logHandler(this,ye.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ye.WARN,...e),this._logHandler(this,ye.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ye.ERROR,...e),this._logHandler(this,ye.ERROR,...e)}};var n2=(t,e)=>e.some(n=>t instanceof n),zT,qT;function r2(){return zT||(zT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function i2(){return qT||(qT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var GT=new WeakMap,Ty=new WeakMap,WT=new WeakMap,Dy=new WeakMap,Ay=new WeakMap;function o2(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(jn(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&GT.set(n,t)}).catch(()=>{}),Ay.set(e,t),e}function s2(t){if(Ty.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});Ty.set(t,e)}var Sy={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Ty.get(t);if(e==="objectStoreNames")return t.objectStoreNames||WT.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return jn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function KT(t){Sy=t(Sy)}function a2(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(rh(this),e,...n);return WT.set(r,e.sort?e.sort():[e]),jn(r)}:i2().includes(t)?function(...e){return t.apply(rh(this),e),jn(GT.get(this))}:function(...e){return jn(t.apply(rh(this),e))}}function c2(t){return typeof t=="function"?a2(t):(t instanceof IDBTransaction&&s2(t),n2(t,r2())?new Proxy(t,Sy):t)}function jn(t){if(t instanceof IDBRequest)return o2(t);if(Dy.has(t))return Dy.get(t);let e=c2(t);return e!==t&&(Dy.set(t,e),Ay.set(e,t)),e}var rh=t=>Ay.get(t);function YT(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(t,e),a=jn(s);return r&&s.addEventListener("upgradeneeded",u=>{r(jn(s.result),u.oldVersion,u.newVersion,jn(s.transaction),u)}),n&&s.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var u2=["get","getKey","getAll","getAllKeys","count"],l2=["put","add","delete","clear"],Ry=new Map;function QT(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Ry.get(e))return Ry.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=l2.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||u2.includes(n)))return;let o=function(s,...a){return w(this,null,function*(){let u=this.transaction(s,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[n](...a),i&&u.done]))[0]})};return Ry.set(e,o),o}KT(t=>_e(B({},t),{get:(e,n,r)=>QT(e,n)||t.get(e,n,r),has:(e,n)=>!!QT(e,n)||t.has(e,n)}));var xy=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(d2(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function d2(t){let e=t.getComponent();return e?.type==="VERSION"}var Ny="@firebase/app",JT="0.10.8";var oo=new ai("@firebase/app"),h2="@firebase/app-compat",f2="@firebase/analytics-compat",p2="@firebase/analytics",g2="@firebase/app-check-compat",m2="@firebase/app-check",y2="@firebase/auth",v2="@firebase/auth-compat",_2="@firebase/database",w2="@firebase/database-compat",I2="@firebase/functions",E2="@firebase/functions-compat",b2="@firebase/installations",C2="@firebase/installations-compat",D2="@firebase/messaging",T2="@firebase/messaging-compat",S2="@firebase/performance",A2="@firebase/performance-compat",R2="@firebase/remote-config",M2="@firebase/remote-config-compat",x2="@firebase/storage",N2="@firebase/storage-compat",P2="@firebase/firestore",O2="@firebase/vertexai-preview",k2="@firebase/firestore-compat",F2="firebase",L2="10.12.5";var Py="[DEFAULT]",V2={[Ny]:"fire-core",[h2]:"fire-core-compat",[p2]:"fire-analytics",[f2]:"fire-analytics-compat",[m2]:"fire-app-check",[g2]:"fire-app-check-compat",[y2]:"fire-auth",[v2]:"fire-auth-compat",[_2]:"fire-rtdb",[w2]:"fire-rtdb-compat",[I2]:"fire-fn",[E2]:"fire-fn-compat",[b2]:"fire-iid",[C2]:"fire-iid-compat",[D2]:"fire-fcm",[T2]:"fire-fcm-compat",[S2]:"fire-perf",[A2]:"fire-perf-compat",[R2]:"fire-rc",[M2]:"fire-rc-compat",[x2]:"fire-gcs",[N2]:"fire-gcs-compat",[P2]:"fire-fst",[k2]:"fire-fst-compat",[O2]:"fire-vertex","fire-js":"fire-js",[F2]:"fire-js-all"};var Fc=new Map,U2=new Map,Oy=new Map;function ZT(t,e){try{t.container.addComponent(e)}catch(n){oo.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Bn(t){let e=t.name;if(Oy.has(e))return oo.debug(`There were multiple attempts to register component ${e}.`),!1;Oy.set(e,t);for(let n of Fc.values())ZT(n,t);for(let n of U2.values())ZT(n,t);return!0}function so(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function En(t){return t.settings!==void 0}var j2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ci=new Cr("app","Firebase",j2);var ky=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new jt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ci.create("app-deleted",{appName:this._name})}};var $n=L2;function Vy(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:Py,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw ci.create("bad-app-name",{appName:String(i)});if(n||(n=Iy()),!n)throw ci.create("no-options");let o=Fc.get(i);if(o){if(ro(n,o.options)&&ro(r,o.config))return o;throw ci.create("duplicate-app",{appName:i})}let s=new nh(i);for(let u of Oy.values())s.addComponent(u);let a=new ky(n,r,s);return Fc.set(i,a),a}function ui(t=Py){let e=Fc.get(t);if(!e&&t===Py&&Iy())return Vy();if(!e)throw ci.create("no-app",{appName:t});return e}function ih(){return Array.from(Fc.values())}function Oe(t,e,n){var r;let i=(r=V2[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),oo.warn(a.join(" "));return}Bn(new jt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var B2="firebase-heartbeat-database",$2=1,Lc="firebase-heartbeat-store",My=null;function nS(){return My||(My=YT(B2,$2,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Lc)}catch(n){console.warn(n)}}}}).catch(t=>{throw ci.create("idb-open",{originalErrorMessage:t.message})})),My}function H2(t){return w(this,null,function*(){try{let n=(yield nS()).transaction(Lc),r=yield n.objectStore(Lc).get(rS(t));return yield n.done,r}catch(e){if(e instanceof Nt)oo.warn(e.message);else{let n=ci.create("idb-get",{originalErrorMessage:e?.message});oo.warn(n.message)}}})}function XT(t,e){return w(this,null,function*(){try{let r=(yield nS()).transaction(Lc,"readwrite");yield r.objectStore(Lc).put(e,rS(t)),yield r.done}catch(n){if(n instanceof Nt)oo.warn(n.message);else{let r=ci.create("idb-set",{originalErrorMessage:n?.message});oo.warn(r.message)}}})}function rS(t){return`${t.name}!${t.options.appId}`}var z2=1024,q2=30*24*60*60*1e3,Fy=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new Ly(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return w(this,null,function*(){var e,n;let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=eS();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)))return this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{let a=new Date(s.date).valueOf();return Date.now()-a<=q2}),this._storage.overwrite(this._heartbeatsCache)})}getHeartbeatsHeader(){return w(this,null,function*(){var e;if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=eS(),{heartbeatsToSend:r,unsentEntries:i}=G2(this._heartbeatsCache.heartbeats),o=Oc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o})}};function eS(){return new Date().toISOString().substring(0,10)}function G2(t,e=z2){let n=[],r=t.slice();for(let i of t){let o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),tS(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),tS(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var Ly=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return w(this,null,function*(){return by()?BT().then(()=>!0).catch(()=>!1):!1})}read(){return w(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield H2(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return w(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return XT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return w(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return XT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function tS(t){return Oc(JSON.stringify({version:2,heartbeats:t})).length}function W2(t){Bn(new jt("platform-logger",e=>new xy(e),"PRIVATE")),Bn(new jt("heartbeat",e=>new Fy(e),"PRIVATE")),Oe(Ny,JT,t),Oe(Ny,JT,"esm2017"),Oe("fire-js","")}W2("");var K2="firebase",Q2="10.12.5";Oe(K2,Q2,"app");var Dr=new lr("ANGULARFIRE2_VERSION");function xs(t,e,n){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===n);if(o.length===1)return o[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var co=(t,e)=>{let n=e?[e]:ih(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},li=class{constructor(){return co(Y2)}},Y2="app-check";function Ms(){}var oh=class{zone;delegate;constructor(e,n=dp){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,o=function(s){i.runGuarded(()=>{e.apply(this,[s])})};return this.delegate.schedule(o,n,r)}},Uy=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ms,{},Ms,Ms)),n.pipe(qe({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},di=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new oh(Zone.current)),this.insideAngular=n.run(()=>new oh(Zone.current,lp)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(X(Ce))};static \u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function sh(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function J2(t){return sh().ngZone.runOutsideAngular(()=>t())}function ao(t){return sh().ngZone.run(()=>t())}function Z2(t){return X2(sh())(t)}function X2(t){return function(n){return n=n.lift(new Uy(t.ngZone)),n.pipe($r(t.outsideAngular),Br(t.insideAngular))}}var ej=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),ao(()=>t.apply(void 0,r))},tt=(t,e)=>function(){let n,r=arguments;for(let o=0;o<arguments.length;o++)typeof r[o]=="function"&&(e&&(n||=ao(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ms,{},Ms,Ms))),r[o]=ej(r[o],n));let i=J2(()=>t.apply(this,r));if(!e)if(i instanceof ue){let o=sh();return i.pipe($r(o.outsideAngular),Br(o.insideAngular))}else return ao(()=>i);return i instanceof ue?i.pipe(Z2):i instanceof Promise?ao(()=>new Promise((o,s)=>i.then(a=>ao(()=>o(a)),a=>ao(()=>s(a))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:ao(()=>i)};var bn=class{constructor(e){return e}},Tr=class{constructor(){return ih()}};function tj(t){return t&&t.length===1?t[0]:new bn(ui())}var jy=new H("angularfire2._apps"),nj={provide:bn,useFactory:tj,deps:[[new Ze,jy]]},rj={provide:Tr,deps:[[new Ze,jy]]};function ij(t){return(e,n)=>{let r=n.get(On);Oe("angularfire",Dr.full,"core"),Oe("angularfire",Dr.full,"app"),Oe("angular",NC.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new bn(i)}}function iS(t,...e){return Vt([nj,rj,{provide:jy,useFactory:ij(t),multi:!0,deps:[Ce,It,di,...e]}])}var oS=tt(Vy,!0);function ES(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var bS=ES,CS=new Cr("auth","Firebase",ES());var hh=new ai("@firebase/auth");function oj(t,...e){hh.logLevel<=ye.WARN&&hh.warn(`Auth (${$n}): ${t}`,...e)}function ch(t,...e){hh.logLevel<=ye.ERROR&&hh.error(`Auth (${$n}): ${t}`,...e)}function zn(t,...e){throw uv(t,...e)}function uo(t,...e){return uv(t,...e)}function DS(t,e,n){let r=Object.assign(Object.assign({},bS()),{[e]:n});return new Cr("auth","Firebase",r).create(e,{appName:t.name})}function Rr(t){return DS(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function uv(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return CS.create(t,...e)}function Z(t,e,...n){if(!t)throw uv(e,...n)}function Sr(t){let e="INTERNAL ASSERTION FAILED: "+t;throw ch(e),new Error(e)}function fi(t,e){t||Sr(e)}function zy(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function sj(){return sS()==="http:"||sS()==="https:"}function sS(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function aj(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(sj()||LT()||"connection"in navigator)?navigator.onLine:!0}function cj(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var lo=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,fi(n>e,"Short delay should be less than long delay!"),this.isMobile=FT()||VT()}get(){return aj()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function lv(t,e){fi(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var fh=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Sr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Sr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Sr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var uj={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var lj=new lo(3e4,6e4);function pi(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function gi(o,s,a,u){return w(this,arguments,function*(t,e,n,r,i={}){return TS(t,i,()=>w(this,null,function*(){let l={},h={};r&&(e==="GET"?h=r:l={body:JSON.stringify(r)});let p=kc(Object.assign({key:t.config.apiKey},h)).slice(1),m=yield t._getAdditionalHeaders();return m["Content-Type"]="application/json",t.languageCode&&(m["X-Firebase-Locale"]=t.languageCode),fh.fetch()(SS(t,t.config.apiHost,n,p),Object.assign({method:e,headers:m,referrerPolicy:"no-referrer"},l))}))})}function TS(t,e,n){return w(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},uj),e);try{let i=new qy(t),o=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw ah(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[u,l]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw ah(t,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw ah(t,"email-already-in-use",s);if(u==="USER_DISABLED")throw ah(t,"user-disabled",s);let h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw DS(t,h,l);zn(t,h)}}catch(i){if(i instanceof Nt)throw i;zn(t,"network-request-failed",{message:String(i)})}})}function qc(o,s,a,u){return w(this,arguments,function*(t,e,n,r,i={}){let l=yield gi(t,e,n,r,i);return"mfaPendingCredential"in l&&zn(t,"multi-factor-auth-required",{_serverResponse:l}),l})}function SS(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?lv(t.config,i):`${t.config.apiScheme}://${i}`}function dj(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var qy=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(uo(this.auth,"network-request-failed")),lj.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function ah(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=uo(t,e,r);return i.customData._tokenResponse=n,i}function aS(t){return t!==void 0&&t.enterprise!==void 0}var Gy=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return dj(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};function hj(t,e){return w(this,null,function*(){return gi(t,"GET","/v2/recaptchaConfig",pi(t,e))})}function fj(t,e){return w(this,null,function*(){return gi(t,"POST","/v1/accounts:delete",e)})}function AS(t,e){return w(this,null,function*(){return gi(t,"POST","/v1/accounts:lookup",e)})}function Vc(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function dv(t,e=!1){return w(this,null,function*(){let n=$e(t),r=yield n.getIdToken(e),i=hv(r);Z(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:Vc(By(i.auth_time)),issuedAtTime:Vc(By(i.iat)),expirationTime:Vc(By(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function By(t){return Number(t)*1e3}function hv(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return ch("JWT malformed, contained fewer than 3 sections"),null;try{let i=_y(n);return i?JSON.parse(i):(ch("Failed to decode base64 JWT payload"),null)}catch(i){return ch("Caught error parsing JWT payload as JSON",i?.toString()),null}}function cS(t){let e=hv(t);return Z(e,"internal-error"),Z(typeof e.exp<"u","internal-error"),Z(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function jc(t,e,n=!1){return w(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof Nt&&pj(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function pj({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var Wy=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>w(this,null,function*(){yield this.iteration()}),n)}iteration(){return w(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Bc=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Vc(this.lastLoginAt),this.creationTime=Vc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function ph(t){return w(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield jc(t,AS(n,{idToken:r}));Z(i?.users.length,n,"internal-error");let o=i.users[0];t._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?RS(o.providerUserInfo):[],a=gj(t.providerData,s),u=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!a?.length,h=u?l:!1,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Bc(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(t,p)})}function fv(t){return w(this,null,function*(){let e=$e(t);yield ph(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function gj(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function RS(t){return t.map(e=>{var{providerId:n}=e,r=hp(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function mj(t,e){return w(this,null,function*(){let n=yield TS(t,{},()=>w(this,null,function*(){let r=kc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=SS(t,i,"/v1/token",`key=${o}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",fh.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function yj(t,e){return w(this,null,function*(){return gi(t,"POST","/v2/accounts:revokeToken",pi(t,e))})}var Uc=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Z(e.idToken,"internal-error"),Z(typeof e.idToken<"u","internal-error"),Z(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):cS(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Z(e.length!==0,"internal-error");let n=cS(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return w(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Z(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return w(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield mj(e,n);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new t;return r&&(Z(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(Z(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(Z(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return Sr("not implemented")}};function hi(t,e){Z(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var Ns=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=hp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Wy(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Bc(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return w(this,null,function*(){let n=yield jc(this,this.stsTokenManager.getToken(this.auth,e));return Z(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return dv(this,e)}reload(){return fv(this)}_assign(e){this!==e&&(Z(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Z(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return w(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield ph(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return w(this,null,function*(){if(En(this.auth.app))return Promise.reject(Rr(this.auth));let e=yield this.getIdToken();return yield jc(this,fj(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,u,l,h;let p=(r=n.displayName)!==null&&r!==void 0?r:void 0,m=(i=n.email)!==null&&i!==void 0?i:void 0,y=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,C=(s=n.photoURL)!==null&&s!==void 0?s:void 0,M=(a=n.tenantId)!==null&&a!==void 0?a:void 0,S=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,O=(l=n.createdAt)!==null&&l!==void 0?l:void 0,U=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:j,emailVerified:$,isAnonymous:ge,providerData:K,stsTokenManager:E}=n;Z(j&&E,e,"internal-error");let v=Uc.fromJSON(this.name,E);Z(typeof j=="string",e,"internal-error"),hi(p,e.name),hi(m,e.name),Z(typeof $=="boolean",e,"internal-error"),Z(typeof ge=="boolean",e,"internal-error"),hi(y,e.name),hi(C,e.name),hi(M,e.name),hi(S,e.name),hi(O,e.name),hi(U,e.name);let _=new t({uid:j,auth:e,email:m,emailVerified:$,displayName:p,isAnonymous:ge,photoURL:C,phoneNumber:y,tenantId:M,stsTokenManager:v,createdAt:O,lastLoginAt:U});return K&&Array.isArray(K)&&(_.providerData=K.map(b=>Object.assign({},b))),S&&(_._redirectEventId=S),_}static _fromIdTokenResponse(e,n,r=!1){return w(this,null,function*(){let i=new Uc;i.updateFromServerResponse(n);let o=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield ph(o),o})}static _fromGetAccountInfoResponse(e,n,r){return w(this,null,function*(){let i=n.users[0];Z(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?RS(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new Uc;a.updateFromIdToken(r);let u=new t({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Bc(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(u,l),u})}};var uS=new Map;function Ar(t){fi(t instanceof Function,"Expected a class definition");let e=uS.get(t);return e?(fi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,uS.set(t,e),e)}var vj=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return w(this,null,function*(){return!0})}_set(n,r){return w(this,null,function*(){this.storage[n]=r})}_get(n){return w(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return w(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),Ky=vj;function uh(t,e,n){return`firebase:${t}:${e}:${n}`}var gh=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=uh(this.userKey,i.apiKey,o),this.fullPersistenceKey=uh("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return w(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?Ns._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return w(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return w(this,null,function*(){if(!n.length)return new t(Ar(Ky),e,r);let i=(yield Promise.all(n.map(l=>w(this,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),o=i[0]||Ar(Ky),s=uh(r,e.config.apiKey,e.name),a=null;for(let l of n)try{let h=yield l._get(s);if(h){let p=Ns._fromJSON(e,h);l!==o&&(a=p),o=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new t(o,e,r):(o=u[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(n.map(l=>w(this,null,function*(){if(l!==o)try{yield l._remove(s)}catch{}}))),new t(o,e,r))})}};function lS(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(NS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(MS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(OS(e))return"Blackberry";if(kS(e))return"Webos";if(pv(e))return"Safari";if((e.includes("chrome/")||xS(e))&&!e.includes("edge/"))return"Chrome";if(PS(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function MS(t=et()){return/firefox\//i.test(t)}function pv(t=et()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function xS(t=et()){return/crios\//i.test(t)}function NS(t=et()){return/iemobile/i.test(t)}function PS(t=et()){return/android/i.test(t)}function OS(t=et()){return/blackberry/i.test(t)}function kS(t=et()){return/webos/i.test(t)}function bh(t=et()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function _j(t=et()){var e;return bh(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function wj(){return UT()&&document.documentMode===10}function FS(t=et()){return bh(t)||PS(t)||kS(t)||OS(t)||/windows phone/i.test(t)||NS(t)}function Ij(){try{return!!(window&&window!==window.top)}catch{return!1}}function LS(t,e=[]){let n;switch(t){case"Browser":n=lS(et());break;case"Worker":n=`${lS(et())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${$n}/${r}`}var Qy=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=o=>new Promise((s,a)=>{try{let u=e(o);s(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return w(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function Ej(n){return w(this,arguments,function*(t,e={}){return gi(t,"GET","/v2/passwordPolicy",pi(t,e))})}var bj=6,Yy=class{constructor(e){var n,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:bj,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(o=u.containsUppercaseLetter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(s=u.containsNumericCharacter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var Jy=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new mh(this),this.idTokenSubscription=new mh(this),this.beforeStateQueue=new Qy(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=CS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ar(n)),this._initializationPromise=this.queue(()=>w(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield gh.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return w(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return w(this,null,function*(){try{let n=yield AS(this,{idToken:e}),r=yield Ns._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return w(this,null,function*(){var n;if(En(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!s||s===a)&&u?.user&&(i=u.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Z(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return w(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return w(this,null,function*(){try{yield ph(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=cj()}_delete(){return w(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return w(this,null,function*(){if(En(this.app))return Promise.reject(Rr(this));let n=e?$e(e):null;return n&&Z(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return w(this,null,function*(){if(!this._deleted)return e&&Z(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>w(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return w(this,null,function*(){return En(this.app)?Promise.reject(Rr(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return En(this.app)?Promise.reject(Rr(this)):this.queue(()=>w(this,null,function*(){yield this.assertedPersistence.setPersistence(Ar(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return w(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return w(this,null,function*(){let e=yield Ej(this),n=new Yy(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Cr("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return w(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield yj(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return w(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return w(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&Ar(e)||this._popupRedirectResolver;Z(n,this,"argument-error"),this.redirectPersistenceManager=yield gh.create(this,[Ar(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return w(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>w(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return w(this,null,function*(){if(e===this.currentUser)return this.queue(()=>w(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let o=typeof n=="function"?n:n.next.bind(n),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Z(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){let u=e.addObserver(n,r,i);return()=>{s=!0,u()}}else{let u=e.addObserver(n);return()=>{s=!0,u()}}}directlySetCurrentUser(e){return w(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Z(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=LS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return w(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return w(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&oj(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function fo(t){return $e(t)}var mh=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=HT(n=>this.observer=n)}get next(){return Z(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Ch={loadJS(){return w(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Cj(t){Ch=t}function VS(t){return Ch.loadJS(t)}function Dj(){return Ch.recaptchaEnterpriseScript}function Tj(){return Ch.gapiScript}function US(t){return`__${t}${Math.floor(Math.random()*1e6)}`}var Sj="recaptcha-enterprise",Aj="NO_RECAPTCHA",Zy=class{constructor(e){this.type=Sj,this.auth=fo(e)}verify(e="verify",n=!1){return w(this,null,function*(){function r(o){return w(this,null,function*(){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise((s,a)=>w(this,null,function*(){hj(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let l=new Gy(u);return o.tenantId==null?o._agentRecaptchaConfig=l:o._tenantRecaptchaConfigs[o.tenantId]=l,s(l.siteKey)}}).catch(u=>{a(u)})}))})}function i(o,s,a){let u=window.grecaptcha;aS(u)?u.enterprise.ready(()=>{u.enterprise.execute(o,{action:e}).then(l=>{s(l)}).catch(()=>{s(Aj)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,s)=>{r(this.auth).then(a=>{if(!n&&aS(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let u=Dj();u.length!==0&&(u+=a),VS(u).then(()=>{i(a,o,s)}).catch(l=>{s(l)})}}).catch(a=>{s(a)})})})}};function dS(t,e,n,r=!1){return w(this,null,function*(){let i=new Zy(t),o;try{o=yield i.verify(n)}catch{o=yield i.verify(n,!0)}let s=Object.assign({},e);return r?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s})}function Xy(t,e,n,r){return w(this,null,function*(){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let o=yield dS(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(o=>w(this,null,function*(){if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let s=yield dS(t,e,n,n==="getOobCode");return r(t,s)}else return Promise.reject(o)}))})}function gv(t,e){let n=so(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),o=n.getOptions();if(ro(o,e??{}))return i;zn(i,"already-initialized")}return n.initialize({options:e})}function Rj(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Ar);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function mv(t,e,n){let r=fo(t);Z(r._canInitEmulator,r,"emulator-config-failed"),Z(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,o=jS(e),{host:s,port:a}=Mj(e),u=a===null?"":`:${a}`;r.config.emulator={url:`${o}//${s}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||xj()}function jS(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Mj(t){let e=jS(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:hS(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:hS(s)}}}function hS(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function xj(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var $c=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Sr("not implemented")}_getIdTokenResponse(e){return Sr("not implemented")}_linkToIdToken(e,n){return Sr("not implemented")}_getReauthenticationResolver(e){return Sr("not implemented")}};function Nj(t,e){return w(this,null,function*(){return gi(t,"POST","/v1/accounts:signUp",e)})}function Pj(t,e){return w(this,null,function*(){return qc(t,"POST","/v1/accounts:signInWithPassword",pi(t,e))})}function Oj(t,e){return w(this,null,function*(){return qc(t,"POST","/v1/accounts:signInWithEmailLink",pi(t,e))})}function kj(t,e){return w(this,null,function*(){return qc(t,"POST","/v1/accounts:signInWithEmailLink",pi(t,e))})}var Hc=class t extends $c{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new t(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new t(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){return w(this,null,function*(){switch(this.signInMethod){case"password":let n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Xy(e,n,"signInWithPassword",Pj);case"emailLink":return Oj(e,{email:this._email,oobCode:this._password});default:zn(e,"internal-error")}})}_linkToIdToken(e,n){return w(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Xy(e,r,"signUpPassword",Nj);case"emailLink":return kj(e,{idToken:n,email:this._email,oobCode:this._password});default:zn(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function $y(t,e){return w(this,null,function*(){return qc(t,"POST","/v1/accounts:signInWithIdp",pi(t,e))})}function Fj(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Lj(t){let e=As(Rs(t)).link,n=e?As(Rs(e)).deep_link_id:null,r=As(Rs(t)).deep_link_id;return(r?As(Rs(r)).link:null)||r||n||e||t}var yh=class t{constructor(e){var n,r,i,o,s,a;let u=As(Rs(e)),l=(n=u.apiKey)!==null&&n!==void 0?n:null,h=(r=u.oobCode)!==null&&r!==void 0?r:null,p=Fj((i=u.mode)!==null&&i!==void 0?i:null);Z(l&&h&&p,"argument-error"),this.apiKey=l,this.operation=p,this.code=h,this.continueUrl=(o=u.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=u.languageCode)!==null&&s!==void 0?s:null,this.tenantId=(a=u.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let n=Lj(e);try{return new t(n)}catch{return null}}};var BS=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return Hc._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){let i=yh.parseLink(r);return Z(i,"argument-error"),Hc._fromEmailAndCode(n,i.code,i.tenantId)}}t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return t})(),vh=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var ev=class extends vh{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};function Vj(t,e){return w(this,null,function*(){return qc(t,"POST","/v1/accounts:signUp",pi(t,e))})}var Ps=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return w(this,null,function*(){let o=yield Ns._fromIdTokenResponse(e,r,i),s=fS(r);return new t({user:o,providerId:s,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return w(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=fS(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function fS(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var tv=class t extends Nt{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function $S(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?tv._fromErrorAndOperation(t,o,e,r):o})}function Uj(t,e,n=!1){return w(this,null,function*(){let r=yield jc(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return Ps._forOperation(t,"link",r)})}function jj(t,e,n=!1){return w(this,null,function*(){let{auth:r}=t;if(En(r.app))return Promise.reject(Rr(r));let i="reauthenticate";try{let o=yield jc(t,$S(r,i,e,t),n);Z(o.idToken,r,"internal-error");let s=hv(o.idToken);Z(s,r,"internal-error");let{sub:a}=s;return Z(t.uid===a,r,"user-mismatch"),Ps._forOperation(t,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&zn(r,"user-mismatch"),o}})}function HS(t,e,n=!1){return w(this,null,function*(){if(En(t.app))return Promise.reject(Rr(t));let r="signIn",i=yield $S(t,r,e),o=yield Ps._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(o.user)),o})}function yv(t,e){return w(this,null,function*(){return HS(fo(t),e)})}function zS(t){return w(this,null,function*(){let e=fo(t);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function vv(t,e,n){return w(this,null,function*(){if(En(t.app))return Promise.reject(Rr(t));let r=fo(t),s=yield Xy(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Vj).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&zS(t),u}),a=yield Ps._fromIdTokenResponse(r,"signIn",s);return yield r._updateCurrentUser(a.user),a})}function _v(t,e,n){return En(t.app)?Promise.reject(Rr(t)):yv($e(t),BS.credential(e,n)).catch(r=>w(this,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&zS(t),r}))}function Dh(t,e,n,r){return $e(t).onIdTokenChanged(e,n,r)}function wv(t,e,n){return $e(t).beforeAuthStateChanged(e,n)}function Th(t,e,n,r){return $e(t).onAuthStateChanged(e,n,r)}function Iv(t){return $e(t).signOut()}var _h="__sak";var wh=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(_h,"1"),this.storage.removeItem(_h),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};function Bj(){let t=et();return pv(t)||bh(t)}var $j=1e3,Hj=10,zj=(()=>{class t extends wh{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=Bj()&&Ij(),this.fallbackToPolling=FS(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&n(r,o,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((a,u,l)=>{this.notifyListeners(a,l)});return}let i=n.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){let a=this.storage.getItem(i);if(n.newValue!==a)n.newValue!==null?this.storage.setItem(i,n.newValue):this.storage.removeItem(i);else if(this.localCache[i]===n.newValue&&!r)return}let o=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);wj()&&s!==n.newValue&&n.newValue!==n.oldValue?setTimeout(o,Hj):o()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},$j)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return w(this,null,function*(){yield Ur(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return w(this,null,function*(){let r=yield Ur(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return w(this,null,function*(){yield Ur(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),qS=zj;var qj=(()=>{class t extends wh{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),Ev=qj;function Gj(t){return Promise.all(t.map(e=>w(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var Wj=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(o=>o.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return w(this,null,function*(){let r=n,{eventId:i,eventType:o,data:s}=r.data,a=this.handlersMap[o];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let u=Array.from(a).map(h=>w(this,null,function*(){return h(r.origin,s)})),l=yield Gj(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:l})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function GS(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var nv=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return w(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,u)=>{let l=GS("",20);i.port1.start();let h=setTimeout(()=>{u(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(p){let m=p;if(m.data.eventId===l)switch(m.data.status){case"ack":clearTimeout(h),o=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(m.data.response);break;default:clearTimeout(h),clearTimeout(o),u(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function Hn(){return window}function Kj(t){Hn().location.href=t}function WS(){return typeof Hn().WorkerGlobalScope<"u"&&typeof Hn().importScripts=="function"}function Qj(){return w(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function Yj(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function Jj(){return WS()?self:null}var KS="firebaseLocalStorageDb",Zj=1,Ih="firebaseLocalStorage",QS="fbase_key",ho=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function Sh(t,e){return t.transaction([Ih],e?"readwrite":"readonly").objectStore(Ih)}function Xj(){let t=indexedDB.deleteDatabase(KS);return new ho(t).toPromise()}function rv(){let t=indexedDB.open(KS,Zj);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(Ih,{keyPath:QS})}catch(i){n(i)}}),t.addEventListener("success",()=>w(this,null,function*(){let r=t.result;r.objectStoreNames.contains(Ih)?e(r):(r.close(),yield Xj(),e(yield rv()))}))})}function pS(t,e,n){return w(this,null,function*(){let r=Sh(t,!0).put({[QS]:e,value:n});return new ho(r).toPromise()})}function eB(t,e){return w(this,null,function*(){let n=Sh(t,!1).get(e),r=yield new ho(n).toPromise();return r===void 0?null:r.value})}function gS(t,e){let n=Sh(t,!0).delete(e);return new ho(n).toPromise()}var tB=800,nB=3,rB=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return w(this,null,function*(){return this.db?this.db:(this.db=yield rv(),this.db)})}_withRetries(n){return w(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>nB)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return w(this,null,function*(){return WS()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return w(this,null,function*(){this.receiver=Wj._getInstance(Jj()),this.receiver._subscribe("keyChanged",(n,r)=>w(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>w(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return w(this,null,function*(){var n,r;if(this.activeServiceWorker=yield Qj(),!this.activeServiceWorker)return;this.sender=new nv(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return w(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||Yj()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return w(this,null,function*(){try{if(!indexedDB)return!1;let n=yield rv();return yield pS(n,_h,"1"),yield gS(n,_h),!0}catch{}return!1})}_withPendingWrite(n){return w(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return w(this,null,function*(){return this._withPendingWrite(()=>w(this,null,function*(){return yield this._withRetries(i=>pS(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return w(this,null,function*(){let r=yield this._withRetries(i=>eB(i,n));return this.localCache[n]=r,r})}_remove(n){return w(this,null,function*(){return this._withPendingWrite(()=>w(this,null,function*(){return yield this._withRetries(r=>gS(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return w(this,null,function*(){let n=yield this._withRetries(o=>{let s=Sh(o,!1).getAll();return new ho(s).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:o,value:s}of n)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>w(this,null,function*(){return this._poll()}),tB)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),YS=rB;var k7=US("rcb"),F7=new lo(3e4,6e4);function iB(t,e){return e?Ar(e):(Z(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var zc=class extends $c{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return $y(e,this._buildIdpRequest())}_linkToIdToken(e,n){return $y(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return $y(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function oB(t){return HS(t.auth,new zc(t),t.bypassAuthState)}function sB(t){let{auth:e,user:n}=t;return Z(n,e,"internal-error"),jj(n,new zc(t),t.bypassAuthState)}function aB(t){return w(this,null,function*(){let{auth:e,user:n}=t;return Z(n,e,"internal-error"),Uj(n,new zc(t),t.bypassAuthState)})}var iv=class{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>w(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return w(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}let u={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(u))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return oB;case"linkViaPopup":case"linkViaRedirect":return aB;case"reauthViaPopup":case"reauthViaRedirect":return sB;default:zn(this.auth,"internal-error")}}resolve(e){fi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){fi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var L7=new lo(2e3,1e4);var cB="pendingRedirect",lh=new Map,ov=class t extends iv{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return w(this,null,function*(){let e=lh.get(this.auth._key());if(!e){try{let r=(yield uB(this.resolver,this.auth))?yield Ur(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}lh.set(this.auth._key(),e)}return this.bypassAuthState||lh.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return w(this,null,function*(){if(e.type==="signInViaRedirect")return Ur(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,Ur(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return w(this,null,function*(){})}cleanUp(){}};function uB(t,e){return w(this,null,function*(){let n=hB(e),r=dB(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function lB(t,e){lh.set(t._key(),e)}function dB(t){return Ar(t._redirectPersistence)}function hB(t){return uh(cB,t.config.apiKey,t.name)}function fB(t,e,n=!1){return w(this,null,function*(){if(En(t.app))return Promise.reject(Rr(t));let r=fo(t),i=iB(r,e),s=yield new ov(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})}var pB=10*60*1e3,sv=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!gB(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!JS(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(uo(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=pB&&this.cachedEventUids.clear(),this.cachedEventUids.has(mS(e))}saveEventToCache(e){this.cachedEventUids.add(mS(e)),this.lastProcessedEventTime=Date.now()}};function mS(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function JS({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function gB(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return JS(t);default:return!1}}function mB(n){return w(this,arguments,function*(t,e={}){return gi(t,"GET","/v1/projects",e)})}var yB=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,vB=/^https?/;function _B(t){return w(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield mB(t);for(let n of e)try{if(wB(n))return}catch{}zn(t,"unauthorized-domain")})}function wB(t){let e=zy(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!vB.test(n))return!1;if(yB.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var IB=new lo(3e4,6e4);function yS(){let t=Hn().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function EB(t){return new Promise((e,n)=>{var r,i,o;function s(){yS(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{yS(),n(uo(t,"network-request-failed"))},timeout:IB.get()})}if(!((i=(r=Hn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=Hn().gapi)===null||o===void 0)&&o.load)s();else{let a=US("iframefcb");return Hn()[a]=()=>{gapi.load?s():n(uo(t,"network-request-failed"))},VS(`${Tj()}?onload=${a}`).catch(u=>n(u))}}).catch(e=>{throw dh=null,e})}var dh=null;function bB(t){return dh=dh||EB(t),dh}var CB=new lo(5e3,15e3),DB="__/auth/iframe",TB="emulator/auth/iframe",SB={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},AB=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function RB(t){let e=t.config;Z(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?lv(e,TB):`https://${t.config.authDomain}/${DB}`,r={apiKey:e.apiKey,appName:t.name,v:$n},i=AB.get(t.config.apiHost);i&&(r.eid=i);let o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${kc(r).slice(1)}`}function MB(t){return w(this,null,function*(){let e=yield bB(t),n=Hn().gapi;return Z(n,t,"internal-error"),e.open({where:document.body,url:RB(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:SB,dontclear:!0},r=>new Promise((i,o)=>w(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let s=uo(t,"network-request-failed"),a=Hn().setTimeout(()=>{o(s)},CB.get());function u(){Hn().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{o(s)})})))})}var xB={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},NB=500,PB=600,OB="_blank",kB="http://localhost",Eh=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function FB(t,e,n,r=NB,i=PB){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",u=Object.assign(Object.assign({},xB),{width:r.toString(),height:i.toString(),top:o,left:s}),l=et().toLowerCase();n&&(a=xS(l)?OB:n),MS(l)&&(e=e||kB,u.scrollbars="yes");let h=Object.entries(u).reduce((m,[y,C])=>`${m}${y}=${C},`,"");if(_j(l)&&a!=="_self")return LB(e||"",a),new Eh(null);let p=window.open(e||"",a,h);Z(p,t,"popup-blocked");try{p.focus()}catch{}return new Eh(p)}function LB(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var VB="__/auth/handler",UB="emulator/auth/handler",jB=encodeURIComponent("fac");function vS(t,e,n,r,i,o){return w(this,null,function*(){Z(t.config.authDomain,t,"auth-domain-config-required"),Z(t.config.apiKey,t,"invalid-api-key");let s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:$n,eventId:i};if(e instanceof vh){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",$T(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[h,p]of Object.entries(o||{}))s[h]=p}if(e instanceof ev){let h=e.getScopes().filter(p=>p!=="");h.length>0&&(s.scopes=h.join(","))}t.tenantId&&(s.tid=t.tenantId);let a=s;for(let h of Object.keys(a))a[h]===void 0&&delete a[h];let u=yield t._getAppCheckToken(),l=u?`#${jB}=${encodeURIComponent(u)}`:"";return`${BB(t)}?${kc(a).slice(1)}${l}`})}function BB({config:t}){return t.emulator?lv(t,UB):`https://${t.authDomain}/${VB}`}var Hy="webStorageSupport",av=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ev,this._completeRedirectFn=fB,this._overrideRedirectResult=lB}_openPopup(e,n,r,i){return w(this,null,function*(){var o;fi((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield vS(e,n,r,zy(),i);return FB(e,s,GS())})}_openRedirect(e,n,r,i){return w(this,null,function*(){yield this._originValidation(e);let o=yield vS(e,n,r,zy(),i);return Kj(o),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(fi(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return w(this,null,function*(){let n=yield MB(e),r=new sv(e);return n.register("authEvent",i=>(Z(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Hy,{type:Hy},i=>{var o;let s=(o=i?.[0])===null||o===void 0?void 0:o[Hy];s!==void 0&&n(!!s),zn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=_B(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return FS()||pv()||bh()}},ZS=av;var _S="@firebase/auth",wS="1.7.6";var cv=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return w(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Z(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function $B(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function HB(t){Bn(new jt("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;Z(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:LS(t)},l=new Jy(r,i,o,u);return Rj(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Bn(new jt("auth-internal",e=>{let n=fo(e.getProvider("auth").getImmediate());return(r=>new cv(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Oe(_S,wS,$B(t)),Oe(_S,wS,"esm2017")}var zB=5*60,qB=Ey("authIdTokenMaxAge")||zB,IS=null,GB=t=>e=>w(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>qB)return;let i=n?.token;IS!==i&&(IS=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function bv(t=ui()){let e=so(t,"auth");if(e.isInitialized())return e.getImmediate();let n=gv(t,{popupRedirectResolver:ZS,persistence:[YS,qS,Ev]}),r=Ey("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=GB(o.toString());wv(n,s,()=>s(n.currentUser)),Dh(n,a=>s(a))}}let i=wy("auth");return i&&mv(n,`http://${i}`),n}function WB(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}Cj({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let o=uo("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",WB().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});HB("Browser");function eA(t){return new ue(function(e){var n=Th(t,e.next.bind(e),e.error.bind(e),e.complete.bind(e));return{unsubscribe:n}})}var tA="auth",po=class{constructor(e){return e}},go=class{constructor(){return co(tA)}};var Cv=new H("angularfire2.auth-instances");function k$(t,e){let n=xs(tA,t,e);return n&&new po(n)}function F$(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new po(r)}}var L$={provide:go,deps:[[new Ze,Cv]]},V$={provide:po,useFactory:k$,deps:[[new Ze,Cv],bn]};function nA(t,...e){return Oe("angularfire",Dr.full,"auth"),Vt([V$,L$,{provide:Cv,useFactory:F$(t),multi:!0,deps:[Ce,It,di,Tr,[new Ze,li],...e]}])}var rA=tt(eA,!0);var iA=tt(vv,!0);var oA=tt(bv,!0);var sA=tt(_v,!0);var aA=tt(Iv,!0);var cA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},uA={};var mi,Dv;(function(){var t;function e(E,v){function _(){}_.prototype=v.prototype,E.D=v.prototype,E.prototype=new _,E.prototype.constructor=E,E.C=function(b,D,A){for(var I=Array(arguments.length-2),tr=2;tr<arguments.length;tr++)I[tr-2]=arguments[tr];return v.prototype[D].apply(b,I)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(E,v,_){_||(_=0);var b=Array(16);if(typeof v=="string")for(var D=0;16>D;++D)b[D]=v.charCodeAt(_++)|v.charCodeAt(_++)<<8|v.charCodeAt(_++)<<16|v.charCodeAt(_++)<<24;else for(D=0;16>D;++D)b[D]=v[_++]|v[_++]<<8|v[_++]<<16|v[_++]<<24;v=E.g[0],_=E.g[1],D=E.g[2];var A=E.g[3],I=v+(A^_&(D^A))+b[0]+3614090360&4294967295;v=_+(I<<7&4294967295|I>>>25),I=A+(D^v&(_^D))+b[1]+3905402710&4294967295,A=v+(I<<12&4294967295|I>>>20),I=D+(_^A&(v^_))+b[2]+606105819&4294967295,D=A+(I<<17&4294967295|I>>>15),I=_+(v^D&(A^v))+b[3]+3250441966&4294967295,_=D+(I<<22&4294967295|I>>>10),I=v+(A^_&(D^A))+b[4]+4118548399&4294967295,v=_+(I<<7&4294967295|I>>>25),I=A+(D^v&(_^D))+b[5]+1200080426&4294967295,A=v+(I<<12&4294967295|I>>>20),I=D+(_^A&(v^_))+b[6]+2821735955&4294967295,D=A+(I<<17&4294967295|I>>>15),I=_+(v^D&(A^v))+b[7]+4249261313&4294967295,_=D+(I<<22&4294967295|I>>>10),I=v+(A^_&(D^A))+b[8]+1770035416&4294967295,v=_+(I<<7&4294967295|I>>>25),I=A+(D^v&(_^D))+b[9]+2336552879&4294967295,A=v+(I<<12&4294967295|I>>>20),I=D+(_^A&(v^_))+b[10]+4294925233&4294967295,D=A+(I<<17&4294967295|I>>>15),I=_+(v^D&(A^v))+b[11]+2304563134&4294967295,_=D+(I<<22&4294967295|I>>>10),I=v+(A^_&(D^A))+b[12]+1804603682&4294967295,v=_+(I<<7&4294967295|I>>>25),I=A+(D^v&(_^D))+b[13]+4254626195&4294967295,A=v+(I<<12&4294967295|I>>>20),I=D+(_^A&(v^_))+b[14]+2792965006&4294967295,D=A+(I<<17&4294967295|I>>>15),I=_+(v^D&(A^v))+b[15]+1236535329&4294967295,_=D+(I<<22&4294967295|I>>>10),I=v+(D^A&(_^D))+b[1]+4129170786&4294967295,v=_+(I<<5&4294967295|I>>>27),I=A+(_^D&(v^_))+b[6]+3225465664&4294967295,A=v+(I<<9&4294967295|I>>>23),I=D+(v^_&(A^v))+b[11]+643717713&4294967295,D=A+(I<<14&4294967295|I>>>18),I=_+(A^v&(D^A))+b[0]+3921069994&4294967295,_=D+(I<<20&4294967295|I>>>12),I=v+(D^A&(_^D))+b[5]+3593408605&4294967295,v=_+(I<<5&4294967295|I>>>27),I=A+(_^D&(v^_))+b[10]+38016083&4294967295,A=v+(I<<9&4294967295|I>>>23),I=D+(v^_&(A^v))+b[15]+3634488961&4294967295,D=A+(I<<14&4294967295|I>>>18),I=_+(A^v&(D^A))+b[4]+3889429448&4294967295,_=D+(I<<20&4294967295|I>>>12),I=v+(D^A&(_^D))+b[9]+568446438&4294967295,v=_+(I<<5&4294967295|I>>>27),I=A+(_^D&(v^_))+b[14]+3275163606&4294967295,A=v+(I<<9&4294967295|I>>>23),I=D+(v^_&(A^v))+b[3]+4107603335&4294967295,D=A+(I<<14&4294967295|I>>>18),I=_+(A^v&(D^A))+b[8]+1163531501&4294967295,_=D+(I<<20&4294967295|I>>>12),I=v+(D^A&(_^D))+b[13]+2850285829&4294967295,v=_+(I<<5&4294967295|I>>>27),I=A+(_^D&(v^_))+b[2]+4243563512&4294967295,A=v+(I<<9&4294967295|I>>>23),I=D+(v^_&(A^v))+b[7]+1735328473&4294967295,D=A+(I<<14&4294967295|I>>>18),I=_+(A^v&(D^A))+b[12]+2368359562&4294967295,_=D+(I<<20&4294967295|I>>>12),I=v+(_^D^A)+b[5]+4294588738&4294967295,v=_+(I<<4&4294967295|I>>>28),I=A+(v^_^D)+b[8]+2272392833&4294967295,A=v+(I<<11&4294967295|I>>>21),I=D+(A^v^_)+b[11]+1839030562&4294967295,D=A+(I<<16&4294967295|I>>>16),I=_+(D^A^v)+b[14]+4259657740&4294967295,_=D+(I<<23&4294967295|I>>>9),I=v+(_^D^A)+b[1]+2763975236&4294967295,v=_+(I<<4&4294967295|I>>>28),I=A+(v^_^D)+b[4]+1272893353&4294967295,A=v+(I<<11&4294967295|I>>>21),I=D+(A^v^_)+b[7]+4139469664&4294967295,D=A+(I<<16&4294967295|I>>>16),I=_+(D^A^v)+b[10]+3200236656&4294967295,_=D+(I<<23&4294967295|I>>>9),I=v+(_^D^A)+b[13]+681279174&4294967295,v=_+(I<<4&4294967295|I>>>28),I=A+(v^_^D)+b[0]+3936430074&4294967295,A=v+(I<<11&4294967295|I>>>21),I=D+(A^v^_)+b[3]+3572445317&4294967295,D=A+(I<<16&4294967295|I>>>16),I=_+(D^A^v)+b[6]+76029189&4294967295,_=D+(I<<23&4294967295|I>>>9),I=v+(_^D^A)+b[9]+3654602809&4294967295,v=_+(I<<4&4294967295|I>>>28),I=A+(v^_^D)+b[12]+3873151461&4294967295,A=v+(I<<11&4294967295|I>>>21),I=D+(A^v^_)+b[15]+530742520&4294967295,D=A+(I<<16&4294967295|I>>>16),I=_+(D^A^v)+b[2]+3299628645&4294967295,_=D+(I<<23&4294967295|I>>>9),I=v+(D^(_|~A))+b[0]+4096336452&4294967295,v=_+(I<<6&4294967295|I>>>26),I=A+(_^(v|~D))+b[7]+1126891415&4294967295,A=v+(I<<10&4294967295|I>>>22),I=D+(v^(A|~_))+b[14]+2878612391&4294967295,D=A+(I<<15&4294967295|I>>>17),I=_+(A^(D|~v))+b[5]+4237533241&4294967295,_=D+(I<<21&4294967295|I>>>11),I=v+(D^(_|~A))+b[12]+1700485571&4294967295,v=_+(I<<6&4294967295|I>>>26),I=A+(_^(v|~D))+b[3]+2399980690&4294967295,A=v+(I<<10&4294967295|I>>>22),I=D+(v^(A|~_))+b[10]+4293915773&4294967295,D=A+(I<<15&4294967295|I>>>17),I=_+(A^(D|~v))+b[1]+2240044497&4294967295,_=D+(I<<21&4294967295|I>>>11),I=v+(D^(_|~A))+b[8]+1873313359&4294967295,v=_+(I<<6&4294967295|I>>>26),I=A+(_^(v|~D))+b[15]+4264355552&4294967295,A=v+(I<<10&4294967295|I>>>22),I=D+(v^(A|~_))+b[6]+2734768916&4294967295,D=A+(I<<15&4294967295|I>>>17),I=_+(A^(D|~v))+b[13]+1309151649&4294967295,_=D+(I<<21&4294967295|I>>>11),I=v+(D^(_|~A))+b[4]+4149444226&4294967295,v=_+(I<<6&4294967295|I>>>26),I=A+(_^(v|~D))+b[11]+3174756917&4294967295,A=v+(I<<10&4294967295|I>>>22),I=D+(v^(A|~_))+b[2]+718787259&4294967295,D=A+(I<<15&4294967295|I>>>17),I=_+(A^(D|~v))+b[9]+3951481745&4294967295,E.g[0]=E.g[0]+v&4294967295,E.g[1]=E.g[1]+(D+(I<<21&4294967295|I>>>11))&4294967295,E.g[2]=E.g[2]+D&4294967295,E.g[3]=E.g[3]+A&4294967295}r.prototype.u=function(E,v){v===void 0&&(v=E.length);for(var _=v-this.blockSize,b=this.B,D=this.h,A=0;A<v;){if(D==0)for(;A<=_;)i(this,E,A),A+=this.blockSize;if(typeof E=="string"){for(;A<v;)if(b[D++]=E.charCodeAt(A++),D==this.blockSize){i(this,b),D=0;break}}else for(;A<v;)if(b[D++]=E[A++],D==this.blockSize){i(this,b),D=0;break}}this.h=D,this.o+=v},r.prototype.v=function(){var E=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);E[0]=128;for(var v=1;v<E.length-8;++v)E[v]=0;var _=8*this.o;for(v=E.length-8;v<E.length;++v)E[v]=_&255,_/=256;for(this.u(E),E=Array(16),v=_=0;4>v;++v)for(var b=0;32>b;b+=8)E[_++]=this.g[v]>>>b&255;return E};function o(E,v){var _=a;return Object.prototype.hasOwnProperty.call(_,E)?_[E]:_[E]=v(E)}function s(E,v){this.h=v;for(var _=[],b=!0,D=E.length-1;0<=D;D--){var A=E[D]|0;b&&A==v||(_[D]=A,b=!1)}this.g=_}var a={};function u(E){return-128<=E&&128>E?o(E,function(v){return new s([v|0],0>v?-1:0)}):new s([E|0],0>E?-1:0)}function l(E){if(isNaN(E)||!isFinite(E))return p;if(0>E)return S(l(-E));for(var v=[],_=1,b=0;E>=_;b++)v[b]=E/_|0,_*=4294967296;return new s(v,0)}function h(E,v){if(E.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(E.charAt(0)=="-")return S(h(E.substring(1),v));if(0<=E.indexOf("-"))throw Error('number format error: interior "-" character');for(var _=l(Math.pow(v,8)),b=p,D=0;D<E.length;D+=8){var A=Math.min(8,E.length-D),I=parseInt(E.substring(D,D+A),v);8>A?(A=l(Math.pow(v,A)),b=b.j(A).add(l(I))):(b=b.j(_),b=b.add(l(I)))}return b}var p=u(0),m=u(1),y=u(16777216);t=s.prototype,t.m=function(){if(M(this))return-S(this).m();for(var E=0,v=1,_=0;_<this.g.length;_++){var b=this.i(_);E+=(0<=b?b:4294967296+b)*v,v*=4294967296}return E},t.toString=function(E){if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(C(this))return"0";if(M(this))return"-"+S(this).toString(E);for(var v=l(Math.pow(E,6)),_=this,b="";;){var D=$(_,v).g;_=O(_,D.j(v));var A=((0<_.g.length?_.g[0]:_.h)>>>0).toString(E);if(_=D,C(_))return A+b;for(;6>A.length;)A="0"+A;b=A+b}},t.i=function(E){return 0>E?0:E<this.g.length?this.g[E]:this.h};function C(E){if(E.h!=0)return!1;for(var v=0;v<E.g.length;v++)if(E.g[v]!=0)return!1;return!0}function M(E){return E.h==-1}t.l=function(E){return E=O(this,E),M(E)?-1:C(E)?0:1};function S(E){for(var v=E.g.length,_=[],b=0;b<v;b++)_[b]=~E.g[b];return new s(_,~E.h).add(m)}t.abs=function(){return M(this)?S(this):this},t.add=function(E){for(var v=Math.max(this.g.length,E.g.length),_=[],b=0,D=0;D<=v;D++){var A=b+(this.i(D)&65535)+(E.i(D)&65535),I=(A>>>16)+(this.i(D)>>>16)+(E.i(D)>>>16);b=I>>>16,A&=65535,I&=65535,_[D]=I<<16|A}return new s(_,_[_.length-1]&-2147483648?-1:0)};function O(E,v){return E.add(S(v))}t.j=function(E){if(C(this)||C(E))return p;if(M(this))return M(E)?S(this).j(S(E)):S(S(this).j(E));if(M(E))return S(this.j(S(E)));if(0>this.l(y)&&0>E.l(y))return l(this.m()*E.m());for(var v=this.g.length+E.g.length,_=[],b=0;b<2*v;b++)_[b]=0;for(b=0;b<this.g.length;b++)for(var D=0;D<E.g.length;D++){var A=this.i(b)>>>16,I=this.i(b)&65535,tr=E.i(D)>>>16,oa=E.i(D)&65535;_[2*b+2*D]+=I*oa,U(_,2*b+2*D),_[2*b+2*D+1]+=A*oa,U(_,2*b+2*D+1),_[2*b+2*D+1]+=I*tr,U(_,2*b+2*D+1),_[2*b+2*D+2]+=A*tr,U(_,2*b+2*D+2)}for(b=0;b<v;b++)_[b]=_[2*b+1]<<16|_[2*b];for(b=v;b<2*v;b++)_[b]=0;return new s(_,0)};function U(E,v){for(;(E[v]&65535)!=E[v];)E[v+1]+=E[v]>>>16,E[v]&=65535,v++}function j(E,v){this.g=E,this.h=v}function $(E,v){if(C(v))throw Error("division by zero");if(C(E))return new j(p,p);if(M(E))return v=$(S(E),v),new j(S(v.g),S(v.h));if(M(v))return v=$(E,S(v)),new j(S(v.g),v.h);if(30<E.g.length){if(M(E)||M(v))throw Error("slowDivide_ only works with positive integers.");for(var _=m,b=v;0>=b.l(E);)_=ge(_),b=ge(b);var D=K(_,1),A=K(b,1);for(b=K(b,2),_=K(_,2);!C(b);){var I=A.add(b);0>=I.l(E)&&(D=D.add(_),A=I),b=K(b,1),_=K(_,1)}return v=O(E,D.j(v)),new j(D,v)}for(D=p;0<=E.l(v);){for(_=Math.max(1,Math.floor(E.m()/v.m())),b=Math.ceil(Math.log(_)/Math.LN2),b=48>=b?1:Math.pow(2,b-48),A=l(_),I=A.j(v);M(I)||0<I.l(E);)_-=b,A=l(_),I=A.j(v);C(A)&&(A=m),D=D.add(A),E=O(E,I)}return new j(D,E)}t.A=function(E){return $(this,E).h},t.and=function(E){for(var v=Math.max(this.g.length,E.g.length),_=[],b=0;b<v;b++)_[b]=this.i(b)&E.i(b);return new s(_,this.h&E.h)},t.or=function(E){for(var v=Math.max(this.g.length,E.g.length),_=[],b=0;b<v;b++)_[b]=this.i(b)|E.i(b);return new s(_,this.h|E.h)},t.xor=function(E){for(var v=Math.max(this.g.length,E.g.length),_=[],b=0;b<v;b++)_[b]=this.i(b)^E.i(b);return new s(_,this.h^E.h)};function ge(E){for(var v=E.g.length+1,_=[],b=0;b<v;b++)_[b]=E.i(b)<<1|E.i(b-1)>>>31;return new s(_,E.h)}function K(E,v){var _=v>>5;v%=32;for(var b=E.g.length-_,D=[],A=0;A<b;A++)D[A]=0<v?E.i(A+_)>>>v|E.i(A+_+1)<<32-v:E.i(A+_);return new s(D,E.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Dv=uA.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=h,mi=uA.Integer=s}).apply(typeof cA<"u"?cA:typeof self<"u"?self:typeof window<"u"?window:{});var Ah=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Mr={};var Tv,Sv,Os,Av,Gc,Rh,Rv,Mv,xv;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,d,f){return c==Array.prototype||c==Object.prototype||(c[d]=f.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ah=="object"&&Ah];for(var d=0;d<c.length;++d){var f=c[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=n(this);function i(c,d){if(d)e:{var f=r;c=c.split(".");for(var g=0;g<c.length-1;g++){var T=c[g];if(!(T in f))break e;f=f[T]}c=c[c.length-1],g=f[c],d=d(g),d!=g&&d!=null&&e(f,c,{configurable:!0,writable:!0,value:d})}}function o(c,d){c instanceof String&&(c+="");var f=0,g=!1,T={next:function(){if(!g&&f<c.length){var R=f++;return{value:d(R,c[R]),done:!1}}return g=!0,{done:!0,value:void 0}}};return T[Symbol.iterator]=function(){return T},T}i("Array.prototype.values",function(c){return c||function(){return o(this,function(d,f){return f})}});var s=s||{},a=this||self;function u(c){var d=typeof c;return d=d!="object"?d:c?Array.isArray(c)?"array":d:"null",d=="array"||d=="object"&&typeof c.length=="number"}function l(c){var d=typeof c;return d=="object"&&c!=null||d=="function"}function h(c,d,f){return c.call.apply(c.bind,arguments)}function p(c,d,f){if(!c)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var T=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(T,g),c.apply(d,T)}}return function(){return c.apply(d,arguments)}}function m(c,d,f){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,m.apply(null,arguments)}function y(c,d){var f=Array.prototype.slice.call(arguments,1);return function(){var g=f.slice();return g.push.apply(g,arguments),c.apply(this,g)}}function C(c,d){function f(){}f.prototype=d.prototype,c.aa=d.prototype,c.prototype=new f,c.prototype.constructor=c,c.Qb=function(g,T,R){for(var V=Array(arguments.length-2),Me=2;Me<arguments.length;Me++)V[Me-2]=arguments[Me];return d.prototype[T].apply(g,V)}}function M(c){let d=c.length;if(0<d){let f=Array(d);for(let g=0;g<d;g++)f[g]=c[g];return f}return[]}function S(c,d){for(let f=1;f<arguments.length;f++){let g=arguments[f];if(u(g)){let T=c.length||0,R=g.length||0;c.length=T+R;for(let V=0;V<R;V++)c[T+V]=g[V]}else c.push(g)}}class O{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function U(c){return/^[\s\xa0]*$/.test(c)}function j(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function $(c){return $[" "](c),c}$[" "]=function(){};var ge=j().indexOf("Gecko")!=-1&&!(j().toLowerCase().indexOf("webkit")!=-1&&j().indexOf("Edge")==-1)&&!(j().indexOf("Trident")!=-1||j().indexOf("MSIE")!=-1)&&j().indexOf("Edge")==-1;function K(c,d,f){for(let g in c)d.call(f,c[g],g,c)}function E(c,d){for(let f in c)d.call(void 0,c[f],f,c)}function v(c){let d={};for(let f in c)d[f]=c[f];return d}let _="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function b(c,d){let f,g;for(let T=1;T<arguments.length;T++){g=arguments[T];for(f in g)c[f]=g[f];for(let R=0;R<_.length;R++)f=_[R],Object.prototype.hasOwnProperty.call(g,f)&&(c[f]=g[f])}}function D(c){var d=1;c=c.split(":");let f=[];for(;0<d&&c.length;)f.push(c.shift()),d--;return c.length&&f.push(c.join(":")),f}function A(c){a.setTimeout(()=>{throw c},0)}function I(){var c=Ef;let d=null;return c.g&&(d=c.g,c.g=c.g.next,c.g||(c.h=null),d.next=null),d}class tr{constructor(){this.h=this.g=null}add(d,f){let g=oa.get();g.set(d,f),this.h?this.h.next=g:this.g=g,this.h=g}}var oa=new O(()=>new $M,c=>c.reset());class $M{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let sa,aa=!1,Ef=new tr,Qw=()=>{let c=a.Promise.resolve(void 0);sa=()=>{c.then(HM)}};var HM=()=>{for(var c;c=I();){try{c.h.call(c.g)}catch(f){A(f)}var d=oa;d.j(c),100>d.h&&(d.h++,c.next=d.g,d.g=c)}aa=!1};function kr(){this.s=this.s,this.C=this.C}kr.prototype.s=!1,kr.prototype.ma=function(){this.s||(this.s=!0,this.N())},kr.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function mt(c,d){this.type=c,this.g=this.target=d,this.defaultPrevented=!1}mt.prototype.h=function(){this.defaultPrevented=!0};var zM=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,d=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let f=()=>{};a.addEventListener("test",f,d),a.removeEventListener("test",f,d)}catch{}return c}();function ca(c,d){if(mt.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var f=this.type=c.type,g=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=d,d=c.relatedTarget){if(ge){e:{try{$(d.nodeName);var T=!0;break e}catch{}T=!1}T||(d=null)}}else f=="mouseover"?d=c.fromElement:f=="mouseout"&&(d=c.toElement);this.relatedTarget=d,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:qM[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&ca.aa.h.call(this)}}C(ca,mt);var qM={2:"touch",3:"pen",4:"mouse"};ca.prototype.h=function(){ca.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var ua="closure_listenable_"+(1e6*Math.random()|0),GM=0;function WM(c,d,f,g,T){this.listener=c,this.proxy=null,this.src=d,this.type=f,this.capture=!!g,this.ha=T,this.key=++GM,this.da=this.fa=!1}function _u(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function wu(c){this.src=c,this.g={},this.h=0}wu.prototype.add=function(c,d,f,g,T){var R=c.toString();c=this.g[R],c||(c=this.g[R]=[],this.h++);var V=Cf(c,d,g,T);return-1<V?(d=c[V],f||(d.fa=!1)):(d=new WM(d,this.src,R,!!g,T),d.fa=f,c.push(d)),d};function bf(c,d){var f=d.type;if(f in c.g){var g=c.g[f],T=Array.prototype.indexOf.call(g,d,void 0),R;(R=0<=T)&&Array.prototype.splice.call(g,T,1),R&&(_u(d),c.g[f].length==0&&(delete c.g[f],c.h--))}}function Cf(c,d,f,g){for(var T=0;T<c.length;++T){var R=c[T];if(!R.da&&R.listener==d&&R.capture==!!f&&R.ha==g)return T}return-1}var Df="closure_lm_"+(1e6*Math.random()|0),Tf={};function Yw(c,d,f,g,T){if(g&&g.once)return Zw(c,d,f,g,T);if(Array.isArray(d)){for(var R=0;R<d.length;R++)Yw(c,d[R],f,g,T);return null}return f=Mf(f),c&&c[ua]?c.K(d,f,l(g)?!!g.capture:!!g,T):Jw(c,d,f,!1,g,T)}function Jw(c,d,f,g,T,R){if(!d)throw Error("Invalid event type");var V=l(T)?!!T.capture:!!T,Me=Af(c);if(Me||(c[Df]=Me=new wu(c)),f=Me.add(d,f,g,V,R),f.proxy)return f;if(g=KM(),f.proxy=g,g.src=c,g.listener=f,c.addEventListener)zM||(T=V),T===void 0&&(T=!1),c.addEventListener(d.toString(),g,T);else if(c.attachEvent)c.attachEvent(eI(d.toString()),g);else if(c.addListener&&c.removeListener)c.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return f}function KM(){function c(f){return d.call(c.src,c.listener,f)}let d=QM;return c}function Zw(c,d,f,g,T){if(Array.isArray(d)){for(var R=0;R<d.length;R++)Zw(c,d[R],f,g,T);return null}return f=Mf(f),c&&c[ua]?c.L(d,f,l(g)?!!g.capture:!!g,T):Jw(c,d,f,!0,g,T)}function Xw(c,d,f,g,T){if(Array.isArray(d))for(var R=0;R<d.length;R++)Xw(c,d[R],f,g,T);else g=l(g)?!!g.capture:!!g,f=Mf(f),c&&c[ua]?(c=c.i,d=String(d).toString(),d in c.g&&(R=c.g[d],f=Cf(R,f,g,T),-1<f&&(_u(R[f]),Array.prototype.splice.call(R,f,1),R.length==0&&(delete c.g[d],c.h--)))):c&&(c=Af(c))&&(d=c.g[d.toString()],c=-1,d&&(c=Cf(d,f,g,T)),(f=-1<c?d[c]:null)&&Sf(f))}function Sf(c){if(typeof c!="number"&&c&&!c.da){var d=c.src;if(d&&d[ua])bf(d.i,c);else{var f=c.type,g=c.proxy;d.removeEventListener?d.removeEventListener(f,g,c.capture):d.detachEvent?d.detachEvent(eI(f),g):d.addListener&&d.removeListener&&d.removeListener(g),(f=Af(d))?(bf(f,c),f.h==0&&(f.src=null,d[Df]=null)):_u(c)}}}function eI(c){return c in Tf?Tf[c]:Tf[c]="on"+c}function QM(c,d){if(c.da)c=!0;else{d=new ca(d,this);var f=c.listener,g=c.ha||c.src;c.fa&&Sf(c),c=f.call(g,d)}return c}function Af(c){return c=c[Df],c instanceof wu?c:null}var Rf="__closure_events_fn_"+(1e9*Math.random()>>>0);function Mf(c){return typeof c=="function"?c:(c[Rf]||(c[Rf]=function(d){return c.handleEvent(d)}),c[Rf])}function yt(){kr.call(this),this.i=new wu(this),this.M=this,this.F=null}C(yt,kr),yt.prototype[ua]=!0,yt.prototype.removeEventListener=function(c,d,f,g){Xw(this,c,d,f,g)};function Tt(c,d){var f,g=c.F;if(g)for(f=[];g;g=g.F)f.push(g);if(c=c.M,g=d.type||d,typeof d=="string")d=new mt(d,c);else if(d instanceof mt)d.target=d.target||c;else{var T=d;d=new mt(g,c),b(d,T)}if(T=!0,f)for(var R=f.length-1;0<=R;R--){var V=d.g=f[R];T=Iu(V,g,!0,d)&&T}if(V=d.g=c,T=Iu(V,g,!0,d)&&T,T=Iu(V,g,!1,d)&&T,f)for(R=0;R<f.length;R++)V=d.g=f[R],T=Iu(V,g,!1,d)&&T}yt.prototype.N=function(){if(yt.aa.N.call(this),this.i){var c=this.i,d;for(d in c.g){for(var f=c.g[d],g=0;g<f.length;g++)_u(f[g]);delete c.g[d],c.h--}}this.F=null},yt.prototype.K=function(c,d,f,g){return this.i.add(String(c),d,!1,f,g)},yt.prototype.L=function(c,d,f,g){return this.i.add(String(c),d,!0,f,g)};function Iu(c,d,f,g){if(d=c.i.g[String(d)],!d)return!0;d=d.concat();for(var T=!0,R=0;R<d.length;++R){var V=d[R];if(V&&!V.da&&V.capture==f){var Me=V.listener,at=V.ha||V.src;V.fa&&bf(c.i,V),T=Me.call(at,g)!==!1&&T}}return T&&!g.defaultPrevented}function tI(c,d,f){if(typeof c=="function")f&&(c=m(c,f));else if(c&&typeof c.handleEvent=="function")c=m(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(c,d||0)}function nI(c){c.g=tI(()=>{c.g=null,c.i&&(c.i=!1,nI(c))},c.l);let d=c.h;c.h=null,c.m.apply(null,d)}class YM extends kr{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:nI(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function la(c){kr.call(this),this.h=c,this.g={}}C(la,kr);var rI=[];function iI(c){K(c.g,function(d,f){this.g.hasOwnProperty(f)&&Sf(d)},c),c.g={}}la.prototype.N=function(){la.aa.N.call(this),iI(this)},la.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var xf=a.JSON.stringify,JM=a.JSON.parse,ZM=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function Nf(){}Nf.prototype.h=null;function oI(c){return c.h||(c.h=c.i())}function sI(){}var da={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Pf(){mt.call(this,"d")}C(Pf,mt);function Of(){mt.call(this,"c")}C(Of,mt);var Ii={},aI=null;function Eu(){return aI=aI||new yt}Ii.La="serverreachability";function cI(c){mt.call(this,Ii.La,c)}C(cI,mt);function ha(c){let d=Eu();Tt(d,new cI(d))}Ii.STAT_EVENT="statevent";function uI(c,d){mt.call(this,Ii.STAT_EVENT,c),this.stat=d}C(uI,mt);function St(c){let d=Eu();Tt(d,new uI(d,c))}Ii.Ma="timingevent";function lI(c,d){mt.call(this,Ii.Ma,c),this.size=d}C(lI,mt);function fa(c,d){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},d)}function pa(){this.g=!0}pa.prototype.xa=function(){this.g=!1};function XM(c,d,f,g,T,R){c.info(function(){if(c.g)if(R)for(var V="",Me=R.split("&"),at=0;at<Me.length;at++){var be=Me[at].split("=");if(1<be.length){var vt=be[0];be=be[1];var _t=vt.split("_");V=2<=_t.length&&_t[1]=="type"?V+(vt+"="+be+"&"):V+(vt+"=redacted&")}}else V=null;else V=R;return"XMLHTTP REQ ("+g+") [attempt "+T+"]: "+d+`
`+f+`
`+V})}function ex(c,d,f,g,T,R,V){c.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+T+"]: "+d+`
`+f+`
`+R+" "+V})}function Ao(c,d,f,g){c.info(function(){return"XMLHTTP TEXT ("+d+"): "+nx(c,f)+(g?" "+g:"")})}function tx(c,d){c.info(function(){return"TIMEOUT: "+d})}pa.prototype.info=function(){};function nx(c,d){if(!c.g)return d;if(!d)return null;try{var f=JSON.parse(d);if(f){for(c=0;c<f.length;c++)if(Array.isArray(f[c])){var g=f[c];if(!(2>g.length)){var T=g[1];if(Array.isArray(T)&&!(1>T.length)){var R=T[0];if(R!="noop"&&R!="stop"&&R!="close")for(var V=1;V<T.length;V++)T[V]=""}}}}return xf(f)}catch{return d}}var bu={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},dI={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},kf;function Cu(){}C(Cu,Nf),Cu.prototype.g=function(){return new XMLHttpRequest},Cu.prototype.i=function(){return{}},kf=new Cu;function Fr(c,d,f,g){this.j=c,this.i=d,this.l=f,this.R=g||1,this.U=new la(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new hI}function hI(){this.i=null,this.g="",this.h=!1}var fI={},Ff={};function Lf(c,d,f){c.L=1,c.v=Au(nr(d)),c.m=f,c.P=!0,pI(c,null)}function pI(c,d){c.F=Date.now(),Du(c),c.A=nr(c.v);var f=c.A,g=c.R;Array.isArray(g)||(g=[String(g)]),AI(f.i,"t",g),c.C=0,f=c.j.J,c.h=new hI,c.g=GI(c.j,f?d:null,!c.m),0<c.O&&(c.M=new YM(m(c.Y,c,c.g),c.O)),d=c.U,f=c.g,g=c.ca;var T="readystatechange";Array.isArray(T)||(T&&(rI[0]=T.toString()),T=rI);for(var R=0;R<T.length;R++){var V=Yw(f,T[R],g||d.handleEvent,!1,d.h||d);if(!V)break;d.g[V.key]=V}d=c.H?v(c.H):{},c.m?(c.u||(c.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,d)):(c.u="GET",c.g.ea(c.A,c.u,null,d)),ha(),XM(c.i,c.u,c.A,c.l,c.R,c.m)}Fr.prototype.ca=function(c){c=c.target;let d=this.M;d&&rr(c)==3?d.j():this.Y(c)},Fr.prototype.Y=function(c){try{if(c==this.g)e:{let _t=rr(this.g);var d=this.g.Ba();let xo=this.g.Z();if(!(3>_t)&&(_t!=3||this.g&&(this.h.h||this.g.oa()||kI(this.g)))){this.J||_t!=4||d==7||(d==8||0>=xo?ha(3):ha(2)),Vf(this);var f=this.g.Z();this.X=f;t:if(gI(this)){var g=kI(this.g);c="";var T=g.length,R=rr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ei(this),ga(this);var V="";break t}this.h.i=new a.TextDecoder}for(d=0;d<T;d++)this.h.h=!0,c+=this.h.i.decode(g[d],{stream:!(R&&d==T-1)});g.length=0,this.h.g+=c,this.C=0,V=this.h.g}else V=this.g.oa();if(this.o=f==200,ex(this.i,this.u,this.A,this.l,this.R,_t,f),this.o){if(this.T&&!this.K){t:{if(this.g){var Me,at=this.g;if((Me=at.g?at.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!U(Me)){var be=Me;break t}}be=null}if(f=be)Ao(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Uf(this,f);else{this.o=!1,this.s=3,St(12),Ei(this),ga(this);break e}}if(this.P){f=!0;let un;for(;!this.J&&this.C<V.length;)if(un=rx(this,V),un==Ff){_t==4&&(this.s=4,St(14),f=!1),Ao(this.i,this.l,null,"[Incomplete Response]");break}else if(un==fI){this.s=4,St(15),Ao(this.i,this.l,V,"[Invalid Chunk]"),f=!1;break}else Ao(this.i,this.l,un,null),Uf(this,un);if(gI(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),_t!=4||V.length!=0||this.h.h||(this.s=1,St(16),f=!1),this.o=this.o&&f,!f)Ao(this.i,this.l,V,"[Invalid Chunked Response]"),Ei(this),ga(this);else if(0<V.length&&!this.W){this.W=!0;var vt=this.j;vt.g==this&&vt.ba&&!vt.M&&(vt.j.info("Great, no buffering proxy detected. Bytes received: "+V.length),qf(vt),vt.M=!0,St(11))}}else Ao(this.i,this.l,V,null),Uf(this,V);_t==4&&Ei(this),this.o&&!this.J&&(_t==4?$I(this.j,this):(this.o=!1,Du(this)))}else wx(this.g),f==400&&0<V.indexOf("Unknown SID")?(this.s=3,St(12)):(this.s=0,St(13)),Ei(this),ga(this)}}}catch{}finally{}};function gI(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function rx(c,d){var f=c.C,g=d.indexOf(`
`,f);return g==-1?Ff:(f=Number(d.substring(f,g)),isNaN(f)?fI:(g+=1,g+f>d.length?Ff:(d=d.slice(g,g+f),c.C=g+f,d)))}Fr.prototype.cancel=function(){this.J=!0,Ei(this)};function Du(c){c.S=Date.now()+c.I,mI(c,c.I)}function mI(c,d){if(c.B!=null)throw Error("WatchDog timer not null");c.B=fa(m(c.ba,c),d)}function Vf(c){c.B&&(a.clearTimeout(c.B),c.B=null)}Fr.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?(tx(this.i,this.A),this.L!=2&&(ha(),St(17)),Ei(this),this.s=2,ga(this)):mI(this,this.S-c)};function ga(c){c.j.G==0||c.J||$I(c.j,c)}function Ei(c){Vf(c);var d=c.M;d&&typeof d.ma=="function"&&d.ma(),c.M=null,iI(c.U),c.g&&(d=c.g,c.g=null,d.abort(),d.ma())}function Uf(c,d){try{var f=c.j;if(f.G!=0&&(f.g==c||jf(f.h,c))){if(!c.K&&jf(f.h,c)&&f.G==3){try{var g=f.Da.g.parse(d)}catch{g=null}if(Array.isArray(g)&&g.length==3){var T=g;if(T[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<c.F)Pu(f),xu(f);else break e;zf(f),St(18)}}else f.za=T[1],0<f.za-f.T&&37500>T[2]&&f.F&&f.v==0&&!f.C&&(f.C=fa(m(f.Za,f),6e3));if(1>=_I(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else Ci(f,11)}else if((c.K||f.g==c)&&Pu(f),!U(d))for(T=f.Da.g.parse(d),d=0;d<T.length;d++){let be=T[d];if(f.T=be[0],be=be[1],f.G==2)if(be[0]=="c"){f.K=be[1],f.ia=be[2];let vt=be[3];vt!=null&&(f.la=vt,f.j.info("VER="+f.la));let _t=be[4];_t!=null&&(f.Aa=_t,f.j.info("SVER="+f.Aa));let xo=be[5];xo!=null&&typeof xo=="number"&&0<xo&&(g=1.5*xo,f.L=g,f.j.info("backChannelRequestTimeoutMs_="+g)),g=f;let un=c.g;if(un){let ku=un.g?un.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ku){var R=g.h;R.g||ku.indexOf("spdy")==-1&&ku.indexOf("quic")==-1&&ku.indexOf("h2")==-1||(R.j=R.l,R.g=new Set,R.h&&(Bf(R,R.h),R.h=null))}if(g.D){let Gf=un.g?un.g.getResponseHeader("X-HTTP-Session-Id"):null;Gf&&(g.ya=Gf,Pe(g.I,g.D,Gf))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-c.F,f.j.info("Handshake RTT: "+f.R+"ms")),g=f;var V=c;if(g.qa=qI(g,g.J?g.ia:null,g.W),V.K){wI(g.h,V);var Me=V,at=g.L;at&&(Me.I=at),Me.B&&(Vf(Me),Du(Me)),g.g=V}else jI(g);0<f.i.length&&Nu(f)}else be[0]!="stop"&&be[0]!="close"||Ci(f,7);else f.G==3&&(be[0]=="stop"||be[0]=="close"?be[0]=="stop"?Ci(f,7):Hf(f):be[0]!="noop"&&f.l&&f.l.ta(be),f.v=0)}}ha(4)}catch{}}var ix=class{constructor(c,d){this.g=c,this.map=d}};function yI(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function vI(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function _I(c){return c.h?1:c.g?c.g.size:0}function jf(c,d){return c.h?c.h==d:c.g?c.g.has(d):!1}function Bf(c,d){c.g?c.g.add(d):c.h=d}function wI(c,d){c.h&&c.h==d?c.h=null:c.g&&c.g.has(d)&&c.g.delete(d)}yI.prototype.cancel=function(){if(this.i=II(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function II(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let d=c.i;for(let f of c.g.values())d=d.concat(f.D);return d}return M(c.i)}function ox(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(u(c)){for(var d=[],f=c.length,g=0;g<f;g++)d.push(c[g]);return d}d=[],f=0;for(g in c)d[f++]=c[g];return d}function sx(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(u(c)||typeof c=="string"){var d=[];c=c.length;for(var f=0;f<c;f++)d.push(f);return d}d=[],f=0;for(let g in c)d[f++]=g;return d}}}function EI(c,d){if(c.forEach&&typeof c.forEach=="function")c.forEach(d,void 0);else if(u(c)||typeof c=="string")Array.prototype.forEach.call(c,d,void 0);else for(var f=sx(c),g=ox(c),T=g.length,R=0;R<T;R++)d.call(void 0,g[R],f&&f[R],c)}var bI=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ax(c,d){if(c){c=c.split("&");for(var f=0;f<c.length;f++){var g=c[f].indexOf("="),T=null;if(0<=g){var R=c[f].substring(0,g);T=c[f].substring(g+1)}else R=c[f];d(R,T?decodeURIComponent(T.replace(/\+/g," ")):"")}}}function bi(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof bi){this.h=c.h,Tu(this,c.j),this.o=c.o,this.g=c.g,Su(this,c.s),this.l=c.l;var d=c.i,f=new va;f.i=d.i,d.g&&(f.g=new Map(d.g),f.h=d.h),CI(this,f),this.m=c.m}else c&&(d=String(c).match(bI))?(this.h=!1,Tu(this,d[1]||"",!0),this.o=ma(d[2]||""),this.g=ma(d[3]||"",!0),Su(this,d[4]),this.l=ma(d[5]||"",!0),CI(this,d[6]||"",!0),this.m=ma(d[7]||"")):(this.h=!1,this.i=new va(null,this.h))}bi.prototype.toString=function(){var c=[],d=this.j;d&&c.push(ya(d,DI,!0),":");var f=this.g;return(f||d=="file")&&(c.push("//"),(d=this.o)&&c.push(ya(d,DI,!0),"@"),c.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&c.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&c.push("/"),c.push(ya(f,f.charAt(0)=="/"?lx:ux,!0))),(f=this.i.toString())&&c.push("?",f),(f=this.m)&&c.push("#",ya(f,hx)),c.join("")};function nr(c){return new bi(c)}function Tu(c,d,f){c.j=f?ma(d,!0):d,c.j&&(c.j=c.j.replace(/:$/,""))}function Su(c,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);c.s=d}else c.s=null}function CI(c,d,f){d instanceof va?(c.i=d,fx(c.i,c.h)):(f||(d=ya(d,dx)),c.i=new va(d,c.h))}function Pe(c,d,f){c.i.set(d,f)}function Au(c){return Pe(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function ma(c,d){return c?d?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function ya(c,d,f){return typeof c=="string"?(c=encodeURI(c).replace(d,cx),f&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function cx(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var DI=/[#\/\?@]/g,ux=/[#\?:]/g,lx=/[#\?]/g,dx=/[#\?@]/g,hx=/#/g;function va(c,d){this.h=this.g=null,this.i=c||null,this.j=!!d}function Lr(c){c.g||(c.g=new Map,c.h=0,c.i&&ax(c.i,function(d,f){c.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}t=va.prototype,t.add=function(c,d){Lr(this),this.i=null,c=Ro(this,c);var f=this.g.get(c);return f||this.g.set(c,f=[]),f.push(d),this.h+=1,this};function TI(c,d){Lr(c),d=Ro(c,d),c.g.has(d)&&(c.i=null,c.h-=c.g.get(d).length,c.g.delete(d))}function SI(c,d){return Lr(c),d=Ro(c,d),c.g.has(d)}t.forEach=function(c,d){Lr(this),this.g.forEach(function(f,g){f.forEach(function(T){c.call(d,T,g,this)},this)},this)},t.na=function(){Lr(this);let c=Array.from(this.g.values()),d=Array.from(this.g.keys()),f=[];for(let g=0;g<d.length;g++){let T=c[g];for(let R=0;R<T.length;R++)f.push(d[g])}return f},t.V=function(c){Lr(this);let d=[];if(typeof c=="string")SI(this,c)&&(d=d.concat(this.g.get(Ro(this,c))));else{c=Array.from(this.g.values());for(let f=0;f<c.length;f++)d=d.concat(c[f])}return d},t.set=function(c,d){return Lr(this),this.i=null,c=Ro(this,c),SI(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[d]),this.h+=1,this},t.get=function(c,d){return c?(c=this.V(c),0<c.length?String(c[0]):d):d};function AI(c,d,f){TI(c,d),0<f.length&&(c.i=null,c.g.set(Ro(c,d),M(f)),c.h+=f.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],d=Array.from(this.g.keys());for(var f=0;f<d.length;f++){var g=d[f];let R=encodeURIComponent(String(g)),V=this.V(g);for(g=0;g<V.length;g++){var T=R;V[g]!==""&&(T+="="+encodeURIComponent(String(V[g]))),c.push(T)}}return this.i=c.join("&")};function Ro(c,d){return d=String(d),c.j&&(d=d.toLowerCase()),d}function fx(c,d){d&&!c.j&&(Lr(c),c.i=null,c.g.forEach(function(f,g){var T=g.toLowerCase();g!=T&&(TI(this,g),AI(this,T,f))},c)),c.j=d}function px(c,d){let f=new pa;if(a.Image){let g=new Image;g.onload=y(Vr,f,"TestLoadImage: loaded",!0,d,g),g.onerror=y(Vr,f,"TestLoadImage: error",!1,d,g),g.onabort=y(Vr,f,"TestLoadImage: abort",!1,d,g),g.ontimeout=y(Vr,f,"TestLoadImage: timeout",!1,d,g),a.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=c}else d(!1)}function gx(c,d){let f=new pa,g=new AbortController,T=setTimeout(()=>{g.abort(),Vr(f,"TestPingServer: timeout",!1,d)},1e4);fetch(c,{signal:g.signal}).then(R=>{clearTimeout(T),R.ok?Vr(f,"TestPingServer: ok",!0,d):Vr(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(T),Vr(f,"TestPingServer: error",!1,d)})}function Vr(c,d,f,g,T){try{T&&(T.onload=null,T.onerror=null,T.onabort=null,T.ontimeout=null),g(f)}catch{}}function mx(){this.g=new ZM}function yx(c,d,f){let g=f||"";try{EI(c,function(T,R){let V=T;l(T)&&(V=xf(T)),d.push(g+R+"="+encodeURIComponent(V))})}catch(T){throw d.push(g+"type="+encodeURIComponent("_badmap")),T}}function _a(c){this.l=c.Ub||null,this.j=c.eb||!1}C(_a,Nf),_a.prototype.g=function(){return new Ru(this.l,this.j)},_a.prototype.i=function(c){return function(){return c}}({});function Ru(c,d){yt.call(this),this.D=c,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}C(Ru,yt),t=Ru.prototype,t.open=function(c,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=d,this.readyState=1,Ia(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(d.body=c),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,wa(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Ia(this)),this.g&&(this.readyState=3,Ia(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;RI(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function RI(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var d=c.value?c.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!c.done}))&&(this.response=this.responseText+=d)}c.done?wa(this):Ia(this),this.readyState==3&&RI(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,wa(this))},t.Qa=function(c){this.g&&(this.response=c,wa(this))},t.ga=function(){this.g&&wa(this)};function wa(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Ia(c)}t.setRequestHeader=function(c,d){this.u.append(c,d)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,c.push(f[0]+": "+f[1]),f=d.next();return c.join(`\r
`)};function Ia(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Ru.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function MI(c){let d="";return K(c,function(f,g){d+=g,d+=":",d+=f,d+=`\r
`}),d}function $f(c,d,f){e:{for(g in f){var g=!1;break e}g=!0}g||(f=MI(f),typeof c=="string"?f!=null&&encodeURIComponent(String(f)):Pe(c,d,f))}function ke(c){yt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}C(ke,yt);var vx=/^https?$/i,_x=["POST","PUT"];t=ke.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,d,f,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);d=d?d.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():kf.g(),this.v=this.o?oI(this.o):oI(kf),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(d,String(c),!0),this.B=!1}catch(R){xI(this,R);return}if(c=f||"",f=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var T in g)f.set(T,g[T]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(let R of g.keys())f.set(R,g.get(R));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(f.keys()).find(R=>R.toLowerCase()=="content-type"),T=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(_x,d,void 0))||g||T||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[R,V]of f)this.g.setRequestHeader(R,V);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{OI(this),this.u=!0,this.g.send(c),this.u=!1}catch(R){xI(this,R)}};function xI(c,d){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=d,c.m=5,NI(c),Mu(c)}function NI(c){c.A||(c.A=!0,Tt(c,"complete"),Tt(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Tt(this,"complete"),Tt(this,"abort"),Mu(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Mu(this,!0)),ke.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?PI(this):this.bb())},t.bb=function(){PI(this)};function PI(c){if(c.h&&typeof s<"u"&&(!c.v[1]||rr(c)!=4||c.Z()!=2)){if(c.u&&rr(c)==4)tI(c.Ea,0,c);else if(Tt(c,"readystatechange"),rr(c)==4){c.h=!1;try{let V=c.Z();e:switch(V){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var g;if(g=V===0){var T=String(c.D).match(bI)[1]||null;!T&&a.self&&a.self.location&&(T=a.self.location.protocol.slice(0,-1)),g=!vx.test(T?T.toLowerCase():"")}f=g}if(f)Tt(c,"complete"),Tt(c,"success");else{c.m=6;try{var R=2<rr(c)?c.g.statusText:""}catch{R=""}c.l=R+" ["+c.Z()+"]",NI(c)}}finally{Mu(c)}}}}function Mu(c,d){if(c.g){OI(c);let f=c.g,g=c.v[0]?()=>{}:null;c.g=null,c.v=null,d||Tt(c,"ready");try{f.onreadystatechange=g}catch{}}}function OI(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function rr(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<rr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var d=this.g.responseText;return c&&d.indexOf(c)==0&&(d=d.substring(c.length)),JM(d)}};function kI(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function wx(c){let d={};c=(c.g&&2<=rr(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<c.length;g++){if(U(c[g]))continue;var f=D(c[g]);let T=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let R=d[T]||[];d[T]=R,R.push(f)}E(d,function(g){return g.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ea(c,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[c]||d}function FI(c){this.Aa=0,this.i=[],this.j=new pa,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ea("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ea("baseRetryDelayMs",5e3,c),this.cb=Ea("retryDelaySeedMs",1e4,c),this.Wa=Ea("forwardChannelMaxRetries",2,c),this.wa=Ea("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new yI(c&&c.concurrentRequestLimit),this.Da=new mx,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=FI.prototype,t.la=8,t.G=1,t.connect=function(c,d,f,g){St(0),this.W=c,this.H=d||{},f&&g!==void 0&&(this.H.OSID=f,this.H.OAID=g),this.F=this.X,this.I=qI(this,null,this.W),Nu(this)};function Hf(c){if(LI(c),c.G==3){var d=c.U++,f=nr(c.I);if(Pe(f,"SID",c.K),Pe(f,"RID",d),Pe(f,"TYPE","terminate"),ba(c,f),d=new Fr(c,c.j,d),d.L=2,d.v=Au(nr(f)),f=!1,a.navigator&&a.navigator.sendBeacon)try{f=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!f&&a.Image&&(new Image().src=d.v,f=!0),f||(d.g=GI(d.j,null),d.g.ea(d.v)),d.F=Date.now(),Du(d)}zI(c)}function xu(c){c.g&&(qf(c),c.g.cancel(),c.g=null)}function LI(c){xu(c),c.u&&(a.clearTimeout(c.u),c.u=null),Pu(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function Nu(c){if(!vI(c.h)&&!c.s){c.s=!0;var d=c.Ga;sa||Qw(),aa||(sa(),aa=!0),Ef.add(d,c),c.B=0}}function Ix(c,d){return _I(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=d.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=fa(m(c.Ga,c,d),HI(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let T=new Fr(this,this.j,c),R=this.o;if(this.S&&(R?(R=v(R),b(R,this.S)):R=this.S),this.m!==null||this.O||(T.H=R,R=null),this.P)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var g=this.i[f];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(d+=g,4096<d){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=UI(this,T,d),f=nr(this.I),Pe(f,"RID",c),Pe(f,"CVER",22),this.D&&Pe(f,"X-HTTP-Session-Id",this.D),ba(this,f),R&&(this.O?d="headers="+encodeURIComponent(String(MI(R)))+"&"+d:this.m&&$f(f,this.m,R)),Bf(this.h,T),this.Ua&&Pe(f,"TYPE","init"),this.P?(Pe(f,"$req",d),Pe(f,"SID","null"),T.T=!0,Lf(T,f,null)):Lf(T,f,d),this.G=2}}else this.G==3&&(c?VI(this,c):this.i.length==0||vI(this.h)||VI(this))};function VI(c,d){var f;d?f=d.l:f=c.U++;let g=nr(c.I);Pe(g,"SID",c.K),Pe(g,"RID",f),Pe(g,"AID",c.T),ba(c,g),c.m&&c.o&&$f(g,c.m,c.o),f=new Fr(c,c.j,f,c.B+1),c.m===null&&(f.H=c.o),d&&(c.i=d.D.concat(c.i)),d=UI(c,f,1e3),f.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Bf(c.h,f),Lf(f,g,d)}function ba(c,d){c.H&&K(c.H,function(f,g){Pe(d,g,f)}),c.l&&EI({},function(f,g){Pe(d,g,f)})}function UI(c,d,f){f=Math.min(c.i.length,f);var g=c.l?m(c.l.Na,c.l,c):null;e:{var T=c.i;let R=-1;for(;;){let V=["count="+f];R==-1?0<f?(R=T[0].g,V.push("ofs="+R)):R=0:V.push("ofs="+R);let Me=!0;for(let at=0;at<f;at++){let be=T[at].g,vt=T[at].map;if(be-=R,0>be)R=Math.max(0,T[at].g-100),Me=!1;else try{yx(vt,V,"req"+be+"_")}catch{g&&g(vt)}}if(Me){g=V.join("&");break e}}}return c=c.i.splice(0,f),d.D=c,g}function jI(c){if(!c.g&&!c.u){c.Y=1;var d=c.Fa;sa||Qw(),aa||(sa(),aa=!0),Ef.add(d,c),c.v=0}}function zf(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=fa(m(c.Fa,c),HI(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,BI(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=fa(m(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,St(10),xu(this),BI(this))};function qf(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function BI(c){c.g=new Fr(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var d=nr(c.qa);Pe(d,"RID","rpc"),Pe(d,"SID",c.K),Pe(d,"AID",c.T),Pe(d,"CI",c.F?"0":"1"),!c.F&&c.ja&&Pe(d,"TO",c.ja),Pe(d,"TYPE","xmlhttp"),ba(c,d),c.m&&c.o&&$f(d,c.m,c.o),c.L&&(c.g.I=c.L);var f=c.g;c=c.ia,f.L=1,f.v=Au(nr(d)),f.m=null,f.P=!0,pI(f,c)}t.Za=function(){this.C!=null&&(this.C=null,xu(this),zf(this),St(19))};function Pu(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function $I(c,d){var f=null;if(c.g==d){Pu(c),qf(c),c.g=null;var g=2}else if(jf(c.h,d))f=d.D,wI(c.h,d),g=1;else return;if(c.G!=0){if(d.o)if(g==1){f=d.m?d.m.length:0,d=Date.now()-d.F;var T=c.B;g=Eu(),Tt(g,new lI(g,f)),Nu(c)}else jI(c);else if(T=d.s,T==3||T==0&&0<d.X||!(g==1&&Ix(c,d)||g==2&&zf(c)))switch(f&&0<f.length&&(d=c.h,d.i=d.i.concat(f)),T){case 1:Ci(c,5);break;case 4:Ci(c,10);break;case 3:Ci(c,6);break;default:Ci(c,2)}}}function HI(c,d){let f=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(f*=2),f*d}function Ci(c,d){if(c.j.info("Error code "+d),d==2){var f=m(c.fb,c),g=c.Xa;let T=!g;g=new bi(g||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Tu(g,"https"),Au(g),T?px(g.toString(),f):gx(g.toString(),f)}else St(2);c.G=0,c.l&&c.l.sa(d),zI(c),LI(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),St(2)):(this.j.info("Failed to ping google.com"),St(1))};function zI(c){if(c.G=0,c.ka=[],c.l){let d=II(c.h);(d.length!=0||c.i.length!=0)&&(S(c.ka,d),S(c.ka,c.i),c.h.i.length=0,M(c.i),c.i.length=0),c.l.ra()}}function qI(c,d,f){var g=f instanceof bi?nr(f):new bi(f);if(g.g!="")d&&(g.g=d+"."+g.g),Su(g,g.s);else{var T=a.location;g=T.protocol,d=d?d+"."+T.hostname:T.hostname,T=+T.port;var R=new bi(null);g&&Tu(R,g),d&&(R.g=d),T&&Su(R,T),f&&(R.l=f),g=R}return f=c.D,d=c.ya,f&&d&&Pe(g,f,d),Pe(g,"VER",c.la),ba(c,g),g}function GI(c,d,f){if(d&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=c.Ca&&!c.pa?new ke(new _a({eb:f})):new ke(c.pa),d.Ha(c.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function WI(){}t=WI.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Ou(){}Ou.prototype.g=function(c,d){return new Bt(c,d)};function Bt(c,d){yt.call(this),this.g=new FI(d),this.l=c,this.h=d&&d.messageUrlParams||null,c=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(c?c["X-WebChannel-Content-Type"]=d.messageContentType:c={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(c?c["X-WebChannel-Client-Profile"]=d.va:c={"X-WebChannel-Client-Profile":d.va}),this.g.S=c,(c=d&&d.Sb)&&!U(c)&&(this.g.m=c),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!U(d)&&(this.g.D=d,c=this.h,c!==null&&d in c&&(c=this.h,d in c&&delete c[d])),this.j=new Mo(this)}C(Bt,yt),Bt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Bt.prototype.close=function(){Hf(this.g)},Bt.prototype.o=function(c){var d=this.g;if(typeof c=="string"){var f={};f.__data__=c,c=f}else this.u&&(f={},f.__data__=xf(c),c=f);d.i.push(new ix(d.Ya++,c)),d.G==3&&Nu(d)},Bt.prototype.N=function(){this.g.l=null,delete this.j,Hf(this.g),delete this.g,Bt.aa.N.call(this)};function KI(c){Pf.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var d=c.__sm__;if(d){e:{for(let f in d){c=f;break e}c=void 0}(this.i=c)&&(c=this.i,d=d!==null&&c in d?d[c]:void 0),this.data=d}else this.data=c}C(KI,Pf);function QI(){Of.call(this),this.status=1}C(QI,Of);function Mo(c){this.g=c}C(Mo,WI),Mo.prototype.ua=function(){Tt(this.g,"a")},Mo.prototype.ta=function(c){Tt(this.g,new KI(c))},Mo.prototype.sa=function(c){Tt(this.g,new QI)},Mo.prototype.ra=function(){Tt(this.g,"b")},Ou.prototype.createWebChannel=Ou.prototype.g,Bt.prototype.send=Bt.prototype.o,Bt.prototype.open=Bt.prototype.m,Bt.prototype.close=Bt.prototype.close,xv=Mr.createWebChannelTransport=function(){return new Ou},Mv=Mr.getStatEventTarget=function(){return Eu()},Rv=Mr.Event=Ii,Rh=Mr.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},bu.NO_ERROR=0,bu.TIMEOUT=8,bu.HTTP_ERROR=6,Gc=Mr.ErrorCode=bu,dI.COMPLETE="complete",Av=Mr.EventType=dI,sI.EventType=da,da.OPEN="a",da.CLOSE="b",da.ERROR="c",da.MESSAGE="d",yt.prototype.listen=yt.prototype.K,Os=Mr.WebChannel=sI,Sv=Mr.FetchXmlHttpFactory=_a,ke.prototype.listenOnce=ke.prototype.L,ke.prototype.getLastError=ke.prototype.Ka,ke.prototype.getLastErrorCode=ke.prototype.Ba,ke.prototype.getStatus=ke.prototype.Z,ke.prototype.getResponseJson=ke.prototype.Oa,ke.prototype.getResponseText=ke.prototype.oa,ke.prototype.send=ke.prototype.ea,ke.prototype.setWithCredentials=ke.prototype.Ha,Tv=Mr.XhrIo=ke}).apply(typeof Ah<"u"?Ah:typeof self<"u"?self:typeof window<"u"?window:{});var lA="@firebase/firestore";var st=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};st.UNAUTHENTICATED=new st(null),st.GOOGLE_CREDENTIALS=new st("google-credentials-uid"),st.FIRST_PARTY=new st("first-party-uid"),st.MOCK_USER=new st("mock-user");var Xs="10.12.5";var _o=new ai("@firebase/firestore");function Wc(){return _o.logLevel}function z(t,...e){if(_o.logLevel<=ye.DEBUG){let n=e.map(yw);_o.debug(`Firestore (${Xs}): ${t}`,...n)}}function xr(t,...e){if(_o.logLevel<=ye.ERROR){let n=e.map(yw);_o.error(`Firestore (${Xs}): ${t}`,...n)}}function js(t,...e){if(_o.logLevel<=ye.WARN){let n=e.map(yw);_o.warn(`Firestore (${Xs}): ${t}`,...n)}}function yw(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function ee(t="Unexpected state"){let e=`FIRESTORE (${Xs}) INTERNAL ASSERTION FAILED: `+t;throw xr(e),new Error(e)}function Ne(t,e){t||ee()}function ie(t,e){return t}var k={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},W=class extends Nt{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Wn=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var Oh=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},Fv=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(st.UNAUTHENTICATED))}shutdown(){}},Lv=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},Vv=class{constructor(e){this.t=e,this.currentUser=st.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i,i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve(),o=new Wn;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Wn,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let u=o;e.enqueueRetryable(()=>w(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},a=u=>{z("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?a(u):(z("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Wn)}},0),s()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(z("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ne(typeof r.accessToken=="string"),new Oh(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return Ne(e===null||typeof e=="string"),new st(e)}},Uv=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=st.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},jv=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new Uv(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(st.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Bv=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},$v=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){let r=o=>{o.error!=null&&z("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.R;return this.R=o.token,z("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{z("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.A.getImmediate({optional:!0});o?i(o):z("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ne(typeof n.token=="string"),this.R=n.token,new Bv(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function U$(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var kh=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=U$(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}};function De(t,e){return t<e?-1:t>e?1:0}function Bs(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var pt=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new W(k.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new W(k.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new W(k.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new W(k.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?De(this.nanoseconds,e.nanoseconds):De(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var se=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new pt(0,0))}static max(){return new t(new pt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Fh=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&ee(),r===void 0?r=e.length-n:r>e.length-n&&ee(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},Ue=class t extends Fh{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new W(k.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},j$=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Jt=class t extends Fh{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return j$.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],r="",i=0,o=()=>{if(r.length===0)throw new W(k.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new W(k.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new W(k.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new W(k.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var J=class t{constructor(e){this.path=e}static fromPath(e){return new t(Ue.fromString(e))}static fromName(e){return new t(Ue.fromString(e).popFirst(5))}static empty(){return new t(Ue.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ue.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ue.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new Ue(e.slice()))}};var Hv=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};Hv.UNKNOWN_ID=-1;function B$(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=se.fromTimestamp(r===1e9?new pt(n+1,0):new pt(n,r));return new wo(i,J.empty(),e)}function $$(t){return new wo(t.readTime,t.key,-1)}var wo=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(se.min(),J.empty(),-1)}static max(){return new t(se.max(),J.empty(),-1)}};function H$(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=J.comparator(t.documentKey,e.documentKey),n!==0?n:De(t.largestBatchId,e.largestBatchId))}var z$="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",zv=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function du(t){return w(this,null,function*(){if(t.code!==k.FAILED_PRECONDITION||t.message!==z$)throw t;z("LocalStore","Unexpectedly lost primary lease")})}var L=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ee(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},u=>r(u))}),s=!0,o===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let u=0;u<o;u++){let l=u;n(e[l]).next(h=>{s[l]=h,++a,a===o&&r(s)},h=>i(h))}})}static doWhile(e,n){return new t((r,i)=>{let o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}};function q$(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function hu(t){return t.name==="IndexedDbTransactionError"}var UA=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.se&&this.se(n),n}}return t.oe=-1,t})();function lf(t){return t==null}function Xc(t){return t===0&&1/t==-1/0}function G$(t){return typeof t=="number"&&Number.isInteger(t)&&!Xc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var W$=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],UQ=[...W$,"documentOverlays"],K$=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Q$=K$,Y$=[...Q$,"indexConfiguration","indexState","indexEntries"];var jQ=[...Y$,"globals"];function dA(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ea(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function jA(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var je=class t{constructor(e,n){this.comparator=e,this.root=n||Kn.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Kn.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Kn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Vs(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Vs(this.root,e,this.comparator,!1)}getReverseIterator(){return new Vs(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Vs(this.root,e,this.comparator,!0)}},Vs=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Kn=class t{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=o??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new t(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ee();let e=this.left.check();if(e!==this.right.check())throw ee();return e+(this.isRed()?0:1)}};Kn.EMPTY=null,Kn.RED=!0,Kn.BLACK=!1;Kn.EMPTY=new class{constructor(){this.size=0}get key(){throw ee()}get value(){throw ee()}get color(){throw ee()}get left(){throw ee()}get right(){throw ee()}copy(e,n,r,i,o){return this}insert(e,n,r){return new Kn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Ct=class t{constructor(e){this.comparator=e,this.data=new je(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Lh(this.data.getIterator())}getIteratorFrom(e){return new Lh(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},Lh=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Gn=class t{constructor(e){this.fields=e,e.sort(Jt.comparator)}static empty(){return new t([])}unionWith(e){let n=new Ct(Jt.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Bs(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var Vh=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Dt=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Vh("Invalid base64 string: "+o):o}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return De(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Dt.EMPTY_BYTE_STRING=new Dt("");var J$=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Nr(t){if(Ne(!!t),typeof t=="string"){let e=0,n=J$.exec(t);if(Ne(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ve(t.seconds),nanos:Ve(t.nanos)}}function Ve(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function vi(t){return typeof t=="string"?Dt.fromBase64String(t):Dt.fromUint8Array(t)}function vw(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function _w(t){let e=t.mapValue.fields.__previous_value__;return vw(e)?_w(e):e}function eu(t){let e=Nr(t.mapValue.fields.__local_write_time__.timestampValue);return new pt(e.seconds,e.nanos)}var qv=class{constructor(e,n,r,i,o,s,a,u,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l}},Uh=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var Mh={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Io(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?vw(t)?4:BA(t)?9007199254740991:10:ee()}function Jn(t,e){if(t===e)return!0;let n=Io(t);if(n!==Io(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return eu(t).isEqual(eu(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=Nr(i.timestampValue),a=Nr(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return vi(i.bytesValue).isEqual(vi(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return Ve(i.geoPointValue.latitude)===Ve(o.geoPointValue.latitude)&&Ve(i.geoPointValue.longitude)===Ve(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Ve(i.integerValue)===Ve(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=Ve(i.doubleValue),a=Ve(o.doubleValue);return s===a?Xc(s)===Xc(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return Bs(t.arrayValue.values||[],e.arrayValue.values||[],Jn);case 10:return function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(dA(s)!==dA(a))return!1;for(let u in s)if(s.hasOwnProperty(u)&&(a[u]===void 0||!Jn(s[u],a[u])))return!1;return!0}(t,e);default:return ee()}}function tu(t,e){return(t.values||[]).find(n=>Jn(n,e))!==void 0}function $s(t,e){if(t===e)return 0;let n=Io(t),r=Io(e);if(n!==r)return De(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return De(t.booleanValue,e.booleanValue);case 2:return function(o,s){let a=Ve(o.integerValue||o.doubleValue),u=Ve(s.integerValue||s.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return hA(t.timestampValue,e.timestampValue);case 4:return hA(eu(t),eu(e));case 5:return De(t.stringValue,e.stringValue);case 6:return function(o,s){let a=vi(o),u=vi(s);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){let a=o.split("/"),u=s.split("/");for(let l=0;l<a.length&&l<u.length;l++){let h=De(a[l],u[l]);if(h!==0)return h}return De(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){let a=De(Ve(o.latitude),Ve(s.latitude));return a!==0?a:De(Ve(o.longitude),Ve(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(o,s){let a=o.values||[],u=s.values||[];for(let l=0;l<a.length&&l<u.length;++l){let h=$s(a[l],u[l]);if(h)return h}return De(a.length,u.length)}(t.arrayValue,e.arrayValue);case 10:return function(o,s){if(o===Mh.mapValue&&s===Mh.mapValue)return 0;if(o===Mh.mapValue)return 1;if(s===Mh.mapValue)return-1;let a=o.fields||{},u=Object.keys(a),l=s.fields||{},h=Object.keys(l);u.sort(),h.sort();for(let p=0;p<u.length&&p<h.length;++p){let m=De(u[p],h[p]);if(m!==0)return m;let y=$s(a[u[p]],l[h[p]]);if(y!==0)return y}return De(u.length,h.length)}(t.mapValue,e.mapValue);default:throw ee()}}function hA(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return De(t,e);let n=Nr(t),r=Nr(e),i=De(n.seconds,r.seconds);return i!==0?i:De(n.nanos,r.nanos)}function Hs(t){return Gv(t)}function Gv(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=Nr(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return vi(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return J.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let o of n.values||[])i?i=!1:r+=",",r+=Gv(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${Gv(n.fields[s])}`;return i+"}"}(t.mapValue):ee()}function Wv(t){return!!t&&"integerValue"in t}function ww(t){return!!t&&"arrayValue"in t}function fA(t){return!!t&&"nullValue"in t}function pA(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Nh(t){return!!t&&"mapValue"in t}function Qc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return ea(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Qc(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Qc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function BA(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var Cn=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Nh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Qc(n)}setAll(e){let n=Jt.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){let u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=Qc(s):i.push(a.lastSegment())});let o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){let n=this.field(e.popLast());Nh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Jn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Nh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){ea(n,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new t(Qc(this.value))}};function $A(t){let e=[];return ea(t.fields,(n,r)=>{let i=new Jt([n]);if(Nh(r)){let o=$A(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new Gn(e)}var Dn=class t{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new t(e,0,se.min(),se.min(),se.min(),Cn.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,se.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,se.min(),se.min(),Cn.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,se.min(),se.min(),Cn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Cn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Cn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var zs=class{constructor(e,n){this.position=e,this.inclusive=n}};function gA(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let o=e[i],s=t.position[i];if(o.field.isKeyField()?r=J.comparator(J.fromName(s.referenceValue),n.key):r=$s(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function mA(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Jn(t.position[n],e.position[n]))return!1;return!0}var qs=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function Z$(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var jh=class{},nt=class t extends jh{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Qv(e,n,r):n==="array-contains"?new Zv(e,r):n==="in"?new Xv(e,r):n==="not-in"?new e_(e,r):n==="array-contains-any"?new t_(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Yv(e,r):new Jv(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison($s(n,this.value)):n!==null&&Io(this.value)===Io(n)&&this.matchesComparison($s(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ee()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Zn=class t extends jh{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new t(e,n)}matches(e){return HA(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function HA(t){return t.op==="and"}function zA(t){return X$(t)&&HA(t)}function X$(t){for(let e of t.filters)if(e instanceof Zn)return!1;return!0}function Kv(t){if(t instanceof nt)return t.field.canonicalString()+t.op.toString()+Hs(t.value);if(zA(t))return t.filters.map(e=>Kv(e)).join(",");{let e=t.filters.map(n=>Kv(n)).join(",");return`${t.op}(${e})`}}function qA(t,e){return t instanceof nt?function(r,i){return i instanceof nt&&r.op===i.op&&r.field.isEqual(i.field)&&Jn(r.value,i.value)}(t,e):t instanceof Zn?function(r,i){return i instanceof Zn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&qA(s,i.filters[a]),!0):!1}(t,e):void ee()}function GA(t){return t instanceof nt?function(n){return`${n.field.canonicalString()} ${n.op} ${Hs(n.value)}`}(t):t instanceof Zn?function(n){return n.op.toString()+" {"+n.getFilters().map(GA).join(" ,")+"}"}(t):"Filter"}var Qv=class extends nt{constructor(e,n,r){super(e,n,r),this.key=J.fromName(r.referenceValue)}matches(e){let n=J.comparator(e.key,this.key);return this.matchesComparison(n)}},Yv=class extends nt{constructor(e,n){super(e,"in",n),this.keys=WA("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},Jv=class extends nt{constructor(e,n){super(e,"not-in",n),this.keys=WA("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function WA(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>J.fromName(r.referenceValue))}var Zv=class extends nt{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return ww(n)&&tu(n.arrayValue,this.value)}},Xv=class extends nt{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&tu(this.value.arrayValue,n)}},e_=class extends nt{constructor(e,n){super(e,"not-in",n)}matches(e){if(tu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!tu(this.value.arrayValue,n)}},t_=class extends nt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!ww(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>tu(this.value.arrayValue,r))}};var n_=class{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ue=null}};function yA(t,e=null,n=[],r=[],i=null,o=null,s=null){return new n_(t,e,n,r,i,o,s)}function Iw(t){let e=ie(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Kv(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),lf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Hs(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Hs(r)).join(",")),e.ue=n}return e.ue}function Ew(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Z$(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!qA(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!mA(t.startAt,e.startAt)&&mA(t.endAt,e.endAt)}function r_(t){return J.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var Gs=class{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function eH(t,e,n,r,i,o,s,a){return new Gs(t,e,n,r,i,o,s,a)}function bw(t){return new Gs(t)}function vA(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function tH(t){return t.collectionGroup!==null}function Yc(t){let e=ie(t);if(e.ce===null){e.ce=[];let n=new Set;for(let o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new Ct(Jt.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new qs(o,r))}),n.has(Jt.keyField().canonicalString())||e.ce.push(new qs(Jt.keyField(),r))}return e.ce}function Qn(t){let e=ie(t);return e.le||(e.le=nH(e,Yc(t))),e.le}function nH(t,e){if(t.limitType==="F")return yA(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new qs(i.field,o)});let n=t.endAt?new zs(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new zs(t.startAt.position,t.startAt.inclusive):null;return yA(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function i_(t,e,n){return new Gs(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function df(t,e){return Ew(Qn(t),Qn(e))&&t.limitType===e.limitType}function KA(t){return`${Iw(Qn(t))}|lt:${t.limitType}`}function ks(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>GA(i)).join(", ")}]`),lf(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Hs(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Hs(i)).join(",")),`Target(${r})`}(Qn(t))}; limitType=${t.limitType})`}function hf(t,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):J.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(let o of Yc(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,u){let l=gA(s,a,u);return s.inclusive?l<=0:l<0}(r.startAt,Yc(r),i)||r.endAt&&!function(s,a,u){let l=gA(s,a,u);return s.inclusive?l>=0:l>0}(r.endAt,Yc(r),i))}(t,e)}function rH(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function QA(t){return(e,n)=>{let r=!1;for(let i of Yc(t)){let o=iH(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function iH(t,e,n){let r=t.field.isKeyField()?J.comparator(e.key,n.key):function(o,s,a){let u=s.data.field(o),l=a.data.field(o);return u!==null&&l!==null?$s(u,l):ee()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ee()}}var _i=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ea(this.inner,(n,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return jA(this.inner)}size(){return this.innerSize}};var oH=new je(J.comparator);function Pr(){return oH}var YA=new je(J.comparator);function Kc(...t){let e=YA;for(let n of t)e=e.insert(n.key,n);return e}function JA(t){let e=YA;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function mo(){return Jc()}function ZA(){return Jc()}function Jc(){return new _i(t=>t.toString(),(t,e)=>t.isEqual(e))}var sH=new je(J.comparator),aH=new Ct(J.comparator);function ve(...t){let e=aH;for(let n of t)e=e.add(n);return e}var cH=new Ct(De);function uH(){return cH}function XA(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Xc(e)?"-0":e}}function eR(t){return{integerValue:""+t}}function lH(t,e){return G$(e)?eR(e):XA(t,e)}var Ws=class{constructor(){this._=void 0}};function dH(t,e,n){return t instanceof Ks?function(i,o){let s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&vw(o)&&(o=_w(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof Eo?nR(t,e):t instanceof bo?rR(t,e):function(i,o){let s=tR(i,o),a=_A(s)+_A(i.Pe);return Wv(s)&&Wv(i.Pe)?eR(a):XA(i.serializer,a)}(t,e)}function hH(t,e,n){return t instanceof Eo?nR(t,e):t instanceof bo?rR(t,e):n}function tR(t,e){return t instanceof Qs?function(r){return Wv(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var Ks=class extends Ws{},Eo=class extends Ws{constructor(e){super(),this.elements=e}};function nR(t,e){let n=iR(e);for(let r of t.elements)n.some(i=>Jn(i,r))||n.push(r);return{arrayValue:{values:n}}}var bo=class extends Ws{constructor(e){super(),this.elements=e}};function rR(t,e){let n=iR(e);for(let r of t.elements)n=n.filter(i=>!Jn(i,r));return{arrayValue:{values:n}}}var Qs=class extends Ws{constructor(e,n){super(),this.serializer=e,this.Pe=n}};function _A(t){return Ve(t.integerValue||t.doubleValue)}function iR(t){return ww(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function fH(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Eo&&i instanceof Eo||r instanceof bo&&i instanceof bo?Bs(r.elements,i.elements,Jn):r instanceof Qs&&i instanceof Qs?Jn(r.Pe,i.Pe):r instanceof Ks&&i instanceof Ks}(t.transform,e.transform)}var o_=class{constructor(e,n){this.version=e,this.transformResults=n}},vo=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Ph(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var Ys=class{};function oR(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Bh(t.key,vo.none()):new Co(t.key,t.data,vo.none());{let n=t.data,r=Cn.empty(),i=new Ct(Jt.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Or(t.key,r,new Gn(i.toArray()),vo.none())}}function pH(t,e,n){t instanceof Co?function(i,o,s){let a=i.value.clone(),u=IA(i.fieldTransforms,o,s.transformResults);a.setAll(u),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Or?function(i,o,s){if(!Ph(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=IA(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(sR(i)),u.setAll(a),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function Zc(t,e,n,r){return t instanceof Co?function(o,s,a,u){if(!Ph(o.precondition,s))return a;let l=o.value.clone(),h=EA(o.fieldTransforms,u,s);return l.setAll(h),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof Or?function(o,s,a,u){if(!Ph(o.precondition,s))return a;let l=EA(o.fieldTransforms,u,s),h=s.data;return h.setAll(sR(o)),h.setAll(l),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(o,s,a){return Ph(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function gH(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),o=tR(r.transform,i||null);o!=null&&(n===null&&(n=Cn.empty()),n.set(r.field,o))}return n||null}function wA(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Bs(r,i,(o,s)=>fH(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var Co=class extends Ys{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Or=class extends Ys{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function sR(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function IA(t,e,n){let r=new Map;Ne(t.length===n.length);for(let i=0;i<n.length;i++){let o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,hH(s,a,n[i]))}return r}function EA(t,e,n){let r=new Map;for(let i of t){let o=i.transform,s=n.data.field(i.field);r.set(i.field,dH(o,s,e))}return r}var Bh=class extends Ys{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},s_=class extends Ys{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var a_=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&pH(o,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=Zc(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=Zc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=ZA();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;let u=oR(s,a);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(se.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ve())}isEqual(e){return this.batchId===e.batchId&&Bs(this.mutations,e.mutations,(n,r)=>wA(n,r))&&Bs(this.baseMutations,e.baseMutations,(n,r)=>wA(n,r))}},c_=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ne(e.mutations.length===r.length);let i=function(){return sH}(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new t(e,n,r,i)}};var u_=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var l_=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var Ke,Ie;function mH(t){switch(t){default:return ee();case k.CANCELLED:case k.UNKNOWN:case k.DEADLINE_EXCEEDED:case k.RESOURCE_EXHAUSTED:case k.INTERNAL:case k.UNAVAILABLE:case k.UNAUTHENTICATED:return!1;case k.INVALID_ARGUMENT:case k.NOT_FOUND:case k.ALREADY_EXISTS:case k.PERMISSION_DENIED:case k.FAILED_PRECONDITION:case k.ABORTED:case k.OUT_OF_RANGE:case k.UNIMPLEMENTED:case k.DATA_LOSS:return!0}}function aR(t){if(t===void 0)return xr("GRPC error has no .code"),k.UNKNOWN;switch(t){case Ke.OK:return k.OK;case Ke.CANCELLED:return k.CANCELLED;case Ke.UNKNOWN:return k.UNKNOWN;case Ke.DEADLINE_EXCEEDED:return k.DEADLINE_EXCEEDED;case Ke.RESOURCE_EXHAUSTED:return k.RESOURCE_EXHAUSTED;case Ke.INTERNAL:return k.INTERNAL;case Ke.UNAVAILABLE:return k.UNAVAILABLE;case Ke.UNAUTHENTICATED:return k.UNAUTHENTICATED;case Ke.INVALID_ARGUMENT:return k.INVALID_ARGUMENT;case Ke.NOT_FOUND:return k.NOT_FOUND;case Ke.ALREADY_EXISTS:return k.ALREADY_EXISTS;case Ke.PERMISSION_DENIED:return k.PERMISSION_DENIED;case Ke.FAILED_PRECONDITION:return k.FAILED_PRECONDITION;case Ke.ABORTED:return k.ABORTED;case Ke.OUT_OF_RANGE:return k.OUT_OF_RANGE;case Ke.UNIMPLEMENTED:return k.UNIMPLEMENTED;case Ke.DATA_LOSS:return k.DATA_LOSS;default:return ee()}}(Ie=Ke||(Ke={}))[Ie.OK=0]="OK",Ie[Ie.CANCELLED=1]="CANCELLED",Ie[Ie.UNKNOWN=2]="UNKNOWN",Ie[Ie.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ie[Ie.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ie[Ie.NOT_FOUND=5]="NOT_FOUND",Ie[Ie.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ie[Ie.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ie[Ie.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ie[Ie.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ie[Ie.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ie[Ie.ABORTED=10]="ABORTED",Ie[Ie.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ie[Ie.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ie[Ie.INTERNAL=13]="INTERNAL",Ie[Ie.UNAVAILABLE=14]="UNAVAILABLE",Ie[Ie.DATA_LOSS=15]="DATA_LOSS";var bA=null;function yH(){return new TextEncoder}var vH=new mi([4294967295,4294967295],0);function CA(t){let e=yH().encode(t),n=new Dv;return n.update(e),new Uint8Array(n.digest())}function DA(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new mi([n,r],0),new mi([i,o],0)]}var d_=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new yo(`Invalid padding: ${n}`);if(r<0)throw new yo(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new yo(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new yo(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=mi.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(mi.fromNumber(r)));return i.compare(vH)===1&&(i=new mi([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let n=CA(e),[r,i]=DA(n);for(let o=0;o<this.hashCount;o++){let s=this.Ee(r,i,o);if(!this.de(s))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new t(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.Ie===0)return;let n=CA(e),[r,i]=DA(n);for(let o=0;o<this.hashCount;o++){let s=this.Ee(r,i,o);this.Ae(s)}}Ae(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},yo=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var $h=class t{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,nu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(se.min(),i,new je(De),Pr(),ve())}},nu=class t{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,ve(),ve(),ve())}};var Us=class{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}},Hh=class{constructor(e,n){this.targetId=e,this.me=n}},zh=class{constructor(e,n,r=Dt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},qh=class{constructor(){this.fe=0,this.ge=SA(),this.pe=Dt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=ve(),n=ve(),r=ve();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ee()}}),new nu(this.pe,this.ye,e,n,r)}ve(){this.we=!1,this.ge=SA()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ne(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},h_=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=Pr(),this.qe=TA(),this.Qe=new je(De)}Ke(e){for(let n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(let n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{let r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.ve(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:ee()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){let n=e.targetId,r=e.me.count,i=this.Je(n);if(i){let o=i.target;if(r_(o))if(r===0){let s=new J(o.path);this.Ue(n,s,Dn.newNoDocument(s,se.min()))}else Ne(r===1);else{let s=this.Ye(n);if(s!==r){let a=this.Ze(e),u=a?this.Xe(a,e,s):1;if(u!==0){this.je(n);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,l)}bA?.et(function(h,p,m,y,C){var M,S,O,U,j,$;let ge={localCacheCount:h,existenceFilterCount:p.count,databaseId:m.database,projectId:m.projectId},K=p.unchangedNames;return K&&(ge.bloomFilter={applied:C===0,hashCount:(M=K?.hashCount)!==null&&M!==void 0?M:0,bitmapLength:(U=(O=(S=K?.bits)===null||S===void 0?void 0:S.bitmap)===null||O===void 0?void 0:O.length)!==null&&U!==void 0?U:0,padding:($=(j=K?.bits)===null||j===void 0?void 0:j.padding)!==null&&$!==void 0?$:0,mightContain:E=>{var v;return(v=y?.mightContain(E))!==null&&v!==void 0&&v}}),ge}(s,e.me,this.Le.tt(),a,u))}}}}Ze(e){let n=e.me.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n,s,a;try{s=vi(r).toUint8Array()}catch(u){if(u instanceof Vh)return js("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new d_(s,i,o)}catch(u){return js(u instanceof yo?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){let r=this.Le.getRemoteKeysForTarget(n),i=0;return r.forEach(o=>{let s=this.Le.tt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,o,null),i++)}),i}rt(e){let n=new Map;this.Be.forEach((o,s)=>{let a=this.Je(s);if(a){if(o.current&&r_(a.target)){let u=new J(a.target.path);this.ke.get(u)!==null||this.it(s,u)||this.Ue(s,u,Dn.newNoDocument(u,e))}o.be&&(n.set(s,o.Ce()),o.ve())}});let r=ve();this.qe.forEach((o,s)=>{let a=!0;s.forEachWhile(u=>{let l=this.Je(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));let i=new $h(e,n,this.Qe,this.ke,r);return this.ke=Pr(),this.qe=TA(),this.Qe=new je(De),i}$e(e,n){if(!this.ze(e))return;let r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;let i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){let n=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new qh,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Ct(De),this.qe=this.qe.insert(e,n)),n}ze(e){let n=this.Je(e)!==null;return n||z("WatchChangeAggregator","Detected inactive target",e),n}Je(e){let n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new qh),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}};function TA(){return new je(J.comparator)}function SA(){return new je(J.comparator)}var _H={asc:"ASCENDING",desc:"DESCENDING"},wH={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},IH={and:"AND",or:"OR"},f_=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function p_(t,e){return t.useProto3Json||lf(e)?e:{value:e}}function Gh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function cR(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function EH(t,e){return Gh(t,e.toTimestamp())}function Yn(t){return Ne(!!t),se.fromTimestamp(function(n){let r=Nr(n);return new pt(r.seconds,r.nanos)}(t))}function Cw(t,e){return g_(t,e).canonicalString()}function g_(t,e){let n=function(i){return new Ue(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function uR(t){let e=Ue.fromString(t);return Ne(pR(e)),e}function m_(t,e){return Cw(t.databaseId,e.path)}function Nv(t,e){let n=uR(e);if(n.get(1)!==t.databaseId.projectId)throw new W(k.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new W(k.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new J(dR(n))}function lR(t,e){return Cw(t.databaseId,e)}function bH(t){let e=uR(t);return e.length===4?Ue.emptyPath():dR(e)}function y_(t){return new Ue(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function dR(t){return Ne(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function AA(t,e,n){return{name:m_(t,e),fields:n.value.mapValue.fields}}function CH(t,e){let n;if("targetChange"in e){e.targetChange;let r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:ee()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(l,h){return l.useProto3Json?(Ne(h===void 0||typeof h=="string"),Dt.fromBase64String(h||"")):(Ne(h===void 0||h instanceof Buffer||h instanceof Uint8Array),Dt.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(l){let h=l.code===void 0?k.UNKNOWN:aR(l.code);return new W(h,l.message||"")}(s);n=new zh(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=Nv(t,r.document.name),o=Yn(r.document.updateTime),s=r.document.createTime?Yn(r.document.createTime):se.min(),a=new Cn({mapValue:{fields:r.document.fields}}),u=Dn.newFoundDocument(i,o,s,a),l=r.targetIds||[],h=r.removedTargetIds||[];n=new Us(l,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=Nv(t,r.document),o=r.readTime?Yn(r.readTime):se.min(),s=Dn.newNoDocument(i,o),a=r.removedTargetIds||[];n=new Us([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=Nv(t,r.document),o=r.removedTargetIds||[];n=new Us([],o,i,null)}else{if(!("filter"in e))return ee();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new l_(i,o),a=r.targetId;n=new Hh(a,s)}}return n}function DH(t,e){let n;if(e instanceof Co)n={update:AA(t,e.key,e.value)};else if(e instanceof Bh)n={delete:m_(t,e.key)};else if(e instanceof Or)n={update:AA(t,e.key,e.data),updateMask:OH(e.fieldMask)};else{if(!(e instanceof s_))return ee();n={verify:m_(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){let a=s.transform;if(a instanceof Ks)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Eo)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof bo)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Qs)return{fieldPath:s.field.canonicalString(),increment:a.Pe};throw ee()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:EH(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:ee()}(t,e.precondition)),n}function TH(t,e){return t&&t.length>0?(Ne(e!==void 0),t.map(n=>function(i,o){let s=i.updateTime?Yn(i.updateTime):Yn(o);return s.isEqual(se.min())&&(s=Yn(o)),new o_(s,i.transformResults||[])}(n,e))):[]}function SH(t,e){return{documents:[lR(t,e.path)]}}function AH(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=lR(t,i);let o=function(l){if(l.length!==0)return fR(Zn.create(l,"and"))}(e.filters);o&&(n.structuredQuery.where=o);let s=function(l){if(l.length!==0)return l.map(h=>function(m){return{field:Fs(m.field),direction:xH(m.dir)}}(h))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);let a=p_(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{_t:n,parent:i}}function RH(t){let e=bH(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Ne(r===1);let h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];n.where&&(o=function(p){let m=hR(p);return m instanceof Zn&&zA(m)?m.getFilters():[m]}(n.where));let s=[];n.orderBy&&(s=function(p){return p.map(m=>function(C){return new qs(Ls(C.field),function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction))}(m))}(n.orderBy));let a=null;n.limit&&(a=function(p){let m;return m=typeof p=="object"?p.value:p,lf(m)?null:m}(n.limit));let u=null;n.startAt&&(u=function(p){let m=!!p.before,y=p.values||[];return new zs(y,m)}(n.startAt));let l=null;return n.endAt&&(l=function(p){let m=!p.before,y=p.values||[];return new zs(y,m)}(n.endAt)),eH(e,i,s,o,a,"F",u,l)}function MH(t,e){let n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ee()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function hR(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=Ls(n.unaryFilter.field);return nt.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=Ls(n.unaryFilter.field);return nt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=Ls(n.unaryFilter.field);return nt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=Ls(n.unaryFilter.field);return nt.create(s,"!=",{nullValue:"NULL_VALUE"});default:return ee()}}(t):t.fieldFilter!==void 0?function(n){return nt.create(Ls(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ee()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Zn.create(n.compositeFilter.filters.map(r=>hR(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ee()}}(n.compositeFilter.op))}(t):ee()}function xH(t){return _H[t]}function NH(t){return wH[t]}function PH(t){return IH[t]}function Fs(t){return{fieldPath:t.canonicalString()}}function Ls(t){return Jt.fromServerFormat(t.fieldPath)}function fR(t){return t instanceof nt?function(n){if(n.op==="=="){if(pA(n.value))return{unaryFilter:{field:Fs(n.field),op:"IS_NAN"}};if(fA(n.value))return{unaryFilter:{field:Fs(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(pA(n.value))return{unaryFilter:{field:Fs(n.field),op:"IS_NOT_NAN"}};if(fA(n.value))return{unaryFilter:{field:Fs(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Fs(n.field),op:NH(n.op),value:n.value}}}(t):t instanceof Zn?function(n){let r=n.getFilters().map(i=>fR(i));return r.length===1?r[0]:{compositeFilter:{op:PH(n.op),filters:r}}}(t):ee()}function OH(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function pR(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var ru=class t{constructor(e,n,r,i,o=se.min(),s=se.min(),a=Dt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var v_=class{constructor(e){this.ct=e}};function kH(t){let e=RH({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?i_(e,e.limit,"L"):e}var Wh=class{constructor(){}It(e,n){this.Tt(e,n),n.Et()}Tt(e,n){if("nullValue"in e)this.dt(n,5);else if("booleanValue"in e)this.dt(n,10),n.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(n,15),n.At(Ve(e.integerValue));else if("doubleValue"in e){let r=Ve(e.doubleValue);isNaN(r)?this.dt(n,13):(this.dt(n,15),Xc(r)?n.At(0):n.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(n,20),typeof r=="string"&&(r=Nr(r)),n.Rt(`${r.seconds||""}`),n.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,n),this.ft(n);else if("bytesValue"in e)this.dt(n,30),n.gt(vi(e.bytesValue)),this.ft(n);else if("referenceValue"in e)this.yt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.dt(n,45),n.At(r.latitude||0),n.At(r.longitude||0)}else"mapValue"in e?BA(e)?this.dt(n,Number.MAX_SAFE_INTEGER):(this.wt(e.mapValue,n),this.ft(n)):"arrayValue"in e?(this.St(e.arrayValue,n),this.ft(n)):ee()}Vt(e,n){this.dt(n,25),this.bt(e,n)}bt(e,n){n.Rt(e)}wt(e,n){let r=e.fields||{};this.dt(n,55);for(let i of Object.keys(r))this.Vt(i,n),this.Tt(r[i],n)}St(e,n){let r=e.values||[];this.dt(n,50);for(let i of r)this.Tt(i,n)}yt(e,n){this.dt(n,37),J.fromName(e).path.forEach(r=>{this.dt(n,60),this.bt(r,n)})}dt(e,n){e.At(n)}ft(e){e.At(2)}};Wh.Dt=new Wh;var __=class{constructor(){this.an=new w_}addToCollectionParentIndex(e,n){return this.an.add(n),L.resolve()}getCollectionParents(e,n){return L.resolve(this.an.getEntries(n))}addFieldIndex(e,n){return L.resolve()}deleteFieldIndex(e,n){return L.resolve()}deleteAllFieldIndexes(e){return L.resolve()}createTargetIndexes(e,n){return L.resolve()}getDocumentsMatchingTarget(e,n){return L.resolve(null)}getIndexType(e,n){return L.resolve(0)}getFieldIndexes(e,n){return L.resolve([])}getNextCollectionGroupToUpdate(e){return L.resolve(null)}getMinOffset(e,n){return L.resolve(wo.min())}getMinOffsetFromCollectionGroup(e,n){return L.resolve(wo.min())}updateCollectionGroup(e,n,r){return L.resolve()}updateIndexEntries(e,n){return L.resolve()}},w_=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Ct(Ue.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ct(Ue.comparator)).toArray()}};var $Q=new Uint8Array(0);var qn=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};qn.DEFAULT_COLLECTION_PERCENTILE=10,qn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,qn.DEFAULT=new qn(41943040,qn.DEFAULT_COLLECTION_PERCENTILE,qn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),qn.DISABLED=new qn(-1,0,0);var iu=class t{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static Ln(){return new t(0)}static Bn(){return new t(-1)}};var I_=class{constructor(){this.changes=new _i(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Dn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?L.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var E_=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var b_=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Zc(r.mutation,i,Gn.empty(),pt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ve()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ve()){let i=mo();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=Kc();return o.forEach((a,u)=>{s=s.insert(a,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){let r=mo();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ve()))}populateOverlays(e,n,r){let i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=Pr(),s=Jc(),a=function(){return Jc()}();return n.forEach((u,l)=>{let h=r.get(l.key);i.has(l.key)&&(h===void 0||h.mutation instanceof Or)?o=o.insert(l.key,l):h!==void 0?(s.set(l.key,h.mutation.getFieldMask()),Zc(h.mutation,l,h.mutation.getFieldMask(),pt.now())):s.set(l.key,Gn.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((l,h)=>s.set(l,h)),n.forEach((l,h)=>{var p;return a.set(l,new E_(h,(p=s.get(l))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,n){let r=Jc(),i=new je((s,a)=>s-a),o=ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(let a of s)a.keys().forEach(u=>{let l=n.get(u);if(l===null)return;let h=r.get(u)||Gn.empty();h=a.applyToLocalView(l,h),r.set(u,h);let p=(i.get(a.batchId)||ve()).add(u);i=i.insert(a.batchId,p)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let u=a.getNext(),l=u.key,h=u.value,p=ZA();h.forEach(m=>{if(!o.has(m)){let y=oR(n.get(m),r.get(m));y!==null&&p.set(m,y),o=o.add(m)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,p))}return L.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return J.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):tH(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):L.resolve(mo()),a=-1,u=o;return s.next(l=>L.forEach(l,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),o.get(h)?L.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{u=u.insert(h,m)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,u,l,ve())).next(h=>({batchId:a,changes:JA(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new J(n)).next(r=>{let i=Kc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let o=n.collectionGroup,s=Kc();return this.indexManager.getCollectionParents(e,o).next(a=>L.forEach(a,u=>{let l=function(p,m){return new Gs(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(h=>{h.forEach((p,m)=>{s=s.insert(p,m)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((u,l)=>{let h=l.getKey();s.get(h)===null&&(s=s.insert(h,Dn.newInvalidDocument(h)))});let a=Kc();return s.forEach((u,l)=>{let h=o.get(u);h!==void 0&&Zc(h.mutation,l,Gn.empty(),pt.now()),hf(n,l)&&(a=a.insert(u,l))}),a})}};var C_=class{constructor(e){this.serializer=e,this.lr=new Map,this.hr=new Map}getBundleMetadata(e,n){return L.resolve(this.lr.get(n))}saveBundleMetadata(e,n){return this.lr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Yn(i.createTime)}}(n)),L.resolve()}getNamedQuery(e,n){return L.resolve(this.hr.get(n))}saveNamedQuery(e,n){return this.hr.set(n.name,function(i){return{name:i.name,query:kH(i.bundledQuery),readTime:Yn(i.readTime)}}(n)),L.resolve()}};var D_=class{constructor(){this.overlays=new je(J.comparator),this.Pr=new Map}getOverlay(e,n){return L.resolve(this.overlays.get(n))}getOverlays(e,n){let r=mo();return L.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),L.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.Pr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Pr.delete(r)),L.resolve()}getOverlaysForCollection(e,n,r){let i=mo(),o=n.length+1,s=new J(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let u=a.getNext().value,l=u.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return L.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new je((l,h)=>l-h),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let h=o.get(l.largestBatchId);h===null&&(h=mo(),o=o.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}let a=mo(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,h)=>a.set(l,h)),!(a.size()>=i)););return L.resolve(a)}ht(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.Pr.get(i.largestBatchId).delete(r.key);this.Pr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new u_(n,r));let o=this.Pr.get(n);o===void 0&&(o=ve(),this.Pr.set(n,o)),this.Pr.set(n,o.add(r.key))}};var T_=class{constructor(){this.sessionToken=Dt.EMPTY_BYTE_STRING}getSessionToken(e){return L.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,L.resolve()}};var ou=class{constructor(){this.Ir=new Ct(Qe.Tr),this.Er=new Ct(Qe.dr)}isEmpty(){return this.Ir.isEmpty()}addReference(e,n){let r=new Qe(e,n);this.Ir=this.Ir.add(r),this.Er=this.Er.add(r)}Ar(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Rr(new Qe(e,n))}Vr(e,n){e.forEach(r=>this.removeReference(r,n))}mr(e){let n=new J(new Ue([])),r=new Qe(n,e),i=new Qe(n,e+1),o=[];return this.Er.forEachInRange([r,i],s=>{this.Rr(s),o.push(s.key)}),o}gr(){this.Ir.forEach(e=>this.Rr(e))}Rr(e){this.Ir=this.Ir.delete(e),this.Er=this.Er.delete(e)}pr(e){let n=new J(new Ue([])),r=new Qe(n,e),i=new Qe(n,e+1),o=ve();return this.Er.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let n=new Qe(e,0),r=this.Ir.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},Qe=class{constructor(e,n){this.key=e,this.yr=n}static Tr(e,n){return J.comparator(e.key,n.key)||De(e.yr,n.yr)}static dr(e,n){return De(e.yr,n.yr)||J.comparator(e.key,n.key)}};var S_=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.wr=1,this.Sr=new Ct(Qe.Tr)}checkEmpty(e){return L.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let o=this.wr;this.wr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new a_(o,n,r,i);this.mutationQueue.push(s);for(let a of i)this.Sr=this.Sr.add(new Qe(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return L.resolve(s)}lookupMutationBatch(e,n){return L.resolve(this.br(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.Dr(r),o=i<0?0:i;return L.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return L.resolve(this.mutationQueue.length===0?-1:this.wr-1)}getAllMutationBatches(e){return L.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new Qe(n,0),i=new Qe(n,Number.POSITIVE_INFINITY),o=[];return this.Sr.forEachInRange([r,i],s=>{let a=this.br(s.yr);o.push(a)}),L.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ct(De);return n.forEach(i=>{let o=new Qe(i,0),s=new Qe(i,Number.POSITIVE_INFINITY);this.Sr.forEachInRange([o,s],a=>{r=r.add(a.yr)})}),L.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,o=r;J.isDocumentKey(o)||(o=o.child(""));let s=new Qe(new J(o),0),a=new Ct(De);return this.Sr.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.yr)),!0)},s),L.resolve(this.Cr(a))}Cr(e){let n=[];return e.forEach(r=>{let i=this.br(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ne(this.vr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Sr;return L.forEach(n.mutations,i=>{let o=new Qe(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Sr=r})}xn(e){}containsKey(e,n){let r=new Qe(n,0),i=this.Sr.firstAfterOrEqual(r);return L.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,L.resolve()}vr(e,n){return this.Dr(e)}Dr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}br(e){let n=this.Dr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var A_=class{constructor(e){this.Fr=e,this.docs=function(){return new je(J.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.Fr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return L.resolve(r?r.document.mutableCopy():Dn.newInvalidDocument(n))}getEntries(e,n){let r=Pr();return n.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Dn.newInvalidDocument(i))}),L.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Pr(),s=n.path,a=new J(s.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){let{key:l,value:{document:h}}=u.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||H$($$(h),r)<=0||(i.has(h.key)||hf(n,h))&&(o=o.insert(h.key,h.mutableCopy()))}return L.resolve(o)}getAllFromCollectionGroup(e,n,r,i){ee()}Mr(e,n){return L.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new R_(this)}getSize(e){return L.resolve(this.size)}},R_=class extends I_{constructor(e){super(),this.ur=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ur.addEntry(e,i)):this.ur.removeEntry(r)}),L.waitFor(n)}getFromCache(e,n){return this.ur.getEntry(e,n)}getAllFromCache(e,n){return this.ur.getEntries(e,n)}};var M_=class{constructor(e){this.persistence=e,this.Or=new _i(n=>Iw(n),Ew),this.lastRemoteSnapshotVersion=se.min(),this.highestTargetId=0,this.Nr=0,this.Lr=new ou,this.targetCount=0,this.Br=iu.Ln()}forEachTarget(e,n){return this.Or.forEach((r,i)=>n(i)),L.resolve()}getLastRemoteSnapshotVersion(e){return L.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return L.resolve(this.Nr)}allocateTargetId(e){return this.highestTargetId=this.Br.next(),L.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Nr&&(this.Nr=n),L.resolve()}Qn(e){this.Or.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.Br=new iu(n),this.highestTargetId=n),e.sequenceNumber>this.Nr&&(this.Nr=e.sequenceNumber)}addTargetData(e,n){return this.Qn(n),this.targetCount+=1,L.resolve()}updateTargetData(e,n){return this.Qn(n),L.resolve()}removeTargetData(e,n){return this.Or.delete(n.target),this.Lr.mr(n.targetId),this.targetCount-=1,L.resolve()}removeTargets(e,n,r){let i=0,o=[];return this.Or.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Or.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),L.waitFor(o).next(()=>i)}getTargetCount(e){return L.resolve(this.targetCount)}getTargetData(e,n){let r=this.Or.get(n)||null;return L.resolve(r)}addMatchingKeys(e,n,r){return this.Lr.Ar(n,r),L.resolve()}removeMatchingKeys(e,n,r){this.Lr.Vr(n,r);let i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),L.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Lr.mr(n),L.resolve()}getMatchingKeysForTargetId(e,n){let r=this.Lr.pr(n);return L.resolve(r)}containsKey(e,n){return L.resolve(this.Lr.containsKey(n))}};var x_=class{constructor(e,n){this.kr={},this.overlays={},this.qr=new UA(0),this.Qr=!1,this.Qr=!0,this.Kr=new T_,this.referenceDelegate=e(this),this.$r=new M_(this),this.indexManager=new __,this.remoteDocumentCache=function(i){return new A_(i)}(r=>this.referenceDelegate.Ur(r)),this.serializer=new v_(n),this.Wr=new C_(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Qr=!1,Promise.resolve()}get started(){return this.Qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new D_,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.kr[e.toKey()];return r||(r=new S_(n,this.referenceDelegate),this.kr[e.toKey()]=r),r}getGlobalsCache(){return this.Kr}getTargetCache(){return this.$r}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Wr}runTransaction(e,n,r){z("MemoryPersistence","Starting transaction:",e);let i=new N_(this.qr.next());return this.referenceDelegate.Gr(),r(i).next(o=>this.referenceDelegate.zr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}jr(e,n){return L.or(Object.values(this.kr).map(r=>()=>r.containsKey(e,n)))}},N_=class extends zv{constructor(e){super(),this.currentSequenceNumber=e}},P_=class t{constructor(e){this.persistence=e,this.Hr=new ou,this.Jr=null}static Yr(e){return new t(e)}get Zr(){if(this.Jr)return this.Jr;throw ee()}addReference(e,n,r){return this.Hr.addReference(r,n),this.Zr.delete(r.toString()),L.resolve()}removeReference(e,n,r){return this.Hr.removeReference(r,n),this.Zr.add(r.toString()),L.resolve()}markPotentiallyOrphaned(e,n){return this.Zr.add(n.toString()),L.resolve()}removeTarget(e,n){this.Hr.mr(n.targetId).forEach(i=>this.Zr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Zr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Gr(){this.Jr=new Set}zr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return L.forEach(this.Zr,r=>{let i=J.fromPath(r);return this.Xr(e,i).next(o=>{o||n.removeEntry(i,se.min())})}).next(()=>(this.Jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Xr(e,n).next(r=>{r?this.Zr.delete(n.toString()):this.Zr.add(n.toString())})}Ur(e){return 0}Xr(e,n){return L.or([()=>L.resolve(this.Hr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.jr(e,n)])}};var O_=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Ki=r,this.$i=i}static Ui(e,n){let r=ve(),i=ve();for(let o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new t(e,n.fromCache,r,i)}};var k_=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var F_=class{constructor(){this.Wi=!1,this.Gi=!1,this.zi=100,this.ji=function(){return jT()?8:q$(et())>0?6:4}()}initialize(e,n){this.Hi=e,this.indexManager=n,this.Wi=!0}getDocumentsMatchingQuery(e,n,r,i){let o={result:null};return this.Ji(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Yi(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new k_;return this.Zi(e,n,s).next(a=>{if(o.result=a,this.Gi)return this.Xi(e,n,s,a.size)})}).next(()=>o.result)}Xi(e,n,r,i){return r.documentReadCount<this.zi?(Wc()<=ye.DEBUG&&z("QueryEngine","SDK will not create cache indexes for query:",ks(n),"since it only creates cache indexes for collection contains","more than or equal to",this.zi,"documents"),L.resolve()):(Wc()<=ye.DEBUG&&z("QueryEngine","Query:",ks(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ji*i?(Wc()<=ye.DEBUG&&z("QueryEngine","The SDK decides to create cache indexes for query:",ks(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Qn(n))):L.resolve())}Ji(e,n){if(vA(n))return L.resolve(null);let r=Qn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=i_(n,null,"F"),r=Qn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=ve(...o);return this.Hi.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.es(n,a);return this.ts(n,l,s,u.readTime)?this.Ji(e,i_(n,null,"F")):this.ns(e,l,n,u)}))})))}Yi(e,n,r,i){return vA(n)||i.isEqual(se.min())?L.resolve(null):this.Hi.getDocuments(e,r).next(o=>{let s=this.es(n,o);return this.ts(n,s,r,i)?L.resolve(null):(Wc()<=ye.DEBUG&&z("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ks(n)),this.ns(e,s,n,B$(i,-1)).next(a=>a))})}es(e,n){let r=new Ct(QA(e));return n.forEach((i,o)=>{hf(e,o)&&(r=r.add(o))}),r}ts(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Zi(e,n,r){return Wc()<=ye.DEBUG&&z("QueryEngine","Using full collection scan to execute query:",ks(n)),this.Hi.getDocumentsMatchingQuery(e,n,wo.min(),r)}ns(e,n,r,i){return this.Hi.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}};var L_=class{constructor(e,n,r,i){this.persistence=e,this.rs=n,this.serializer=i,this.ss=new je(De),this.os=new _i(o=>Iw(o),Ew),this._s=new Map,this.us=e.getRemoteDocumentCache(),this.$r=e.getTargetCache(),this.Wr=e.getBundleCache(),this.cs(r)}cs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new b_(this.us,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.us.setIndexManager(this.indexManager),this.rs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ss))}};function FH(t,e,n,r){return new L_(t,e,n,r)}function gR(t,e){return w(this,null,function*(){let n=ie(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.cs(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],u=ve();for(let l of i){s.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}for(let l of o){a.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}return n.localDocuments.getDocuments(r,u).next(l=>({ls:l,removedBatchIds:s,addedBatchIds:a}))})})})}function LH(t,e){let n=ie(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=n.us.newChangeBuffer({trackRemovals:!0});return function(a,u,l,h){let p=l.batch,m=p.keys(),y=L.resolve();return m.forEach(C=>{y=y.next(()=>h.getEntry(u,C)).next(M=>{let S=l.docVersions.get(C);Ne(S!==null),M.version.compareTo(S)<0&&(p.applyToRemoteDocument(M,l),M.isValidDocument()&&(M.setReadTime(l.commitVersion),h.addEntry(M)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(u,p))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=ve();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(u=u.add(a.batch.mutations[l].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function mR(t){let e=ie(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.$r.getLastRemoteSnapshotVersion(n))}function VH(t,e){let n=ie(t),r=e.snapshotVersion,i=n.ss;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=n.us.newChangeBuffer({trackRemovals:!0});i=n.ss;let a=[];e.targetChanges.forEach((h,p)=>{let m=i.get(p);if(!m)return;a.push(n.$r.removeMatchingKeys(o,h.removedDocuments,p).next(()=>n.$r.addMatchingKeys(o,h.addedDocuments,p)));let y=m.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?y=y.withResumeToken(Dt.EMPTY_BYTE_STRING,se.min()).withLastLimboFreeSnapshotVersion(se.min()):h.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(h.resumeToken,r)),i=i.insert(p,y),function(M,S,O){return M.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-M.snapshotVersion.toMicroseconds()>=3e8?!0:O.addedDocuments.size+O.modifiedDocuments.size+O.removedDocuments.size>0}(m,y,h)&&a.push(n.$r.updateTargetData(o,y))});let u=Pr(),l=ve();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,h))}),a.push(UH(o,s,e.documentUpdates).next(h=>{u=h.hs,l=h.Ps})),!r.isEqual(se.min())){let h=n.$r.getLastRemoteSnapshotVersion(o).next(p=>n.$r.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(h)}return L.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,u,l)).next(()=>u)}).then(o=>(n.ss=i,o))}function UH(t,e,n){let r=ve(),i=ve();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=Pr();return n.forEach((a,u)=>{let l=o.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(se.min())?(e.removeEntry(a,u.readTime),s=s.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),s=s.insert(a,u)):z("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{hs:s,Ps:i}})}function jH(t,e){let n=ie(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function BH(t,e){let n=ie(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.$r.getTargetData(r,e).next(o=>o?(i=o,L.resolve(i)):n.$r.allocateTargetId(r).next(s=>(i=new ru(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.$r.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.ss.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ss=n.ss.insert(r.targetId,r),n.os.set(e,r.targetId)),r})}function V_(t,e,n){return w(this,null,function*(){let r=ie(t),i=r.ss.get(e),o=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!hu(s))throw s;z("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.ss=r.ss.remove(e),r.os.delete(i.target)})}function RA(t,e,n){let r=ie(t),i=se.min(),o=ve();return r.persistence.runTransaction("Execute query","readwrite",s=>function(u,l,h){let p=ie(u),m=p.os.get(h);return m!==void 0?L.resolve(p.ss.get(m)):p.$r.getTargetData(l,h)}(r,s,Qn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.$r.getMatchingKeysForTargetId(s,a.targetId).next(u=>{o=u})}).next(()=>r.rs.getDocumentsMatchingQuery(s,e,n?i:se.min(),n?o:ve())).next(a=>($H(r,rH(e),a),{documents:a,Is:o})))}function $H(t,e,n){let r=t._s.get(e)||se.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t._s.set(e,r)}var Kh=class{constructor(){this.activeTargetIds=uH()}Vs(e){this.activeTargetIds=this.activeTargetIds.add(e)}fs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Rs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var U_=class{constructor(){this.io=new Kh,this.so={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.io.Vs(e),this.so[e]||"not-current"}updateQueryState(e,n,r){this.so[e]=n}removeLocalQueryTarget(e){this.io.fs(e)}isLocalQueryTarget(e){return this.io.activeTargetIds.has(e)}clearQueryState(e){delete this.so[e]}getAllActiveQueryTargets(){return this.io.activeTargetIds}isActiveQueryTarget(e){return this.io.activeTargetIds.has(e)}start(){return this.io=new Kh,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var j_=class{oo(e){}shutdown(){}};var Qh=class{constructor(){this._o=()=>this.ao(),this.uo=()=>this.co(),this.lo=[],this.ho()}oo(e){this.lo.push(e)}shutdown(){window.removeEventListener("online",this._o),window.removeEventListener("offline",this.uo)}ho(){window.addEventListener("online",this._o),window.addEventListener("offline",this.uo)}ao(){z("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.lo)e(0)}co(){z("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.lo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var xh=null;function Pv(){return xh===null?xh=function(){return 268435456+Math.round(2147483648*Math.random())}():xh++,"0x"+xh.toString(16)}var HH={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var B_=class{constructor(e){this.Po=e.Po,this.Io=e.Io}To(e){this.Eo=e}Ao(e){this.Ro=e}Vo(e){this.mo=e}onMessage(e){this.fo=e}close(){this.Io()}send(e){this.Po(e)}po(){this.Eo()}yo(){this.Ro()}wo(e){this.mo(e)}So(e){this.fo(e)}};var bt="WebChannelConnection",$_=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.bo=r+"://"+n.host,this.Do=`projects/${i}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get vo(){return!1}Fo(n,r,i,o,s){let a=Pv(),u=this.Mo(n,r.toUriEncodedString());z("RestConnection",`Sending RPC '${n}' ${a}:`,u,i);let l={"google-cloud-resource-prefix":this.Do,"x-goog-request-params":this.Co};return this.xo(l,o,s),this.Oo(n,u,l,i).then(h=>(z("RestConnection",`Received RPC '${n}' ${a}: `,h),h),h=>{throw js("RestConnection",`RPC '${n}' ${a} failed with error: `,h,"url: ",u,"request:",i),h})}No(n,r,i,o,s,a){return this.Fo(n,r,i,o,s)}xo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Xs}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}Mo(n,r){let i=HH[n];return`${this.bo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Oo(e,n,r,i){let o=Pv();return new Promise((s,a)=>{let u=new Tv;u.setWithCredentials(!0),u.listenOnce(Av.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Gc.NO_ERROR:let h=u.getResponseJson();z(bt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(h)),s(h);break;case Gc.TIMEOUT:z(bt,`RPC '${e}' ${o} timed out`),a(new W(k.DEADLINE_EXCEEDED,"Request time out"));break;case Gc.HTTP_ERROR:let p=u.getStatus();if(z(bt,`RPC '${e}' ${o} failed with status:`,p,"response text:",u.getResponseText()),p>0){let m=u.getResponseJson();Array.isArray(m)&&(m=m[0]);let y=m?.error;if(y&&y.status&&y.message){let C=function(S){let O=S.toLowerCase().replace(/_/g,"-");return Object.values(k).indexOf(O)>=0?O:k.UNKNOWN}(y.status);a(new W(C,y.message))}else a(new W(k.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new W(k.UNAVAILABLE,"Connection failed."));break;default:ee()}}finally{z(bt,`RPC '${e}' ${o} completed.`)}});let l=JSON.stringify(i);z(bt,`RPC '${e}' ${o} sending request:`,i),u.send(n,"POST",l,r,15)})}Lo(e,n,r){let i=Pv(),o=[this.bo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=xv(),a=Mv(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.xmlHttpFactory=new Sv({})),this.xo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;let h=o.join("");z(bt,`Creating RPC '${e}' stream ${i}: ${h}`,u);let p=s.createWebChannel(h,u),m=!1,y=!1,C=new B_({Po:S=>{y?z(bt,`Not sending because RPC '${e}' stream ${i} is closed:`,S):(m||(z(bt,`Opening RPC '${e}' stream ${i} transport.`),p.open(),m=!0),z(bt,`RPC '${e}' stream ${i} sending:`,S),p.send(S))},Io:()=>p.close()}),M=(S,O,U)=>{S.listen(O,j=>{try{U(j)}catch($){setTimeout(()=>{throw $},0)}})};return M(p,Os.EventType.OPEN,()=>{y||(z(bt,`RPC '${e}' stream ${i} transport opened.`),C.po())}),M(p,Os.EventType.CLOSE,()=>{y||(y=!0,z(bt,`RPC '${e}' stream ${i} transport closed`),C.wo())}),M(p,Os.EventType.ERROR,S=>{y||(y=!0,js(bt,`RPC '${e}' stream ${i} transport errored:`,S),C.wo(new W(k.UNAVAILABLE,"The operation could not be completed")))}),M(p,Os.EventType.MESSAGE,S=>{var O;if(!y){let U=S.data[0];Ne(!!U);let j=U,$=j.error||((O=j[0])===null||O===void 0?void 0:O.error);if($){z(bt,`RPC '${e}' stream ${i} received error:`,$);let ge=$.status,K=function(_){let b=Ke[_];if(b!==void 0)return aR(b)}(ge),E=$.message;K===void 0&&(K=k.INTERNAL,E="Unknown error status: "+ge+" with message "+$.message),y=!0,C.wo(new W(K,E)),p.close()}else z(bt,`RPC '${e}' stream ${i} received:`,U),C.So(U)}}),M(a,Rv.STAT_EVENT,S=>{S.stat===Rh.PROXY?z(bt,`RPC '${e}' stream ${i} detected buffering proxy`):S.stat===Rh.NOPROXY&&z(bt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{C.yo()},0),C}};function Ov(){return typeof document<"u"?document:null}function ff(t){return new f_(t,!0)}var Yh=class{constructor(e,n,r=1e3,i=1.5,o=6e4){this.ai=e,this.timerId=n,this.Bo=r,this.ko=i,this.qo=o,this.Qo=0,this.Ko=null,this.$o=Date.now(),this.reset()}reset(){this.Qo=0}Uo(){this.Qo=this.qo}Wo(e){this.cancel();let n=Math.floor(this.Qo+this.Go()),r=Math.max(0,Date.now()-this.$o),i=Math.max(0,n-r);i>0&&z("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Qo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Ko=this.ai.enqueueAfterDelay(this.timerId,i,()=>(this.$o=Date.now(),e())),this.Qo*=this.ko,this.Qo<this.Bo&&(this.Qo=this.Bo),this.Qo>this.qo&&(this.Qo=this.qo)}zo(){this.Ko!==null&&(this.Ko.skipDelay(),this.Ko=null)}cancel(){this.Ko!==null&&(this.Ko.cancel(),this.Ko=null)}Go(){return(Math.random()-.5)*this.Qo}};var Jh=class{constructor(e,n,r,i,o,s,a,u){this.ai=e,this.jo=r,this.Ho=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Jo=0,this.Yo=null,this.Zo=null,this.stream=null,this.Xo=0,this.e_=new Yh(e,n)}t_(){return this.state===1||this.state===5||this.n_()}n_(){return this.state===2||this.state===3}start(){this.Xo=0,this.state!==4?this.auth():this.r_()}stop(){return w(this,null,function*(){this.t_()&&(yield this.close(0))})}i_(){this.state=0,this.e_.reset()}s_(){this.n_()&&this.Yo===null&&(this.Yo=this.ai.enqueueAfterDelay(this.jo,6e4,()=>this.o_()))}__(e){this.a_(),this.stream.send(e)}o_(){return w(this,null,function*(){if(this.n_())return this.close(0)})}a_(){this.Yo&&(this.Yo.cancel(),this.Yo=null)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}close(e,n){return w(this,null,function*(){this.a_(),this.u_(),this.e_.cancel(),this.Jo++,e!==4?this.e_.reset():n&&n.code===k.RESOURCE_EXHAUSTED?(xr(n.toString()),xr("Using maximum backoff delay to prevent overloading the backend."),this.e_.Uo()):n&&n.code===k.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.c_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.Vo(n)})}c_(){}auth(){this.state=1;let e=this.l_(this.Jo),n=this.Jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Jo===n&&this.h_(r,i)},r=>{e(()=>{let i=new W(k.UNKNOWN,"Fetching auth token failed: "+r.message);return this.P_(i)})})}h_(e,n){let r=this.l_(this.Jo);this.stream=this.I_(e,n),this.stream.To(()=>{r(()=>this.listener.To())}),this.stream.Ao(()=>{r(()=>(this.state=2,this.Zo=this.ai.enqueueAfterDelay(this.Ho,1e4,()=>(this.n_()&&(this.state=3),Promise.resolve())),this.listener.Ao()))}),this.stream.Vo(i=>{r(()=>this.P_(i))}),this.stream.onMessage(i=>{r(()=>++this.Xo==1?this.T_(i):this.onNext(i))})}r_(){this.state=5,this.e_.Wo(()=>w(this,null,function*(){this.state=0,this.start()}))}P_(e){return z("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}l_(e){return n=>{this.ai.enqueueAndForget(()=>this.Jo===e?n():(z("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},H_=class extends Jh{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}I_(e,n){return this.connection.Lo("Listen",e,n)}T_(e){return this.onNext(e)}onNext(e){this.e_.reset();let n=CH(this.serializer,e),r=function(o){if(!("targetChange"in o))return se.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?se.min():s.readTime?Yn(s.readTime):se.min()}(e);return this.listener.E_(n,r)}d_(e){let n={};n.database=y_(this.serializer),n.addTarget=function(o,s){let a,u=s.target;if(a=r_(u)?{documents:SH(o,u)}:{query:AH(o,u)._t},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=cR(o,s.resumeToken);let l=p_(o,s.expectedCount);l!==null&&(a.expectedCount=l)}else if(s.snapshotVersion.compareTo(se.min())>0){a.readTime=Gh(o,s.snapshotVersion.toTimestamp());let l=p_(o,s.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,e);let r=MH(this.serializer,e);r&&(n.labels=r),this.__(n)}A_(e){let n={};n.database=y_(this.serializer),n.removeTarget=e,this.__(n)}},z_=class extends Jh{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get R_(){return this.Xo>0}start(){this.lastStreamToken=void 0,super.start()}c_(){this.R_&&this.V_([])}I_(e,n){return this.connection.Lo("Write",e,n)}T_(e){return Ne(!!e.streamToken),this.lastStreamToken=e.streamToken,Ne(!e.writeResults||e.writeResults.length===0),this.listener.m_()}onNext(e){Ne(!!e.streamToken),this.lastStreamToken=e.streamToken,this.e_.reset();let n=TH(e.writeResults,e.commitTime),r=Yn(e.commitTime);return this.listener.f_(r,n)}g_(){let e={};e.database=y_(this.serializer),this.__(e)}V_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>DH(this.serializer,r))};this.__(n)}};var q_=class extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.p_=!1}y_(){if(this.p_)throw new W(k.FAILED_PRECONDITION,"The client has already been terminated.")}Fo(e,n,r,i){return this.y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Fo(e,g_(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===k.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new W(k.UNKNOWN,o.toString())})}No(e,n,r,i,o){return this.y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.No(e,g_(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===k.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new W(k.UNKNOWN,s.toString())})}terminate(){this.p_=!0,this.connection.terminate()}},G_=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.w_=0,this.S_=null,this.b_=!0}D_(){this.w_===0&&(this.C_("Unknown"),this.S_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.S_=null,this.v_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}F_(e){this.state==="Online"?this.C_("Unknown"):(this.w_++,this.w_>=1&&(this.M_(),this.v_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.M_(),this.w_=0,e==="Online"&&(this.b_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}v_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.b_?(xr(n),this.b_=!1):z("OnlineStateTracker",n)}M_(){this.S_!==null&&(this.S_.cancel(),this.S_=null)}};var W_=class{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.x_=[],this.O_=new Map,this.N_=new Set,this.L_=[],this.B_=o,this.B_.oo(s=>{r.enqueueAndForget(()=>w(this,null,function*(){Do(this)&&(z("RemoteStore","Restarting streams for network reachability change."),yield function(u){return w(this,null,function*(){let l=ie(u);l.N_.add(4),yield fu(l),l.k_.set("Unknown"),l.N_.delete(4),yield pf(l)})}(this))}))}),this.k_=new G_(r,i)}};function pf(t){return w(this,null,function*(){if(Do(t))for(let e of t.L_)yield e(!0)})}function fu(t){return w(this,null,function*(){for(let e of t.L_)yield e(!1)})}function yR(t,e){let n=ie(t);n.O_.has(e.targetId)||(n.O_.set(e.targetId,e),Aw(n)?Sw(n):ta(n).n_()&&Tw(n,e))}function Dw(t,e){let n=ie(t),r=ta(n);n.O_.delete(e),r.n_()&&vR(n,e),n.O_.size===0&&(r.n_()?r.s_():Do(n)&&n.k_.set("Unknown"))}function Tw(t,e){if(t.q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(se.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ta(t).d_(e)}function vR(t,e){t.q_.xe(e),ta(t).A_(e)}function Sw(t){t.q_=new h_({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.O_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),ta(t).start(),t.k_.D_()}function Aw(t){return Do(t)&&!ta(t).t_()&&t.O_.size>0}function Do(t){return ie(t).N_.size===0}function _R(t){t.q_=void 0}function zH(t){return w(this,null,function*(){t.k_.set("Online")})}function qH(t){return w(this,null,function*(){t.O_.forEach((e,n)=>{Tw(t,e)})})}function GH(t,e){return w(this,null,function*(){_R(t),Aw(t)?(t.k_.F_(e),Sw(t)):t.k_.set("Unknown")})}function WH(t,e,n){return w(this,null,function*(){if(t.k_.set("Online"),e instanceof zh&&e.state===2&&e.cause)try{yield function(i,o){return w(this,null,function*(){let s=o.cause;for(let a of o.targetIds)i.O_.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i.O_.delete(a),i.q_.removeTarget(a))})}(t,e)}catch(r){z("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Zh(t,r)}else if(e instanceof Us?t.q_.Ke(e):e instanceof Hh?t.q_.He(e):t.q_.We(e),!n.isEqual(se.min()))try{let r=yield mR(t.localStore);n.compareTo(r)>=0&&(yield function(o,s){let a=o.q_.rt(s);return a.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let h=o.O_.get(l);h&&o.O_.set(l,h.withResumeToken(u.resumeToken,s))}}),a.targetMismatches.forEach((u,l)=>{let h=o.O_.get(u);if(!h)return;o.O_.set(u,h.withResumeToken(Dt.EMPTY_BYTE_STRING,h.snapshotVersion)),vR(o,u);let p=new ru(h.target,u,l,h.sequenceNumber);Tw(o,p)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){z("RemoteStore","Failed to raise snapshot:",r),yield Zh(t,r)}})}function Zh(t,e,n){return w(this,null,function*(){if(!hu(e))throw e;t.N_.add(1),yield fu(t),t.k_.set("Offline"),n||(n=()=>mR(t.localStore)),t.asyncQueue.enqueueRetryable(()=>w(this,null,function*(){z("RemoteStore","Retrying IndexedDB access"),yield n(),t.N_.delete(1),yield pf(t)}))})}function wR(t,e){return e().catch(n=>Zh(t,n,e))}function gf(t){return w(this,null,function*(){let e=ie(t),n=wi(e),r=e.x_.length>0?e.x_[e.x_.length-1].batchId:-1;for(;KH(e);)try{let i=yield jH(e.localStore,r);if(i===null){e.x_.length===0&&n.s_();break}r=i.batchId,QH(e,i)}catch(i){yield Zh(e,i)}IR(e)&&ER(e)})}function KH(t){return Do(t)&&t.x_.length<10}function QH(t,e){t.x_.push(e);let n=wi(t);n.n_()&&n.R_&&n.V_(e.mutations)}function IR(t){return Do(t)&&!wi(t).t_()&&t.x_.length>0}function ER(t){wi(t).start()}function YH(t){return w(this,null,function*(){wi(t).g_()})}function JH(t){return w(this,null,function*(){let e=wi(t);for(let n of t.x_)e.V_(n.mutations)})}function ZH(t,e,n){return w(this,null,function*(){let r=t.x_.shift(),i=c_.from(r,e,n);yield wR(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield gf(t)})}function XH(t,e){return w(this,null,function*(){e&&wi(t).R_&&(yield function(r,i){return w(this,null,function*(){if(function(s){return mH(s)&&s!==k.ABORTED}(i.code)){let o=r.x_.shift();wi(r).i_(),yield wR(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield gf(r)}})}(t,e)),IR(t)&&ER(t)})}function MA(t,e){return w(this,null,function*(){let n=ie(t);n.asyncQueue.verifyOperationInProgress(),z("RemoteStore","RemoteStore received new credentials");let r=Do(n);n.N_.add(3),yield fu(n),r&&n.k_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.N_.delete(3),yield pf(n)})}function ez(t,e){return w(this,null,function*(){let n=ie(t);e?(n.N_.delete(2),yield pf(n)):e||(n.N_.add(2),yield fu(n),n.k_.set("Unknown"))})}function ta(t){return t.Q_||(t.Q_=function(n,r,i){let o=ie(n);return o.y_(),new H_(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{To:zH.bind(null,t),Ao:qH.bind(null,t),Vo:GH.bind(null,t),E_:WH.bind(null,t)}),t.L_.push(e=>w(this,null,function*(){e?(t.Q_.i_(),Aw(t)?Sw(t):t.k_.set("Unknown")):(yield t.Q_.stop(),_R(t))}))),t.Q_}function wi(t){return t.K_||(t.K_=function(n,r,i){let o=ie(n);return o.y_(),new z_(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{To:()=>Promise.resolve(),Ao:YH.bind(null,t),Vo:XH.bind(null,t),m_:JH.bind(null,t),f_:ZH.bind(null,t)}),t.L_.push(e=>w(this,null,function*(){e?(t.K_.i_(),yield gf(t)):(yield t.K_.stop(),t.x_.length>0&&(z("RemoteStore",`Stopping write stream with ${t.x_.length} pending writes`),t.x_=[]))}))),t.K_}var K_=class t{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Wn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){let s=Date.now()+r,a=new t(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new W(k.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function Rw(t,e){if(xr("AsyncQueue",`${e}: ${t}`),hu(t))return new W(k.UNAVAILABLE,`${e}: ${t}`);throw t}var Xh=class t{constructor(e){this.comparator=e?(n,r)=>e(n,r)||J.comparator(n.key,r.key):(n,r)=>J.comparator(n.key,r.key),this.keyedMap=Kc(),this.sortedSet=new je(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var ef=class{constructor(){this.U_=new je(J.comparator)}track(e){let n=e.doc.key,r=this.U_.get(n);r?e.type!==0&&r.type===3?this.U_=this.U_.insert(n,e):e.type===3&&r.type!==1?this.U_=this.U_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.U_=this.U_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.U_=this.U_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.U_=this.U_.remove(n):e.type===1&&r.type===2?this.U_=this.U_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.U_=this.U_.insert(n,{type:2,doc:e.doc}):ee():this.U_=this.U_.insert(n,e)}W_(){let e=[];return this.U_.inorderTraversal((n,r)=>{e.push(r)}),e}},Js=class t{constructor(e,n,r,i,o,s,a,u,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,o){let s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new t(e,n,Xh.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&df(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var Q_=class{constructor(){this.G_=void 0,this.z_=[]}j_(){return this.z_.some(e=>e.H_())}},Y_=class{constructor(){this.queries=xA(),this.onlineState="Unknown",this.J_=new Set}terminate(){(function(n,r){let i=ie(n),o=i.queries;i.queries=xA(),o.forEach((s,a)=>{for(let u of a.z_)u.onError(r)})})(this,new W(k.ABORTED,"Firestore shutting down"))}};function xA(){return new _i(t=>KA(t),df)}function tz(t,e){return w(this,null,function*(){let n=ie(t),r=3,i=e.query,o=n.queries.get(i);o?!o.j_()&&e.H_()&&(r=2):(o=new Q_,r=e.H_()?0:1);try{switch(r){case 0:o.G_=yield n.onListen(i,!0);break;case 1:o.G_=yield n.onListen(i,!1);break;case 2:yield n.onFirstRemoteStoreListen(i)}}catch(s){let a=Rw(s,`Initialization of query '${ks(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.z_.push(e),e.Y_(n.onlineState),o.G_&&e.Z_(o.G_)&&Mw(n)})}function nz(t,e){return w(this,null,function*(){let n=ie(t),r=e.query,i=3,o=n.queries.get(r);if(o){let s=o.z_.indexOf(e);s>=0&&(o.z_.splice(s,1),o.z_.length===0?i=e.H_()?0:1:!o.j_()&&e.H_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}})}function rz(t,e){let n=ie(t),r=!1;for(let i of e){let o=i.query,s=n.queries.get(o);if(s){for(let a of s.z_)a.Z_(i)&&(r=!0);s.G_=i}}r&&Mw(n)}function iz(t,e,n){let r=ie(t),i=r.queries.get(e);if(i)for(let o of i.z_)o.onError(n);r.queries.delete(e)}function Mw(t){t.J_.forEach(e=>{e.next()})}var J_,NA;(NA=J_||(J_={})).X_="default",NA.Cache="cache";var Z_=class{constructor(e,n,r){this.query=e,this.ea=n,this.ta=!1,this.na=null,this.onlineState="Unknown",this.options=r||{}}Z_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new Js(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ta?this.ra(e)&&(this.ea.next(e),n=!0):this.ia(e,this.onlineState)&&(this.sa(e),n=!0),this.na=e,n}onError(e){this.ea.error(e)}Y_(e){this.onlineState=e;let n=!1;return this.na&&!this.ta&&this.ia(this.na,e)&&(this.sa(this.na),n=!0),n}ia(e,n){if(!e.fromCache||!this.H_())return!0;let r=n!=="Offline";return(!this.options.oa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ra(e){if(e.docChanges.length>0)return!0;let n=this.na&&this.na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}sa(e){e=Js.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ta=!0,this.ea.next(e)}H_(){return this.options.source!==J_.Cache}};var tf=class{constructor(e){this.key=e}},nf=class{constructor(e){this.key=e}},X_=class{constructor(e,n){this.query=e,this.Ia=n,this.Ta=null,this.hasCachedResults=!1,this.current=!1,this.Ea=ve(),this.mutatedKeys=ve(),this.da=QA(e),this.Aa=new Xh(this.da)}get Ra(){return this.Ia}Va(e,n){let r=n?n.ma:new ef,i=n?n.Aa:this.Aa,o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{let m=i.get(h),y=hf(this.query,p)?p:null,C=!!m&&this.mutatedKeys.has(m.key),M=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations),S=!1;m&&y?m.data.isEqual(y.data)?C!==M&&(r.track({type:3,doc:y}),S=!0):this.fa(m,y)||(r.track({type:2,doc:y}),S=!0,(u&&this.da(y,u)>0||l&&this.da(y,l)<0)&&(a=!0)):!m&&y?(r.track({type:0,doc:y}),S=!0):m&&!y&&(r.track({type:1,doc:m}),S=!0,(u||l)&&(a=!0)),S&&(y?(s=s.add(y),o=M?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{Aa:s,ma:r,ts:a,mutatedKeys:o}}fa(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let o=this.Aa;this.Aa=e.Aa,this.mutatedKeys=e.mutatedKeys;let s=e.ma.W_();s.sort((h,p)=>function(y,C){let M=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ee()}};return M(y)-M(C)}(h.type,p.type)||this.da(h.doc,p.doc)),this.ga(r),i=i!=null&&i;let a=n&&!i?this.pa():[],u=this.Ea.size===0&&this.current&&!i?1:0,l=u!==this.Ta;return this.Ta=u,s.length!==0||l?{snapshot:new Js(this.query,e.Aa,o,s,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),ya:a}:{ya:a}}Y_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Aa:this.Aa,ma:new ef,mutatedKeys:this.mutatedKeys,ts:!1},!1)):{ya:[]}}wa(e){return!this.Ia.has(e)&&!!this.Aa.has(e)&&!this.Aa.get(e).hasLocalMutations}ga(e){e&&(e.addedDocuments.forEach(n=>this.Ia=this.Ia.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ia=this.Ia.delete(n)),this.current=e.current)}pa(){if(!this.current)return[];let e=this.Ea;this.Ea=ve(),this.Aa.forEach(r=>{this.wa(r.key)&&(this.Ea=this.Ea.add(r.key))});let n=[];return e.forEach(r=>{this.Ea.has(r)||n.push(new nf(r))}),this.Ea.forEach(r=>{e.has(r)||n.push(new tf(r))}),n}Sa(e){this.Ia=e.Is,this.Ea=ve();let n=this.Va(e.documents);return this.applyChanges(n,!0)}ba(){return Js.fromInitialDocuments(this.query,this.Aa,this.mutatedKeys,this.Ta===0,this.hasCachedResults)}},ew=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},tw=class{constructor(e){this.key=e,this.Da=!1}},nw=class{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Ca={},this.va=new _i(a=>KA(a),df),this.Fa=new Map,this.Ma=new Set,this.xa=new je(J.comparator),this.Oa=new Map,this.Na=new ou,this.La={},this.Ba=new Map,this.ka=iu.Bn(),this.onlineState="Unknown",this.qa=void 0}get isPrimaryClient(){return this.qa===!0}};function oz(t,e,n=!0){return w(this,null,function*(){let r=AR(t),i,o=r.va.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.ba()):i=yield bR(r,e,n,!0),i})}function sz(t,e){return w(this,null,function*(){let n=AR(t);yield bR(n,e,!0,!1)})}function bR(t,e,n,r){return w(this,null,function*(){let i=yield BH(t.localStore,Qn(e)),o=i.targetId,s=n?t.sharedClientState.addLocalQueryTarget(o):"not-current",a;return r&&(a=yield az(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&yR(t.remoteStore,i),a})}function az(t,e,n,r,i){return w(this,null,function*(){t.Qa=(p,m,y)=>function(M,S,O,U){return w(this,null,function*(){let j=S.view.Va(O);j.ts&&(j=yield RA(M.localStore,S.query,!1).then(({documents:E})=>S.view.Va(E,j)));let $=U&&U.targetChanges.get(S.targetId),ge=U&&U.targetMismatches.get(S.targetId)!=null,K=S.view.applyChanges(j,M.isPrimaryClient,$,ge);return OA(M,S.targetId,K.ya),K.snapshot})}(t,p,m,y);let o=yield RA(t.localStore,e,!0),s=new X_(e,o.Is),a=s.Va(o.documents),u=nu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),l=s.applyChanges(a,t.isPrimaryClient,u);OA(t,n,l.ya);let h=new ew(e,n,s);return t.va.set(e,h),t.Fa.has(n)?t.Fa.get(n).push(e):t.Fa.set(n,[e]),l.snapshot})}function cz(t,e,n){return w(this,null,function*(){let r=ie(t),i=r.va.get(e),o=r.Fa.get(i.targetId);if(o.length>1)return r.Fa.set(i.targetId,o.filter(s=>!df(s,e))),void r.va.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield V_(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Dw(r.remoteStore,i.targetId),rw(r,i.targetId)}).catch(du))):(rw(r,i.targetId),yield V_(r.localStore,i.targetId,!0))})}function uz(t,e){return w(this,null,function*(){let n=ie(t),r=n.va.get(e),i=n.Fa.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Dw(n.remoteStore,r.targetId))})}function lz(t,e,n){return w(this,null,function*(){let r=yz(t);try{let i=yield function(s,a){let u=ie(s),l=pt.now(),h=a.reduce((y,C)=>y.add(C.key),ve()),p,m;return u.persistence.runTransaction("Locally write mutations","readwrite",y=>{let C=Pr(),M=ve();return u.us.getEntries(y,h).next(S=>{C=S,C.forEach((O,U)=>{U.isValidDocument()||(M=M.add(O))})}).next(()=>u.localDocuments.getOverlayedDocuments(y,C)).next(S=>{p=S;let O=[];for(let U of a){let j=gH(U,p.get(U.key).overlayedDocument);j!=null&&O.push(new Or(U.key,j,$A(j.value.mapValue),vo.exists(!0)))}return u.mutationQueue.addMutationBatch(y,l,O,a)}).next(S=>{m=S;let O=S.applyToLocalDocumentSet(p,M);return u.documentOverlayCache.saveOverlays(y,S.batchId,O)})}).then(()=>({batchId:m.batchId,changes:JA(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,u){let l=s.La[s.currentUser.toKey()];l||(l=new je(De)),l=l.insert(a,u),s.La[s.currentUser.toKey()]=l}(r,i.batchId,n),yield pu(r,i.changes),yield gf(r.remoteStore)}catch(i){let o=Rw(i,"Failed to persist write");n.reject(o)}})}function CR(t,e){return w(this,null,function*(){let n=ie(t);try{let r=yield VH(n.localStore,e);e.targetChanges.forEach((i,o)=>{let s=n.Oa.get(o);s&&(Ne(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.Da=!0:i.modifiedDocuments.size>0?Ne(s.Da):i.removedDocuments.size>0&&(Ne(s.Da),s.Da=!1))}),yield pu(n,r,e)}catch(r){yield du(r)}})}function PA(t,e,n){let r=ie(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.va.forEach((o,s)=>{let a=s.view.Y_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){let u=ie(s);u.onlineState=a;let l=!1;u.queries.forEach((h,p)=>{for(let m of p.z_)m.Y_(a)&&(l=!0)}),l&&Mw(u)}(r.eventManager,e),i.length&&r.Ca.E_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function dz(t,e,n){return w(this,null,function*(){let r=ie(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.Oa.get(e),o=i&&i.key;if(o){let s=new je(J.comparator);s=s.insert(o,Dn.newNoDocument(o,se.min()));let a=ve().add(o),u=new $h(se.min(),new Map,new je(De),s,a);yield CR(r,u),r.xa=r.xa.remove(o),r.Oa.delete(e),xw(r)}else yield V_(r.localStore,e,!1).then(()=>rw(r,e,n)).catch(du)})}function hz(t,e){return w(this,null,function*(){let n=ie(t),r=e.batch.batchId;try{let i=yield LH(n.localStore,e);TR(n,r,null),DR(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield pu(n,i)}catch(i){yield du(i)}})}function fz(t,e,n){return w(this,null,function*(){let r=ie(t);try{let i=yield function(s,a){let u=ie(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let h;return u.mutationQueue.lookupMutationBatch(l,a).next(p=>(Ne(p!==null),h=p.keys(),u.mutationQueue.removeMutationBatch(l,p))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,h,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,h)).next(()=>u.localDocuments.getDocuments(l,h))})}(r.localStore,e);TR(r,e,n),DR(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield pu(r,i)}catch(i){yield du(i)}})}function DR(t,e){(t.Ba.get(e)||[]).forEach(n=>{n.resolve()}),t.Ba.delete(e)}function TR(t,e,n){let r=ie(t),i=r.La[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.La[r.currentUser.toKey()]=i}}function rw(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.Fa.get(e))t.va.delete(r),n&&t.Ca.Ka(r,n);t.Fa.delete(e),t.isPrimaryClient&&t.Na.mr(e).forEach(r=>{t.Na.containsKey(r)||SR(t,r)})}function SR(t,e){t.Ma.delete(e.path.canonicalString());let n=t.xa.get(e);n!==null&&(Dw(t.remoteStore,n),t.xa=t.xa.remove(e),t.Oa.delete(n),xw(t))}function OA(t,e,n){for(let r of n)r instanceof tf?(t.Na.addReference(r.key,e),pz(t,r)):r instanceof nf?(z("SyncEngine","Document no longer in limbo: "+r.key),t.Na.removeReference(r.key,e),t.Na.containsKey(r.key)||SR(t,r.key)):ee()}function pz(t,e){let n=e.key,r=n.path.canonicalString();t.xa.get(n)||t.Ma.has(r)||(z("SyncEngine","New document in limbo: "+n),t.Ma.add(r),xw(t))}function xw(t){for(;t.Ma.size>0&&t.xa.size<t.maxConcurrentLimboResolutions;){let e=t.Ma.values().next().value;t.Ma.delete(e);let n=new J(Ue.fromString(e)),r=t.ka.next();t.Oa.set(r,new tw(n)),t.xa=t.xa.insert(n,r),yR(t.remoteStore,new ru(Qn(bw(n.path)),r,"TargetPurposeLimboResolution",UA.oe))}}function pu(t,e,n){return w(this,null,function*(){let r=ie(t),i=[],o=[],s=[];r.va.isEmpty()||(r.va.forEach((a,u)=>{s.push(r.Qa(u,e,n).then(l=>{var h;if((l||n)&&r.isPrimaryClient){let p=l?!l.fromCache:(h=n?.targetChanges.get(u.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(l){i.push(l);let p=O_.Ui(u.targetId,l);o.push(p)}}))}),yield Promise.all(s),r.Ca.E_(i),yield function(u,l){return w(this,null,function*(){let h=ie(u);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>L.forEach(l,m=>L.forEach(m.Ki,y=>h.persistence.referenceDelegate.addReference(p,m.targetId,y)).next(()=>L.forEach(m.$i,y=>h.persistence.referenceDelegate.removeReference(p,m.targetId,y)))))}catch(p){if(!hu(p))throw p;z("LocalStore","Failed to update sequence numbers: "+p)}for(let p of l){let m=p.targetId;if(!p.fromCache){let y=h.ss.get(m),C=y.snapshotVersion,M=y.withLastLimboFreeSnapshotVersion(C);h.ss=h.ss.insert(m,M)}}})}(r.localStore,o))})}function gz(t,e){return w(this,null,function*(){let n=ie(t);if(!n.currentUser.isEqual(e)){z("SyncEngine","User change. New user:",e.toKey());let r=yield gR(n.localStore,e);n.currentUser=e,function(o,s){o.Ba.forEach(a=>{a.forEach(u=>{u.reject(new W(k.CANCELLED,s))})}),o.Ba.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield pu(n,r.ls)}})}function mz(t,e){let n=ie(t),r=n.Oa.get(e);if(r&&r.Da)return ve().add(r.key);{let i=ve(),o=n.Fa.get(e);if(!o)return i;for(let s of o){let a=n.va.get(s);i=i.unionWith(a.view.Ra)}return i}}function AR(t){let e=ie(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=CR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=mz.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=dz.bind(null,e),e.Ca.E_=rz.bind(null,e.eventManager),e.Ca.Ka=iz.bind(null,e.eventManager),e}function yz(t){let e=ie(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=hz.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=fz.bind(null,e),e}var rf=class{constructor(){this.synchronizeTabs=!1}initialize(e){return w(this,null,function*(){this.serializer=ff(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),yield this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)})}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return FH(this.persistence,new F_,e.initialUser,this.serializer)}createPersistence(e){return new x_(P_.Yr,this.serializer)}createSharedClientState(e){return new U_}terminate(){return w(this,null,function*(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}};var iw=class{initialize(e,n){return w(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>PA(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=gz.bind(null,this.syncEngine),yield ez(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return function(){return new Y_}()}createDatastore(e){let n=ff(e.databaseInfo.databaseId),r=function(o){return new $_(o)}(e.databaseInfo);return function(o,s,a,u){return new q_(o,s,a,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,s,a){return new W_(r,i,o,s,a)}(this.localStore,this.datastore,e.asyncQueue,n=>PA(this.syncEngine,n,0),function(){return Qh.D()?new Qh:new j_}())}createSyncEngine(e,n){return function(i,o,s,a,u,l,h){let p=new nw(i,o,s,a,u,l);return h&&(p.qa=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return w(this,null,function*(){var e,n;yield function(i){return w(this,null,function*(){let o=ie(i);z("RemoteStore","RemoteStore shutting down."),o.N_.add(5),yield fu(o),o.B_.shutdown(),o.k_.set("Unknown")})}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()})}};var ow=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Wa(this.observer.next,e)}error(e){this.observer.error?this.Wa(this.observer.error,e):xr("Uncaught Error in snapshot listener:",e.toString())}Ga(){this.muted=!0}Wa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}};var sw=class{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=st.UNAUTHENTICATED,this.clientId=kh.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,o=>w(this,null,function*(){z("FirestoreClient","Received user=",o.uid),yield this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(r,o=>(z("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new W(k.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Wn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>w(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=Rw(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function kv(t,e){return w(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),z("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>w(this,null,function*(){r.isEqual(i)||(yield gR(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function kA(t,e){return w(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield _z(t);z("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>MA(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>MA(e.remoteStore,i)),t._onlineComponents=e})}function vz(t){return t.name==="FirebaseError"?t.code===k.FAILED_PRECONDITION||t.code===k.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}function _z(t){return w(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){z("FirestoreClient","Using user provided OfflineComponentProvider");try{yield kv(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!vz(n))throw n;js("Error using user provided cache. Falling back to memory cache: "+n),yield kv(t,new rf)}}else z("FirestoreClient","Using default OfflineComponentProvider"),yield kv(t,new rf);return t._offlineComponents})}function RR(t){return w(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(z("FirestoreClient","Using user provided OnlineComponentProvider"),yield kA(t,t._uninitializedComponentsProvider._online)):(z("FirestoreClient","Using default OnlineComponentProvider"),yield kA(t,new iw))),t._onlineComponents})}function wz(t){return RR(t).then(e=>e.syncEngine)}function Iz(t){return w(this,null,function*(){let e=yield RR(t),n=e.eventManager;return n.onListen=oz.bind(null,e.syncEngine),n.onUnlisten=cz.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=sz.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=uz.bind(null,e.syncEngine),n})}function Ez(t,e,n={}){let r=new Wn;return t.asyncQueue.enqueueAndForget(()=>w(this,null,function*(){return function(o,s,a,u,l){let h=new ow({next:m=>{s.enqueueAndForget(()=>nz(o,p));let y=m.docs.has(a);!y&&m.fromCache?l.reject(new W(k.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&m.fromCache&&u&&u.source==="server"?l.reject(new W(k.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(m)},error:m=>l.reject(m)}),p=new Z_(bw(a.path),h,{includeMetadataChanges:!0,oa:!0});return tz(o,p)}(yield Iz(t),t.asyncQueue,e,n,r)})),r.promise}function MR(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var FA=new Map;function xR(t,e,n){if(!n)throw new W(k.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function bz(t,e,n,r){if(e===!0&&r===!0)throw new W(k.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function LA(t){if(!J.isDocumentKey(t))throw new W(k.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function VA(t){if(J.isDocumentKey(t))throw new W(k.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Nw(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ee()}function su(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new W(k.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=Nw(t);throw new W(k.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var of=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new W(k.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new W(k.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}bz("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=MR((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new W(k.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new W(k.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new W(k.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Zs=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new of({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new W(k.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new W(k.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new of(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Fv;switch(r.type){case"firstParty":return new jv(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new W(k.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=FA.get(n);r&&(z("ComponentProvider","Removing Datastore"),FA.delete(n),r.terminate())}(this),Promise.resolve()}};function NR(t,e,n,r={}){var i;let o=(t=su(t,Zs))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&js("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,u;if(typeof r.mockUserToken=="string")a=r.mockUserToken,u=st.MOCK_USER;else{a=th(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new W(k.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new st(l)}t._authCredentials=new Lv(new Oh(a,u))}}var aw=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},Zt=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new yi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},yi=class t extends aw{constructor(e,n,r){super(e,n,bw(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Zt(this.firestore,null,new J(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function PR(t,e,...n){if(t=$e(t),xR("collection","path",e),t instanceof Zs){let r=Ue.fromString(e,...n);return VA(r),new yi(t,null,r)}{if(!(t instanceof Zt||t instanceof yi))throw new W(k.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Ue.fromString(e,...n));return VA(r),new yi(t.firestore,null,r)}}function OR(t,e,...n){if(t=$e(t),arguments.length===1&&(e=kh.newId()),xR("doc","path",e),t instanceof Zs){let r=Ue.fromString(e,...n);return LA(r),new Zt(t,null,new J(r))}{if(!(t instanceof Zt||t instanceof yi))throw new W(k.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Ue.fromString(e,...n));return LA(r),new Zt(t.firestore,t instanceof yi?t.converter:null,new J(r))}}var cw=class{constructor(){this._u=Promise.resolve(),this.au=[],this.uu=!1,this.cu=[],this.lu=null,this.hu=!1,this.Pu=!1,this.Iu=[],this.e_=new Yh(this,"async_queue_retry"),this.Tu=()=>{let n=Ov();n&&z("AsyncQueue","Visibility state changed to "+n.visibilityState),this.e_.zo()};let e=Ov();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Tu)}get isShuttingDown(){return this.uu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Eu(),this.du(e)}enterRestrictedMode(e){if(!this.uu){this.uu=!0,this.Pu=e||!1;let n=Ov();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Tu)}}enqueue(e){if(this.Eu(),this.uu)return new Promise(()=>{});let n=new Wn;return this.du(()=>this.uu&&this.Pu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.au.push(e),this.Au()))}Au(){return w(this,null,function*(){if(this.au.length!==0){try{yield this.au[0](),this.au.shift(),this.e_.reset()}catch(e){if(!hu(e))throw e;z("AsyncQueue","Operation failed with retryable error: "+e)}this.au.length>0&&this.e_.Wo(()=>this.Au())}})}du(e){let n=this._u.then(()=>(this.hu=!0,e().catch(r=>{this.lu=r,this.hu=!1;let i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw xr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.hu=!1,r))));return this._u=n,n}enqueueAfterDelay(e,n,r){this.Eu(),this.Iu.indexOf(e)>-1&&(n=0);let i=K_.createAndSchedule(this,e,n,r,o=>this.Ru(o));return this.cu.push(i),i}Eu(){this.lu&&ee()}verifyOperationInProgress(){}Vu(){return w(this,null,function*(){let e;do e=this._u,yield e;while(e!==this._u)})}mu(e){for(let n of this.cu)if(n.timerId===e)return!0;return!1}fu(e){return this.Vu().then(()=>{this.cu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.cu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Vu()})}gu(e){this.Iu.push(e)}Ru(e){let n=this.cu.indexOf(e);this.cu.splice(n,1)}};var au=class extends Zs{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new cw}(),this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||LR(this),this._firestoreClient.terminate()}};function kR(t,e){let n=typeof t=="object"?t:ui(),r=typeof t=="string"?t:e||"(default)",i=so(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=eh("firestore");o&&NR(i,...o)}return i}function FR(t){return t._firestoreClient||LR(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function LR(t){var e,n,r;let i=t._freezeSettings(),o=function(a,u,l,h){return new qv(a,u,l,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,MR(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new sw(t._authCredentials,t._appCheckCredentials,t._queue,o),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}var cu=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(Dt.fromBase64String(e))}catch(n){throw new W(k.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(Dt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var uu=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new W(k.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Jt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var sf=class{constructor(e){this._methodName=e}};var lu=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new W(k.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new W(k.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return De(this._lat,e._lat)||De(this._long,e._long)}};var Cz=/^__.*__$/,uw=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Or(e,this.data,this.fieldMask,n,this.fieldTransforms):new Co(e,this.data,n,this.fieldTransforms)}};function VR(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ee()}}var lw=class t{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.pu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get yu(){return this.settings.yu}wu(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Su(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.wu({path:r,bu:!1});return i.Du(e),i}Cu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.wu({path:r,bu:!1});return i.pu(),i}vu(e){return this.wu({path:void 0,bu:!0})}Fu(e){return af(e,this.settings.methodName,this.settings.Mu||!1,this.path,this.settings.xu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Du(this.path.get(e))}Du(e){if(e.length===0)throw this.Fu("Document fields must not be empty");if(VR(this.yu)&&Cz.test(e))throw this.Fu('Document fields cannot begin and end with "__"')}},dw=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||ff(e)}Ou(e,n,r,i=!1){return new lw({yu:e,methodName:n,xu:r,path:Jt.emptyPath(),bu:!1,Mu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function Dz(t){let e=t._freezeSettings(),n=ff(t._databaseId);return new dw(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Tz(t,e,n,r,i,o={}){let s=t.Ou(o.merge||o.mergeFields?2:0,e,n,i);$R("Data must be an object, but it was:",s,r);let a=jR(r,s),u,l;if(o.merge)u=new Gn(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){let h=[];for(let p of o.mergeFields){let m=Sz(e,p,n);if(!s.contains(m))throw new W(k.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);Rz(h,m)||h.push(m)}u=new Gn(h),l=s.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,l=s.fieldTransforms;return new uw(new Cn(a),u,l)}function UR(t,e){if(BR(t=$e(t)))return $R("Unsupported field value:",e,t),jR(t,e);if(t instanceof sf)return function(r,i){if(!VR(i.yu))throw i.Fu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Fu(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.bu&&e.yu!==4)throw e.Fu("Nested arrays are not supported");return function(r,i){let o=[],s=0;for(let a of r){let u=UR(a,i.vu(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=$e(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return lH(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=pt.fromDate(r);return{timestampValue:Gh(i.serializer,o)}}if(r instanceof pt){let o=new pt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Gh(i.serializer,o)}}if(r instanceof lu)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof cu)return{bytesValue:cR(i.serializer,r._byteString)};if(r instanceof Zt){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Fu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Cw(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.Fu(`Unsupported field value: ${Nw(r)}`)}(t,e)}function jR(t,e){let n={};return jA(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ea(t,(r,i)=>{let o=UR(i,e.Su(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function BR(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof pt||t instanceof lu||t instanceof cu||t instanceof Zt||t instanceof sf)}function $R(t,e,n){if(!BR(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=Nw(n);throw r==="an object"?e.Fu(t+" a custom object"):e.Fu(t+" "+r)}}function Sz(t,e,n){if((e=$e(e))instanceof uu)return e._internalPath;if(typeof e=="string")return HR(t,e);throw af("Field path arguments must be of type string or ",t,!1,void 0,n)}var Az=new RegExp("[~\\*/\\[\\]]");function HR(t,e,n){if(e.search(Az)>=0)throw af(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new uu(...e.split("."))._internalPath}catch{throw af(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function af(t,e,n,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new W(k.INVALID_ARGUMENT,a+t+u)}function Rz(t,e){return t.some(n=>n.isEqual(e))}var cf=class{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Zt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new hw(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(zR("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},hw=class extends cf{data(){return super.data()}};function zR(t,e){return typeof e=="string"?HR(t,e):e instanceof uu?e._internalPath:e._delegate._internalPath}var fw=class{convertValue(e,n="none"){switch(Io(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ve(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(vi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw ee()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return ea(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertGeoPoint(e){return new lu(Ve(e.latitude),Ve(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=_w(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(eu(e));default:return null}}convertTimestamp(e){let n=Nr(e);return new pt(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=Ue.fromString(e);Ne(pR(r));let i=new Uh(r.get(1),r.get(3)),o=new J(r.popFirst(5));return i.isEqual(n)||xr(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}};function Mz(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}var pw=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},uf=class extends cf{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new gw(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(zR("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},gw=class extends uf{data(e={}){return super.data(e)}};function qR(t){t=su(t,Zt);let e=su(t.firestore,au);return Ez(FR(e),t._key).then(n=>Nz(e,t,n))}var mw=class extends fw{constructor(e){super(),this.firestore=e}convertBytes(e){return new cu(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new Zt(this.firestore,null,n)}};function GR(t,e,n){t=su(t,Zt);let r=su(t.firestore,au),i=Mz(t.converter,e,n);return xz(r,[Tz(Dz(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,vo.none())])}function xz(t,e){return function(r,i){let o=new Wn;return r.asyncQueue.enqueueAndForget(()=>w(this,null,function*(){return lz(yield wz(r),i,o)})),o.promise}(FR(t),e)}function Nz(t,e,n){let r=n.docs.get(e._key),i=new mw(t);return new uf(t,i,e._key,r,new pw(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){Xs=i})($n),Bn(new jt("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new au(new Vv(r.getProvider("auth-internal")),new $v(r.getProvider("app-check-internal")),function(l,h){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new W(k.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Uh(l.options.projectId,h)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Oe(lA,"4.6.5",e),Oe(lA,"4.6.5","esm2017")})();var To=class{constructor(e){return e}},WR="firestore",Pw=class{constructor(){return co(WR)}};var Ow=new H("angularfire2.firestore-instances");function Pz(t,e){let n=xs(WR,t,e);return n&&new To(n)}function Oz(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new To(r)}}var kz={provide:Pw,deps:[[new Ze,Ow]]},Fz={provide:To,useFactory:Pz,deps:[[new Ze,Ow],bn]};function KR(t,...e){return Oe("angularfire",Dr.full,"fst"),Vt([Fz,kz,{provide:Ow,useFactory:Oz(t),multi:!0,deps:[Ce,It,di,Tr,[new Ze,go],[new Ze,li],...e]}])}var QR=tt(PR,!0);var mf=tt(OR,!0);var YR=tt(qR,!0);var JR=tt(kR,!0);var kw=tt(GR,!0);var iM="firebasestorage.googleapis.com",oM="storageBucket",Lz=2*60*1e3,Vz=10*60*1e3;var Be=class t extends Nt{constructor(e,n,r=0){super(Fw(e),`Firebase Storage: ${n} (${Fw(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,t.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Fw(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}},He=function(t){return t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment",t}(He||{});function Fw(t){return"storage/"+t}function $w(){let t="An unknown error occurred, please check the error payload for server response.";return new Be(He.UNKNOWN,t)}function Uz(t){return new Be(He.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function jz(t){return new Be(He.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function Bz(){let t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Be(He.UNAUTHENTICATED,t)}function $z(){return new Be(He.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function Hz(t){return new Be(He.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function zz(){return new Be(He.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function qz(){return new Be(He.CANCELED,"User canceled the upload/download.")}function Gz(t){return new Be(He.INVALID_URL,"Invalid URL '"+t+"'.")}function Wz(t){return new Be(He.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function Kz(){return new Be(He.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+oM+"' property when initializing the app?")}function Qz(){return new Be(He.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Yz(){return new Be(He.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function Jz(t){return new Be(He.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Lw(t){return new Be(He.INVALID_ARGUMENT,t)}function sM(){return new Be(He.APP_DELETED,"The Firebase app was deleted.")}function Zz(t){return new Be(He.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function mu(t,e){return new Be(He.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function gu(t){throw new Be(He.INTERNAL_ERROR,"Internal error: "+t)}var Tn=class t{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){let e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=t.makeFromUrl(e,n)}catch{return new t(e,"")}if(r.path==="")return r;throw Wz(e)}static makeFromUrl(e,n){let r=null,i="([A-Za-z0-9.\\-_]+)";function o($){$.path.charAt($.path.length-1)==="/"&&($.path_=$.path_.slice(0,-1))}let s="(/(.*))?$",a=new RegExp("^gs://"+i+s,"i"),u={bucket:1,path:3};function l($){$.path_=decodeURIComponent($.path)}let h="v[A-Za-z0-9_]+",p=n.replace(/[.]/g,"\\."),m="(/([^?#]*).*)?$",y=new RegExp(`^https?://${p}/${h}/b/${i}/o${m}`,"i"),C={bucket:1,path:3},M=n===iM?"(?:storage.googleapis.com|storage.cloud.google.com)":n,S="([^?#]*)",O=new RegExp(`^https?://${M}/${i}/${S}`,"i"),j=[{regex:a,indices:u,postModify:o},{regex:y,indices:C,postModify:l},{regex:O,indices:{bucket:1,path:2},postModify:l}];for(let $=0;$<j.length;$++){let ge=j[$],K=ge.regex.exec(e);if(K){let E=K[ge.indices.bucket],v=K[ge.indices.path];v||(v=""),r=new t(E,v),ge.postModify(r);break}}if(r==null)throw Gz(e);return r}},Vw=class{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}};function Xz(t,e,n){let r=1,i=null,o=null,s=!1,a=0;function u(){return a===2}let l=!1;function h(...S){l||(l=!0,e.apply(null,S))}function p(S){i=setTimeout(()=>{i=null,t(y,u())},S)}function m(){o&&clearTimeout(o)}function y(S,...O){if(l){m();return}if(S){m(),h.call(null,S,...O);return}if(u()||s){m(),h.call(null,S,...O);return}r<64&&(r*=2);let j;a===1?(a=2,j=0):j=(r+Math.random())*1e3,p(j)}let C=!1;function M(S){C||(C=!0,m(),!l&&(i!==null?(S||(a=2),clearTimeout(i),p(0)):S||(a=1)))}return p(0),o=setTimeout(()=>{s=!0,M(!0)},n),M}function eq(t){t(!1)}function tq(t){return t!==void 0}function nq(t){return typeof t=="object"&&!Array.isArray(t)}function Hw(t){return typeof t=="string"||t instanceof String}function ZR(t){return zw()&&t instanceof Blob}function zw(){return typeof Blob<"u"}function XR(t,e,n,r){if(r<e)throw Lw(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Lw(`Invalid value for '${t}'. Expected ${n} or less.`)}function qw(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function aM(t){let e=encodeURIComponent,n="?";for(let r in t)if(t.hasOwnProperty(r)){let i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var ra=function(t){return t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",t}(ra||{});function rq(t,e){let n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,o=e.indexOf(t)!==-1;return n||i||o}var Uw=class{constructor(e,n,r,i,o,s,a,u,l,h,p,m=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=s,this.callback_=a,this.errorCallback_=u,this.timeout_=l,this.progressCallback_=h,this.connectionFactory_=p,this.retry=m,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((y,C)=>{this.resolve_=y,this.reject_=C,this.start_()})}start_(){let e=(r,i)=>{if(i){r(!1,new na(!1,null,!0));return}let o=this.connectionFactory_();this.pendingConnection_=o;let s=a=>{let u=a.loaded,l=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(u,l)};this.progressCallback_!==null&&o.addUploadProgressListener(s),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(s),this.pendingConnection_=null;let a=o.getErrorCode()===ra.NO_ERROR,u=o.getStatus();if(!a||rq(u,this.additionalRetryCodes_)&&this.retry){let h=o.getErrorCode()===ra.ABORT;r(!1,new na(!1,null,h));return}let l=this.successCodes_.indexOf(u)!==-1;r(!0,new na(l,o))})},n=(r,i)=>{let o=this.resolve_,s=this.reject_,a=i.connection;if(i.wasSuccessCode)try{let u=this.callback_(a,a.getResponse());tq(u)?o(u):o()}catch(u){s(u)}else if(a!==null){let u=$w();u.serverResponse=a.getErrorText(),this.errorCallback_?s(this.errorCallback_(a,u)):s(u)}else if(i.canceled){let u=this.appDelete_?sM():qz();s(u)}else{let u=zz();s(u)}};this.canceled_?n(!1,new na(!1,null,!0)):this.backoffId_=Xz(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&eq(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}},na=class{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}};function iq(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function oq(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function sq(t,e){e&&(t["X-Firebase-GMPID"]=e)}function aq(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function cq(t,e,n,r,i,o,s=!0){let a=aM(t.urlParams),u=t.url+a,l=Object.assign({},t.headers);return sq(l,e),iq(l,n),oq(l,o),aq(l,r),new Uw(u,t.method,l,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,s)}function uq(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function lq(...t){let e=uq();if(e!==void 0){let n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(zw())return new Blob(t);throw new Be(He.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function dq(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}function hq(t){if(typeof atob>"u")throw Jz("base-64");return atob(t)}var Xn={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},yu=class{constructor(e,n){this.data=e,this.contentType=n||null}};function fq(t,e){switch(t){case Xn.RAW:return new yu(cM(e));case Xn.BASE64:case Xn.BASE64URL:return new yu(uM(t,e));case Xn.DATA_URL:return new yu(gq(e),mq(e))}throw $w()}function cM(t){let e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{let o=r,s=t.charCodeAt(++n);r=65536|(o&1023)<<10|s&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function pq(t){let e;try{e=decodeURIComponent(t)}catch{throw mu(Xn.DATA_URL,"Malformed data URL.")}return cM(e)}function uM(t,e){switch(t){case Xn.BASE64:{let i=e.indexOf("-")!==-1,o=e.indexOf("_")!==-1;if(i||o)throw mu(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Xn.BASE64URL:{let i=e.indexOf("+")!==-1,o=e.indexOf("/")!==-1;if(i||o)throw mu(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=hq(e)}catch(i){throw i.message.includes("polyfill")?i:mu(t,"Invalid character found")}let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}var vf=class{constructor(e){this.base64=!1,this.contentType=null;let n=e.match(/^data:([^,]+)?,/);if(n===null)throw mu(Xn.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");let r=n[1]||null;r!=null&&(this.base64=yq(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}};function gq(t){let e=new vf(t);return e.base64?uM(Xn.BASE64,e.rest):pq(e.rest)}function mq(t){return new vf(t).contentType}function yq(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}var _f=class t{constructor(e,n){let r=0,i="";ZR(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(ZR(this.data_)){let r=this.data_,i=dq(r,e,n);return i===null?null:new t(i)}else{let r=new Uint8Array(this.data_.buffer,e,n-e);return new t(r,!0)}}static getBlob(...e){if(zw()){let n=e.map(r=>r instanceof t?r.data_:r);return new t(lq.apply(null,n))}else{let n=e.map(s=>Hw(s)?fq(Xn.RAW,s).data:s.data_),r=0;n.forEach(s=>{r+=s.byteLength});let i=new Uint8Array(r),o=0;return n.forEach(s=>{for(let a=0;a<s.length;a++)i[o++]=s[a]}),new t(i,!0)}}uploadData(){return this.data_}};function lM(t){let e;try{e=JSON.parse(t)}catch{return null}return nq(e)?e:null}function vq(t){if(t.length===0)return null;let e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function _q(t,e){let n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function dM(t){let e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}function wq(t,e){return e}var gt=class{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||wq}},yf=null;function Iq(t){return!Hw(t)||t.length<2?t:dM(t)}function hM(){if(yf)return yf;let t=[];t.push(new gt("bucket")),t.push(new gt("generation")),t.push(new gt("metageneration")),t.push(new gt("name","fullPath",!0));function e(o,s){return Iq(s)}let n=new gt("name");n.xform=e,t.push(n);function r(o,s){return s!==void 0?Number(s):s}let i=new gt("size");return i.xform=r,t.push(i),t.push(new gt("timeCreated")),t.push(new gt("updated")),t.push(new gt("md5Hash",null,!0)),t.push(new gt("cacheControl",null,!0)),t.push(new gt("contentDisposition",null,!0)),t.push(new gt("contentEncoding",null,!0)),t.push(new gt("contentLanguage",null,!0)),t.push(new gt("contentType",null,!0)),t.push(new gt("metadata","customMetadata",!0)),yf=t,yf}function Eq(t,e){function n(){let r=t.bucket,i=t.fullPath,o=new Tn(r,i);return e._makeStorageReference(o)}Object.defineProperty(t,"ref",{get:n})}function bq(t,e,n){let r={};r.type="file";let i=n.length;for(let o=0;o<i;o++){let s=n[o];r[s.local]=s.xform(r,e[s.server])}return Eq(r,t),r}function fM(t,e,n){let r=lM(e);return r===null?null:bq(t,r,n)}function Cq(t,e,n,r){let i=lM(e);if(i===null||!Hw(i.downloadTokens))return null;let o=i.downloadTokens;if(o.length===0)return null;let s=encodeURIComponent;return o.split(",").map(l=>{let h=t.bucket,p=t.fullPath,m="/b/"+s(h)+"/o/"+s(p),y=qw(m,n,r),C=aM({alt:"media",token:l});return y+C})[0]}function Dq(t,e){let n={},r=e.length;for(let i=0;i<r;i++){let o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}var wf=class{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}};function pM(t){if(!t)throw $w()}function Tq(t,e){function n(r,i){let o=fM(t,i,e);return pM(o!==null),o}return n}function Sq(t,e){function n(r,i){let o=fM(t,i,e);return pM(o!==null),Cq(o,i,t.host,t._protocol)}return n}function gM(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=$z():i=Bz():n.getStatus()===402?i=jz(t.bucket):n.getStatus()===403?i=Hz(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function Aq(t){let e=gM(t);function n(r,i){let o=e(r,i);return r.getStatus()===404&&(o=Uz(t.path)),o.serverResponse=i.serverResponse,o}return n}function Rq(t,e,n){let r=e.fullServerUrl(),i=qw(r,t.host,t._protocol),o="GET",s=t.maxOperationRetryTime,a=new wf(i,o,Sq(t,n),s);return a.errorHandler=Aq(e),a}function Mq(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function xq(t,e,n){let r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=Mq(null,e)),r}function Nq(t,e,n,r,i){let o=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"};function a(){let j="";for(let $=0;$<2;$++)j=j+Math.random().toString().slice(2);return j}let u=a();s["Content-Type"]="multipart/related; boundary="+u;let l=xq(e,r,i),h=Dq(l,n),p="--"+u+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+h+`\r
--`+u+`\r
Content-Type: `+l.contentType+`\r
\r
`,m=`\r
--`+u+"--",y=_f.getBlob(p,r,m);if(y===null)throw Qz();let C={name:l.fullPath},M=qw(o,t.host,t._protocol),S="POST",O=t.maxUploadRetryTime,U=new wf(M,S,Tq(t,n),O);return U.urlParams=C,U.headers=s,U.body=y.uploadData(),U.errorHandler=gM(e),U}var gJ=256*1024;var eM=null,jw=class{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ra.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ra.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ra.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw gu("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(let o in i)i.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,i[o].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw gu("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw gu("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw gu("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw gu("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}},Bw=class extends jw{initXhr(){this.xhr_.responseType="text"}};function mM(){return eM?eM():new Bw}var ia=class t{constructor(e,n){this._service=e,n instanceof Tn?this._location=n:this._location=Tn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new t(e,n)}get root(){let e=new Tn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return dM(this._location.path)}get storage(){return this._service}get parent(){let e=vq(this._location.path);if(e===null)return null;let n=new Tn(this._location.bucket,e);return new t(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw Zz(e)}};function Pq(t,e,n){t._throwIfRoot("uploadBytes");let r=Nq(t.storage,t._location,hM(),new _f(e,!0),n);return t.storage.makeRequestWithTokens(r,mM).then(i=>({metadata:i,ref:t}))}function Oq(t){t._throwIfRoot("getDownloadURL");let e=Rq(t.storage,t._location,hM());return t.storage.makeRequestWithTokens(e,mM).then(n=>{if(n===null)throw Yz();return n})}function kq(t,e){let n=_q(t._location.path,e),r=new Tn(t._location.bucket,n);return new ia(t.storage,r)}function Fq(t){return/^[A-Za-z]+:\/\//.test(t)}function Lq(t,e){return new ia(t,e)}function yM(t,e){if(t instanceof vu){let n=t;if(n._bucket==null)throw Kz();let r=new ia(n,n._bucket);return e!=null?yM(r,e):r}else return e!==void 0?kq(t,e):t}function Vq(t,e){if(e&&Fq(e)){if(t instanceof vu)return Lq(t,e);throw Lw("To use ref(service, url), the first argument must be a Storage instance.")}else return yM(t,e)}function tM(t,e){let n=e?.[oM];return n==null?null:Tn.makeFromBucketSpec(n,t)}function Uq(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";let{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:th(i,t.app.options.projectId))}var vu=class{constructor(e,n,r,i,o){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=iM,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Lz,this._maxUploadRetryTime=Vz,this._requests=new Set,i!=null?this._bucket=Tn.makeFromBucketSpec(i,this._host):this._bucket=tM(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Tn.makeFromBucketSpec(this._url,e):this._bucket=tM(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){XR("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){XR("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){return w(this,null,function*(){if(this._overrideAuthToken)return this._overrideAuthToken;let e=this._authProvider.getImmediate({optional:!0});if(e){let n=yield e.getToken();if(n!==null)return n.accessToken}return null})}_getAppCheckToken(){return w(this,null,function*(){let e=this._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ia(this,e)}_makeRequest(e,n,r,i,o=!0){if(this._deleted)return new Vw(sM());{let s=cq(e,this._appId,r,i,n,this._firebaseVersion,o);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}makeRequestWithTokens(e,n){return w(this,null,function*(){let[r,i]=yield Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()})}},nM="@firebase/storage",rM="0.12.6";var vM="storage";function _M(t,e,n){return t=$e(t),Pq(t,e,n)}function wM(t){return t=$e(t),Oq(t)}function IM(t,e){return t=$e(t),Vq(t,e)}function EM(t=ui(),e){t=$e(t);let r=so(t,vM).getImmediate({identifier:e}),i=eh("storage");return i&&bM(r,...i),r}function bM(t,e,n,r={}){Uq(t,e,n,r)}function jq(t,{instanceIdentifier:e}){let n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new vu(n,r,i,e,$n)}function Bq(){Bn(new jt(vM,jq,"PUBLIC").setMultipleInstances(!0)),Oe(nM,rM,""),Oe(nM,rM,"esm2017")}Bq();var So=class{constructor(e){return e}},CM="storage",Gw=class{constructor(){return co(CM)}};var Ww=new H("angularfire2.storage-instances");function $q(t,e){let n=xs(CM,t,e);return n&&new So(n)}function Hq(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new So(r)}}var zq={provide:Gw,deps:[[new Ze,Ww]]},qq={provide:So,useFactory:$q,deps:[[new Ze,Ww],bn]};function DM(t,...e){return Oe("angularfire",Dr.full,"gcs"),Vt([qq,zq,{provide:Ww,useFactory:Hq(t),multi:!0,deps:[Ce,It,di,Tr,[new Ze,go],[new Ze,li],...e]}])}var TM=tt(wM,!0);var SM=tt(EM,!0);var AM=tt(IM,!0);var RM=tt(_M,!0);var er=(()=>{class t{firestore=P(To);auth=P(po);storage=P(So);userCollection=QR(this.firestore,"User");registrarUser(n,r){return Se(iA(this.auth,n.email,n.password).then(i=>{if(n.userId=i.user.uid,r){let o=AM(this.storage,`users/${n.userId}/profile.jpg`);return RM(o,r).then(()=>TM(o).then(s=>{n.photoURL=s;let a=mf(this.userCollection,n.userId);return kw(a,n)}))}else{let o=mf(this.userCollection,n.userId);return kw(o,n)}})).pipe(qt(i=>{let o="Error al registrar el usuario.";return i.code==="auth/weak-password"?o="La contrase\xF1a debe tener al menos 6 caracteres.":i.code==="auth/email-already-in-use"?o="El email ya est\xE1 en uso.":i.code==="auth/invalid-email"&&(o="El email no es v\xE1lido."),alert(o),console.error("Error al registrar el usuario:",i),Q(null)}))}loginUser(n,r){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n)?r.trim()===""?(alert("La contrase\xF1a no puede estar vac\xEDa."),Q(null)):Se(sA(this.auth,n,r)).pipe(qt(o=>{let s="Error al iniciar sesi\xF3n.";return o.code==="auth/wrong-password"?s="La contrase\xF1a es incorrecta.":o.code==="auth/user-not-found"?s="No se encontr\xF3 un usuario con este email.":o.code==="auth/invalid-email"&&(s="El email no es v\xE1lido."),alert(s),console.error("Error al iniciar sesi\xF3n:",o),Q(null)})):(alert("El email no es v\xE1lido."),Q(null))}logoutUser(){return Se(aA(this.auth))}getAuthenticatedUser(){return rA(this.auth)}getUserData(n){let r=mf(this.userCollection,n);return Se(YR(r)).pipe(te(i=>i.exists()?(console.log("Documento encontrado:",i.data()),i.data()):(console.log("Documento no encontrado para el userId:",n),null)),qt(i=>(console.error("Error al obtener datos del usuario:",i),Q(null))))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Gq=t=>({show:t});function Wq(t,e){if(t&1){let n=Fn();N(0,"a",16),F(1,"Mi Carrito"),x(),N(2,"a",17),F(3,"Ayuda"),x(),N(4,"a",18),pe("click",function(){mn(n);let i=lt();return yn(i.logout())}),F(5,"Cerrar Sesi\xF3n"),x()}}function Kq(t,e){t&1&&(N(0,"a",7),F(1,"Iniciar Sesi\xF3n"),x())}function Qq(t,e){if(t&1){let n=Fn();N(0,"img",19),pe("click",function(){mn(n);let i=lt();return yn(i.modoOscuro())}),x()}}function Yq(t,e){if(t&1){let n=Fn();N(0,"img",20),pe("click",function(){mn(n);let i=lt();return yn(i.modoOscuro())}),x()}}var MM=(()=>{class t{_apiService=P(Un);_router=P(ft);_firebaseService=P(er);nombreProducto="";menuVisible=!1;isLoggedIn=!1;userPhotoURL=null;modoOsc=!1;ngOnInit(){this.buscarUsuario()}buscarUsuario(){this._firebaseService.getAuthenticatedUser().subscribe(n=>{this.isLoggedIn=!!n,n?(console.log("Usuario autenticado:",n.uid),this._firebaseService.getUserData(n.uid).subscribe(r=>{console.log("Datos del usuario obtenidos:",r),r&&r.photoURL?(this.userPhotoURL=r.photoURL,console.log("URL de la imagen de perfil:",this.userPhotoURL)):(this.userPhotoURL="Perfil.gif",console.log("No se encontr\xF3 photoURL, asignando imagen por defecto:",this.userPhotoURL))},r=>{console.error("Error al obtener datos del usuario:",r),this.userPhotoURL="Perfil.gif"})):(console.log("No hay usuario autenticado, asignando imagen por defecto"),this.userPhotoURL="Perfil.gif")})}buscarProducto(){this.nombreProducto&&this._apiService.getByNombre(this.nombreProducto).subscribe(n=>{n?this._router.navigate(["/tienda",this.nombreProducto]):alert("Producto no encontrado")})}toggleMenu(n){n.preventDefault(),this.menuVisible=!this.menuVisible}logout(){this._firebaseService.logoutUser().subscribe(()=>{this.isLoggedIn=!1,this.menuVisible=!1,this._router.navigate(["home"])})}closeMenu(){this.menuVisible=!1}redirigirAlCarrito(){this._firebaseService.getAuthenticatedUser().subscribe(n=>{n?this._router.navigate(["/carrito"]):this._router.navigate(["/login"])})}modoOscuro(){let n=document.body;n.classList.toggle("dark-mode"),this.modoOsc=n.classList.contains("dark-mode"),console.log("Modo Oscuro")}static \u0275fac=function(r){return new(r||t)};static \u0275cmp=Ae({type:t,selectors:[["app-header"]],standalone:!0,features:[Re],decls:25,vars:8,consts:[[1,"header-cabesera"],["type","text","placeholder","Buscar...",3,"ngModelChange","keyup.enter","ngModel"],[1,"header-cabesera-2"],["src","Bolsa.gif","alt","Carito De Compras",3,"click"],[1,"menu-container"],[1,"login",3,"click"],[1,"dropdown-menu",3,"mouseleave","ngClass"],["routerLink","/login"],["id","foto-perfil","alt","Icono del Perfil",3,"src"],["src","Oscuro.png","alt","Icono del Perfil"],["src","Claro.gif","alt","Icono del Perfil"],["href","","routerLink","/main",1,"titulo"],["routerLink","tienda"],["routerLink","acerca-de"],["routerLink","blog"],["routerLink","contacto"],["routerLink","/carrito"],["routerLink","/contacto"],[3,"click"],["src","Oscuro.png","alt","Icono del Perfil",3,"click"],["src","Claro.gif","alt","Icono del Perfil",3,"click"]],template:function(r,i){r&1&&(N(0,"header")(1,"div",0)(2,"input",1),ot("ngModelChange",function(s){return dt(i.nombreProducto,s)||(i.nombreProducto=s),s}),pe("keyup.enter",function(){return i.buscarProducto()}),x(),N(3,"div",2)(4,"img",3),pe("click",function(){return i.redirigirAlCarrito()}),x(),N(5,"div",4)(6,"a",5),pe("click",function(s){return i.toggleMenu(s)}),F(7),x(),N(8,"div",6),pe("mouseleave",function(){return i.closeMenu()}),Wt(9,Wq,6,0)(10,Kq,2,0,"a",7),x()(),re(11,"img",8),Wt(12,Qq,1,0,"img",9)(13,Yq,1,0,"img",10),x()(),N(14,"a",11),F(15,"RopaStore"),x(),N(16,"nav")(17,"a",12),F(18,"TIENDA"),x(),N(19,"a",13),F(20,"ACERCA DE"),x(),N(21,"a",14),F(22,"BLOG"),x(),N(23,"a",15),F(24,"CONTACTO"),x()()()),r&2&&(Y(2),it("ngModel",i.nombreProducto),Y(5),Ln(i.isLoggedIn?"Mi Cuenta":"Login"),Y(),ut("ngClass",TC(6,Gq,i.menuVisible)),Y(),rn(i.isLoggedIn?9:10),Y(2),ut("src",i.userPhotoURL,nn),Y(),rn(i.modoOsc?12:13))},dependencies:[iT,cn,sn,an,Yt,Ji,nD],styles:["header[_ngcontent-%COMP%]{margin:1% 20%;display:grid}.header-cabesera[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin:1%}.header-cabesera-2[_ngcontent-%COMP%]{display:flex;align-items:center;gap:30px}.header-cabesera-2[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:60%;cursor:pointer}.header-cabesera-2[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;font-size:16px}.menu-container[_ngcontent-%COMP%]{position:relative;display:inline-block}.dropdown-menu[_ngcontent-%COMP%]{display:none;position:absolute;min-width:160px;box-shadow:0 8px 16px #0003;z-index:1}.dropdown-menu[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:12px 16px;text-decoration:none;display:block}.dropdown-menu[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#bfdbff}.menu-container[_ngcontent-%COMP%]   .dropdown-menu.show[_ngcontent-%COMP%]{display:block}.login[_ngcontent-%COMP%]{cursor:pointer}.titulo[_ngcontent-%COMP%]{font-size:300%;text-align:center;margin:3% 0%}nav[_ngcontent-%COMP%]{display:flex;justify-content:space-around;text-align:center}a[_ngcontent-%COMP%]{text-decoration:none;color:#000}input[_ngcontent-%COMP%]{height:80%;padding:1%}#foto-perfil[_ngcontent-%COMP%]{width:35px;height:35px;border-radius:50%;object-fit:cover}"]})}return t})();var xM=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275cmp=Ae({type:t,selectors:[["app-footer"]],standalone:!0,features:[Re],decls:32,vars:0,template:function(r,i){r&1&&(N(0,"footer")(1,"h2"),F(2,"RopaStore"),x(),re(3,"hr"),N(4,"section")(5,"div")(6,"h4"),F(7,"Tienda"),x(),N(8,"h4"),F(9,"Acerca de"),x(),N(10,"h4"),F(11,"Diario"),x(),N(12,"h4"),F(13,"Contanto"),x()(),N(14,"div")(15,"h4"),F(16,"Centro de Ayuda"),x(),N(17,"h4"),F(18,"Envios/Devoluciones"),x(),N(19,"h4"),F(20,"Politicas de la Tienda"),x(),N(21,"h4"),F(22,"Metodos de Pagos"),x()(),N(23,"div")(24,"h4"),F(25,"RopaStore.com.ar"),x(),N(26,"h4"),F(27,"Avenida 9 de Julio al 3000"),x(),N(28,"h4"),F(29,"3124 N\xB0 Capital Federal"),x(),N(30,"h4"),F(31,"Tel:1234-5678"),x()()()())},styles:["footer[_ngcontent-%COMP%]{margin:3% 20% 1%;padding:2%;display:grid;background-color:#e7eeea;border-radius:5%}hr[_ngcontent-%COMP%]{width:100%}h2[_ngcontent-%COMP%]{text-align:center;font-size:200%}h4[_ngcontent-%COMP%]{font-family:Quimbly Light}section[_ngcontent-%COMP%]{display:flex;justify-content:space-around;padding:1%}"]})}return t})();var NM=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275cmp=Ae({type:t,selectors:[["app-acerca-de"]],standalone:!0,features:[Re],decls:11,vars:0,consts:[[1,"div-container"],[1,"main-titulo"],["src","/Acerca de.webp","alt",""],[1,"text-1"],[1,"text-2"]],template:function(r,i){r&1&&(N(0,"div",0)(1,"div",1),re(2,"hr"),N(3,"h3"),F(4," NUESTRA HISTORIA "),x(),re(5,"hr"),x(),re(6,"img",2),N(7,"p",3),F(8,"RopaStore fue fundada con la visi\xF3n de ofrecer moda de alta calidad a precios asequibles. Nuestra pasi\xF3n por la ropa se refleja en cada prenda que vendemos. Queremos que nuestros clientes conozcan la historia detr\xE1s de cada colecci\xF3n, desde la inspiraci\xF3n hasta el proceso de dise\xF1o y fabricaci\xF3n."),x(),N(9,"p",4),F(10,"En RopaStore, nos esforzamos por crear una experiencia de compra \xFAnica para nuestros clientes. Queremos que sepan que detr\xE1s de cada prenda hay un equipo dedicado que valora la artesan\xEDa, la innovaci\xF3n y la satisfacci\xF3n del cliente. \xA1\xDAnete a nosotros en nuestro viaje de moda y estilo!"),x()())},styles:[".div-container[_ngcontent-%COMP%]{margin:1% 20% 1% 25%;display:grid}.main-titulo[_ngcontent-%COMP%]{display:flex;align-items:center;padding:2%}hr[_ngcontent-%COMP%]{width:35%}.main-titulo[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:2%}img[_ngcontent-%COMP%]{margin:auto;width:100%;height:90%}.text-1[_ngcontent-%COMP%]{font-size:150%;font-family:brandon-grot-w01-light - 400;text-align:center;margin:5% 10%}.text-2[_ngcontent-%COMP%]{font-size:110%;text-align:center;margin:0% 10% 5%}"]})}return t})();var PM=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275cmp=Ae({type:t,selectors:[["app-blog"]],standalone:!0,features:[Re],decls:2,vars:0,template:function(r,i){r&1&&(N(0,"p"),F(1,"blog works!"),x())}})}return t})();var If=(()=>{class t{localStorageKey="listCarrito";getCarrito(n){let r=`${this.localStorageKey}_${n}`;return JSON.parse(localStorage.getItem(r))||[]}agregarAlCarrito(n,r,i){let o=this.getCarrito(n);if(i===null||i<=0){this.eliminarPorId(n,r);return}let s=o.findIndex(([u])=>u===r);s!==-1?o[s][1]+=i:o.push([r,i]);let a=`${this.localStorageKey}_${n}`;localStorage.setItem(a,JSON.stringify(o))}actualizarCarrito(n,r){let i=r.filter(([s,a])=>a!==null&&a>0),o=`${this.localStorageKey}_${n}`;localStorage.setItem(o,JSON.stringify(i))}actualizarCantidad(n,r,i){let o=this.getCarrito(n),s=o.findIndex(([a])=>a===r);if(s!==-1){i===null||i<=0?o.splice(s,1):o[s][1]=i;let a=`${this.localStorageKey}_${n}`;localStorage.setItem(a,JSON.stringify(o))}}eliminarCarrito(n){let r=`${this.localStorageKey}_${n}`;localStorage.removeItem(r)}eliminarPorId(n,r){let o=this.getCarrito(n).filter(([a])=>a!==r),s=`${this.localStorageKey}_${n}`;localStorage.setItem(s,JSON.stringify(o))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Jq(t,e){t&1&&(N(0,"p"),F(1," Soy la descripci\xF3n de un producto. Soy el lugar ideal para agregar detalles sobre tu producto, as\xED como tama\xF1o, materiales, instrucciones de cuidado y de limpieza. Es tambi\xE9n un lugar ideal para destacar por qu\xE9 este producto es especial y c\xF3mo tus clientes se beneficiar\xEDan con \xE9l. "),x())}function Zq(t,e){t&1&&(N(0,"p"),F(1," Soy una pol\xEDtica de devoluci\xF3n y reembolso. Una oportunidad ideal para explicarles a tus clientes qu\xE9 hacer en caso de no estar satisfechos con su compra. Al ofrecerles una pol\xEDtica de reembolso clara y sencilla, generas confianza y credibilidad en tus clientes, pues saben que en tu tienda pueden realizar compras con altos niveles de seguridad. "),x())}function Xq(t,e){t&1&&(N(0,"p"),F(1," Soy la Pol\xEDtica de env\xEDo. Soy el lugar ideal para agregar informaci\xF3n sobre tus m\xE9todos de env\xEDo, costos y embalaje. Ofrecer una pol\xEDtica de reembolso clara y sencilla, genera confianza y credibilidad en tus clientes, pues saben que en tu tienda pueden realizar compras con altos niveles de seguridad. "),x())}var Kw=(()=>{class t{_router=P(ft);_apiServices=P(Un);_firebaseService=P(er);_localStorageService=P(If);producto;imageSrc="Corazon-1.png";listaCarrito=[];cantidad=0;idProducto=0;userId=null;mostrarInfo=[{expanded:!1},{expanded:!1},{expanded:!1}];ngOnInit(){this._firebaseService.getAuthenticatedUser().subscribe(n=>{n&&(this.userId=n?n.uid:null,this.cargarCarrito())}),this.loadProduct()}cargarCarrito(){this.userId?this.listaCarrito=this._localStorageService.getCarrito(this.userId):console.error("User ID es null o undefined. No se puede cargar el carrito.")}agregarAlCarrito(n,r){this.userId?(this._localStorageService.agregarAlCarrito(this.userId,n,r),this.cargarCarrito()):(alert("Debes iniciar sesi\xF3n para agregar productos al carrito."),this._router.navigate(["/login"]))}eliminarProducto(n){this.userId?(this._localStorageService.eliminarPorId(this.userId,n),this.cargarCarrito()):console.error("User ID es null o undefined. No se puede eliminar el producto.")}loadProduct(){let r=this._router.parseUrl(this._router.url).root.children.primary?.segments;if(r&&r.length>0){let i=parseInt(r[r.length-1].path,10);this._apiServices.getProductsById(i).subscribe(o=>{this.idProducto=o.id,this.producto=o,console.log(o),console.log(o.id)})}else console.error("ID de producto no encontrado en la URL.")}meGusta(){this.imageSrc==="Corazon-1.png"?this.imageSrc="Corazon-2.gif":this.imageSrc="Corazon-1.png"}onCantidadChange(n){let r=n.target;this.cantidad=parseInt(r.value,10),console.log("Nuevo valor de cantidad:",this.cantidad)}toggleInfo(n){this.mostrarInfo[n].expanded=!this.mostrarInfo[n].expanded}static \u0275fac=function(r){return new(r||t)};static \u0275cmp=Ae({type:t,selectors:[["app-card-detalle"]],standalone:!0,features:[Re],decls:43,vars:14,consts:[[1,"div-container"],[1,"div-container-1"],["alt","",3,"src"],[1,"div-cantidad"],["type","number",3,"ngModelChange","input","ngModel"],[1,"div-botones"],[1,"div-botones-carrito"],[3,"click"],["alt","Coraz\xF3n",3,"click","src"],[1,"btn-compra"],[1,"info-section"]],template:function(r,i){r&1&&(N(0,"div",0)(1,"div",1),re(2,"img",2),N(3,"p"),F(4),x()(),N(5,"div",1)(6,"h3"),F(7),x(),N(8,"h5"),F(9),ud(10,"currency"),x(),N(11,"div",3)(12,"h5"),F(13,"Cantidad"),x(),N(14,"input",4),ot("ngModelChange",function(s){return dt(i.cantidad,s)||(i.cantidad=s),s}),pe("input",function(s){return i.onCantidadChange(s)}),x()(),N(15,"div",5)(16,"div",6)(17,"button",7),pe("click",function(){return i.agregarAlCarrito(i.idProducto,i.cantidad)}),F(18,"Agregar al Carrito"),x(),N(19,"img",8),pe("click",function(){return i.meGusta()}),x()(),N(20,"button",9),F(21,"Realizar Compra"),x()(),N(22,"div",10)(23,"button",7),pe("click",function(){return i.toggleInfo(0)}),F(24,"INFORMACI\xD3N DE PRODUCTO "),N(25,"span"),F(26),x()(),re(27,"hr"),Wt(28,Jq,2,0,"p"),x(),N(29,"div",10)(30,"button",7),pe("click",function(){return i.toggleInfo(1)}),F(31,"POL\xCDTICA DE DEVOLUCI\xD3N Y REEMBOLSO "),N(32,"span"),F(33),x()(),re(34,"hr"),Wt(35,Zq,2,0,"p"),x(),N(36,"div",10)(37,"button",7),pe("click",function(){return i.toggleInfo(2)}),F(38," INFORMACI\xD3N DEL ENV\xCDO "),N(39,"span"),F(40),x()(),re(41,"hr"),Wt(42,Xq,2,0,"p"),x()()()),r&2&&(Y(2),Wa("src",i.producto==null?null:i.producto.image,nn),Y(2),yr(" ",i.producto==null?null:i.producto.description," "),Y(3),yr(" ",i.producto==null?null:i.producto.title," "),Y(2),yr(" ",RC(10,12,i.producto==null?null:i.producto.price)," "),Y(5),it("ngModel",i.cantidad),Y(5),ut("src",i.imageSrc,nn),Y(7),Ln(i.mostrarInfo[0].expanded?"\u2796":"\u2795"),Y(2),rn(i.mostrarInfo[0].expanded?28:-1),Y(5),Ln(i.mostrarInfo[1].expanded?"\u2796":"\u2795"),Y(2),rn(i.mostrarInfo[1].expanded?35:-1),Y(5),Ln(i.mostrarInfo[2].expanded?"\u2796":"\u2795"),Y(2),rn(i.mostrarInfo[2].expanded?42:-1))},dependencies:[Ji,md,cn,sn,Pc,an,Yt],styles:[".div-container[_ngcontent-%COMP%]{display:flex;justify-content:space-around;padding:1%;margin:1% 20%}.div-cantidad[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;padding:1%;margin:20% 0%}.div-cantidad[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:20%;margin-left:3%;padding:1%;text-align:center;background-color:#fff;border:2px solid gray;color:#000}.div-container-1[_ngcontent-%COMP%]{width:50%;display:grid;padding:2%}.div-container-1[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;padding:3%}.div-container-1[_ngcontent-%COMP%]   div[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{margin:3%}.div-botones-carrito[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:83%}button[_ngcontent-%COMP%]{width:60%;padding:1%;background-color:#fff;color:#000;border:2px solid gray}.div-botones-carrito[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{padding:1%;width:13%}.div-botones[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}h3[_ngcontent-%COMP%]{text-align:center;margin:1%}h5[_ngcontent-%COMP%]{margin:1%}.info-section[_ngcontent-%COMP%]{margin-bottom:10px}.info-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:flex;justify-content:space-between;width:100%;cursor:pointer;font-size:16px;text-align:left;border:none}.info-section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;border-top:none}hr[_ngcontent-%COMP%]{height:3%;background-color:#000}"]})}return t})();function e4(t,e){t&1&&re(0,"app-header")}function t4(t,e){t&1&&re(0,"app-footer")}var OM=(()=>{class t{showHeaderFooter=!0;_router=P(ft);ngOnInit(){this.posicionInicio(),this.loadLogin()}loadLogin(){this._router.events.subscribe(n=>{n instanceof In&&(this.showHeaderFooter=!(n.url==="/login"||n.url==="/registrar"))})}posicionInicio(){this._router.events.subscribe(n=>{n instanceof In&&window.scrollTo(0,0)})}static \u0275fac=function(r){return new(r||t)};static \u0275cmp=Ae({type:t,selectors:[["app-root"]],standalone:!0,features:[Re],decls:3,vars:2,template:function(r,i){r&1&&(Wt(0,e4,1,0,"app-header"),re(1,"router-outlet"),Wt(2,t4,1,0,"app-footer")),r&2&&(rn(i.showHeaderFooter?0:-1),Y(2),rn(i.showHeaderFooter?2:-1))},dependencies:[iy,MM,xM]})}return t})();function n4(t,e){if(t&1&&(N(0,"option",4),F(1),x()),t&2){let n=e.$implicit;ut("value",n),Y(),Ln(n)}}function r4(t,e){if(t&1&&(N(0,"option",4),F(1),x()),t&2){let n=e.$implicit;ut("value",n),Y(),Ln(n)}}function i4(t,e){if(t&1){let n=Fn();N(0,"app-card",8),pe("click",function(){let i=mn(n).$implicit,o=lt();return yn(o.detalleProducto(i.id))}),x()}if(t&2){let n=e.$implicit,r=lt();ut("productCard",n)("typeMoneda",r.selectedMoneda)}}var kM=(()=>{class t{_apiServices=P(Un);_router=P(ft);productList=[];listCategoria=[];selectedCategoria="";listMonedas=["ARS","BOB","BRL","CLP","CNY","COP","EUR","INR","JPY","KRW","MXN","PEN","PYG","RUB","UYU","USD","VEF"];selectedMoneda="";ngOnInit(){this.loadProducts(),this.loadCategories()}loadProducts(){this._apiServices.getAllProducts().subscribe(n=>{this.productList=n,console.log(n)})}loadCategories(){this._apiServices.getAllCategory().subscribe(n=>{this.listCategoria=n,console.log(n)})}filterCategory(){this.selectedCategoria?this._apiServices.getProductsByCategory(this.selectedCategoria).subscribe(n=>{this.productList=n,console.log(n)}):(this.selectedCategoria="CategoriaList",this.loadProducts())}detalleProducto(n){console.log(n),this._router.navigate(["/tienda",n])}static \u0275fac=function(r){return new(r||t)};static \u0275cmp=Ae({type:t,selectors:[["app-tienda"]],standalone:!0,features:[Re],decls:15,vars:2,consts:[[1,"div-tienda"],[1,"div-filtro"],["id","currency-select",1,"currency-select-moneda",3,"ngModelChange","ngModel"],["value","","disabled","","selected",""],[3,"value"],["id","currency-select",1,"currency-select-categoria",3,"ngModelChange","change","ngModel"],[1,"div-card"],[3,"productCard","typeMoneda"],[3,"click","productCard","typeMoneda"]],template:function(r,i){r&1&&(N(0,"div",0)(1,"div",1)(2,"select",2),ot("ngModelChange",function(s){return dt(i.selectedMoneda,s)||(i.selectedMoneda=s),s}),N(3,"option",3),F(4,"Moneda"),x(),gr(5,n4,2,2,"option",4,Hi),x(),N(7,"select",5),ot("ngModelChange",function(s){return dt(i.selectedCategoria,s)||(i.selectedCategoria=s),s}),pe("change",function(){return i.filterCategory()}),N(8,"option",3),F(9,"Categor\xEDa"),x(),gr(10,r4,2,2,"option",4,Hi),x()(),N(12,"div",6),gr(13,i4,1,2,"app-card",7,Hi),x()()),r&2&&(Y(2),it("ngModel",i.selectedMoneda),Y(3),mr(i.listMonedas),Y(2),it("ngModel",i.selectedCategoria),Y(3),mr(i.listCategoria),Y(3),mr(i.productList))},dependencies:[cn,MT,NT,Jd,an,Yt,Es],styles:[".div-card[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(4,1fr);gap:16px;padding:20px;box-sizing:border-box;margin:0% 10%}.currency-select-moneda[_ngcontent-%COMP%]{padding:.5%;border:1px solid black;background-color:#fff;color:#000;text-align:center;border-radius:4px;width:50%;max-width:100px}.currency-select-categoria[_ngcontent-%COMP%]{padding:.5%;border:1px solid black;background-color:#fff;color:#000;text-align:center;border-radius:4px;width:50%;max-width:160px}.div-filtro[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly;margin:3% 10%}@media (max-width: 1200px){.div-tienda[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr)}}@media (max-width: 992px){.div-tienda[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}@media (max-width: 768px){.div-tienda[_ngcontent-%COMP%]{grid-template-columns:1fr}}"]})}return t})();var o4=(t,e)=>e.id;function s4(t,e){if(t&1){let n=Fn();re(0,"app-card",1),N(1,"div",2)(2,"div",3)(3,"input",4),ot("ngModelChange",function(i){let o=mn(n).$implicit,s=lt();return dt(s.listCantidad[o.id],i)||(s.listCantidad[o.id]=i),yn(i)}),x()(),N(4,"button",5),pe("click",function(){let i=mn(n).$implicit,o=lt();return yn(o.eliminarProducto(i.id,i.id))}),F(5,"Eliminar"),x()()}if(t&2){let n=e.$implicit,r=lt();ut("productCard",n),Y(3),it("ngModel",r.listCantidad[n.id])}}var FM=(()=>{class t{_apiServices=P(Un);_localStorageService=P(If);_firebaseService=P(er);listaCarrito=[];listProductos=[];listIds=[];listCantidad=[];cantidad=0;userId="";ngOnInit(){this._firebaseService.getAuthenticatedUser().subscribe(n=>{n&&(this.userId=n.uid,this.listaCarrito=this._localStorageService.getCarrito(this.userId),this.listIds=this.listaCarrito.map(([r])=>r),console.log(this.listIds),this.listCantidad=this.listaCarrito.map(([r,i])=>i),console.log(this.listCantidad),this.loadProducts(),console.log(this.userId))})}loadProducts(){this.listIds.forEach(n=>{this._apiServices.getProductsById(n).subscribe(r=>{this.listProductos.push(r)})}),console.log(this.listProductos)}restarCantidad(n){this.listCantidad[n]>1&&this.listCantidad[n]--}sumarCantidad(n){this.listCantidad[n]++,this.listCantidad[n]=0}eliminarProducto(n,r){let i=this.listCantidad[r],o=this.listaCarrito.find(([s])=>s===n)?.[1]||0;i>o?alert(`No se puede eliminar esa cantidad. Cantidad actual: ${o}`):(this._localStorageService.actualizarCantidad(this.userId,n,o-i),this.listaCarrito=this._localStorageService.getCarrito(this.userId),this.listIds=this.listaCarrito.map(([s])=>s),this.listCantidad=this.listaCarrito.map(([,s])=>s),this.listProductos=this.listProductos.filter(s=>s.id!==n||o-i>0))}static \u0275fac=function(r){return new(r||t)};static \u0275cmp=Ae({type:t,selectors:[["app-carrito"]],standalone:!0,features:[Re],decls:3,vars:0,consts:[[1,"div-container"],[3,"productCard"],[1,"div-container-btn"],[1,"div-btn-cantidad"],["type","number",3,"ngModelChange","ngModel"],[1,"btn-eliminar",3,"click"]],template:function(r,i){r&1&&(N(0,"div",0),gr(1,s4,6,2,null,null,o4),x()),r&2&&(Y(),mr(i.listProductos))},dependencies:[Es,cn,sn,Pc,an,Yt],styles:[".div-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(4,1fr);gap:16px;padding:20px;box-sizing:border-box;margin:0% 10%}.div-container-btn[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center}.div-btn-cantidad[_ngcontent-%COMP%]{display:flex;justify-content:center;margin:2%}.div-btn-cantidad[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background-color:#fff;color:#000;text-align:center;width:20%;margin-left:3%;margin-right:3%}.div-btn-cantidad[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:2%;background-color:#00f;border:solid black}.btn-eliminar[_ngcontent-%COMP%]{margin:5% 0% 0% 25%;padding:2%;width:50%;background-color:red;border:solid black}"]})}return t})();var LM=(()=>{class t{_firebaseService=P(er);_router=P(ft);emailInput="";passwordInput="";ngOnInit(){}registrarse(){this._router.navigate(["/registrar"])}loginUser(){this.emailInput&&this.passwordInput?this._firebaseService.loginUser(this.emailInput,this.passwordInput).subscribe(n=>{n&&(console.log("Inicio de sesi\xF3n exitoso:",n),this._router.navigate(["/home"]))},n=>{console.error("Email o Contrase\xF1a Incorrectas",n)}):(console.error("Email y contrase\xF1a son requeridos"),alert("Email y contrase\xF1a son requeridos"))}static \u0275fac=function(r){return new(r||t)};static \u0275cmp=Ae({type:t,selectors:[["app-login"]],standalone:!0,features:[Re],decls:21,vars:2,consts:[[1,"section-login"],["action",""],[1,"mb-3"],["for","exampleFormControlInput1",1,"form-label"],["type","email","id","exampleFormControlInput1","name","email","placeholder","name@example.com",1,"form-control",3,"ngModelChange","ngModel"],[1,"row","g-3","align-items-center"],[1,"col-auto"],["for","inputPassword6",1,"col-form-label"],["type","password","id","inputPassword6","name","password","aria-describedby","passwordHelpInline",1,"form-control",3,"ngModelChange","ngModel"],["id","passwordHelpInline",1,"form-text"],[1,"div-botones"],[3,"click"],["type","button",3,"click"]],template:function(r,i){r&1&&(N(0,"section",0)(1,"form",1)(2,"h2"),F(3,"RopaStore"),x(),N(4,"div",2)(5,"label",3),F(6,"Email"),x(),N(7,"input",4),ot("ngModelChange",function(s){return dt(i.emailInput,s)||(i.emailInput=s),s}),x()(),N(8,"div",5)(9,"div",6)(10,"label",7),F(11,"Contrase\xF1a"),x(),N(12,"input",8),ot("ngModelChange",function(s){return dt(i.passwordInput,s)||(i.passwordInput=s),s}),x()(),N(13,"div",6)(14,"span",9),F(15," Debe tener entre 8 y 20 caracteres. "),x()()(),N(16,"div",10)(17,"button",11),pe("click",function(){return i.loginUser()}),F(18,"Iniciar Sesion"),x(),N(19,"button",12),pe("click",function(){return i.registrarse()}),F(20,"Registrarce"),x()()()()),r&2&&(Y(7),it("ngModel",i.emailInput),Y(5),it("ngModel",i.passwordInput))},dependencies:[cn,Yd,sn,an,Kd,Yt,Nc],styles:["section[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh;background-color:#bfdbff}form[_ngcontent-%COMP%]{background-color:#fff;padding:2rem;border-radius:8px;box-shadow:0 4px 8px #0000001a;max-width:400px;width:100%}h2[_ngcontent-%COMP%]{text-align:center;margin-bottom:1.5rem;font-family:Roboto,sans-serif;color:#333}.form-label[_ngcontent-%COMP%]{font-weight:700;font-family:Roboto,sans-serif;color:#555}.form-control[_ngcontent-%COMP%]{border:1px solid #cccccc;padding:.5rem;border-radius:4px;font-family:Roboto,sans-serif}.form-text[_ngcontent-%COMP%]{color:#888;font-size:.875rem}.div-botones[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:1.5rem}button[_ngcontent-%COMP%]{width:48%;padding:.75rem;background-color:#007bff;border:none;border-radius:4px;color:#fff;font-weight:700;cursor:pointer;transition:background-color .3s ease}button[type=button][_ngcontent-%COMP%]{background-color:#28a745}button[_ngcontent-%COMP%]:hover{opacity:.9}"]})}return t})();function a4(t,e){if(t&1&&re(0,"img",14),t&2){let n=lt();ut("src",n.imagePreview,nn)}}var VM=(()=>{class t{_firebaseService=P(er);_router=P(ft);nombre="";apellido="";email="";password="";imagePreview=null;selectedFile;ngOnInit(){}registrarUser(){let n={userId:"",nombre:this.nombre,apellido:this.apellido,email:this.email,password:this.password,photoURL:""};this._firebaseService.registrarUser(n,this.selectedFile).subscribe(r=>{r&&(console.log("Usuario registrado:",r),this._router.navigate(["/home"]))},r=>{console.error("Error en el registro:",r)})}onFileSelected(n){let r=n.target.files?.[0];if(r){this.selectedFile=r;let i=new FileReader;i.onload=()=>{this.imagePreview=i.result},i.readAsDataURL(r)}}static \u0275fac=function(r){return new(r||t)};static \u0275cmp=Ae({type:t,selectors:[["app-registrar"]],standalone:!0,features:[Re],decls:30,vars:5,consts:[[1,"section-registrar"],[1,"mb-3"],["for","nombre",1,"form-label"],["type","text","id","nombre","name","nombre",1,"form-control",3,"ngModelChange","ngModel"],["for","apellido",1,"form-label"],["type","text","id","apellido","name","apellido",1,"form-control",3,"ngModelChange","ngModel"],["for","email",1,"form-label"],["type","email","id","email","name","email",1,"form-control",3,"ngModelChange","ngModel"],["for","password",1,"form-label"],["type","password","id","password","name","password",1,"form-control",3,"ngModelChange","ngModel"],["for","profileImage","id","label-file",1,"form-label"],["type","file","id","profileImage",1,"form-control",3,"change"],[1,"small-file"],["id","imagePreview"],["alt","Vista previa de la imagen",3,"src"],[3,"click"]],template:function(r,i){r&1&&(N(0,"section",0)(1,"form")(2,"h2"),F(3,"Registrate"),x(),N(4,"div",1)(5,"label",2),F(6,"Nombre"),x(),N(7,"input",3),ot("ngModelChange",function(s){return dt(i.nombre,s)||(i.nombre=s),s}),x()(),N(8,"div",1)(9,"label",4),F(10,"Apellido"),x(),N(11,"input",5),ot("ngModelChange",function(s){return dt(i.apellido,s)||(i.apellido=s),s}),x()(),N(12,"div",1)(13,"label",6),F(14,"Email"),x(),N(15,"input",7),ot("ngModelChange",function(s){return dt(i.email,s)||(i.email=s),s}),x()(),N(16,"div",1)(17,"label",8),F(18,"Contrase\xF1a"),x(),N(19,"input",9),ot("ngModelChange",function(s){return dt(i.password,s)||(i.password=s),s}),x()(),N(20,"div",1)(21,"label",10),F(22,"Sube tu foto de perfil"),x(),N(23,"input",11),pe("change",function(s){return i.onFileSelected(s)}),x(),N(24,"small",12),F(25,"Formatos aceptados: JPG, PNG, GIF"),x()(),N(26,"div",13),Wt(27,a4,1,1,"img",14),x(),N(28,"button",15),pe("click",function(){return i.registrarUser()}),F(29,"Registrar"),x()()()),r&2&&(Y(7),it("ngModel",i.nombre),Y(4),it("ngModel",i.apellido),Y(4),it("ngModel",i.email),Y(4),it("ngModel",i.password),Y(8),rn(i.imagePreview?27:-1))},dependencies:[cn,Yd,sn,an,Kd,Yt,Nc],styles:["section[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh;background-color:#bfdbff}form[_ngcontent-%COMP%]{background-color:#fff;padding:2rem;border-radius:8px;box-shadow:0 4px 8px #0000001a;max-width:400px;width:100%}h2[_ngcontent-%COMP%]{text-align:center;margin-bottom:1.5rem;font-family:Roboto,sans-serif;color:#333}.form-label[_ngcontent-%COMP%]{font-weight:700;font-family:Roboto,sans-serif;color:#555}.form-control[_ngcontent-%COMP%]{border:1px solid #cccccc;padding:.5rem;border-radius:4px;font-family:Roboto,sans-serif}button[_ngcontent-%COMP%]{width:100%;padding:.75rem;background-color:#007bff;border:none;border-radius:4px;color:#fff;font-weight:700;cursor:pointer;transition:background-color .3s ease}button[_ngcontent-%COMP%]:hover{background-color:#0056b3}#profileImage[_ngcontent-%COMP%]{padding:3%}#imagePreview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;height:auto}"]})}return t})();var UM=[{path:"home",component:aT},{path:"tienda",component:kM},{path:"tienda/:id",component:Kw},{path:"home/:name",component:Kw},{path:"acerca-de",component:NM},{path:"blog",component:PM},{path:"contacto",component:sT},{path:"carrito",component:FM},{path:"login",component:LM},{path:"registrar",component:VM},{path:"**",redirectTo:"home",pathMatch:"full"}];var jM={production:!1,firebaseConfig:{apiKey:"AIzaSyBZZhNclwVKeonoqt3qwd3rgUjo4QV9c4Y",authDomain:"proyecto-angular17-ropastore.firebaseapp.com",databaseURL:"https://proyecto-angular17-ropastore-default-rtdb.firebaseio.com",projectId:"proyecto-angular17-ropastore",storageBucket:"proyecto-angular17-ropastore.appspot.com",messagingSenderId:"770186169543",appId:"1:770186169543:web:0f149eafafff430de942e2"}};var BM={providers:[VC({eventCoalescing:!0}),oT(UM),pD(),iS(()=>oS(jM.firebaseConfig)),nA(()=>oA()),KR(()=>JR()),DM(()=>SM())]};ED(OM,BM).catch(t=>console.error(t));
